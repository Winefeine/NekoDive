/*! For license information please see c__LakexTextEditor.b70a97e7.async.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[1400,15,16,26,1397],{1016:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(0),o=r.n(n),a=r(6),i=r.n(a),u=r(1434),c={link:"Link",text:"Text"},l=function(e){var t,r=e.user,n=void 0===r?{}:r,a=e.type,i=void 0===a?c.text:a,l=e.withCard,s=e.children,f=e.style,d=void 0===f?{}:f,p=e.className,m=void 0===p?"":p,y=e.target,h=n.name,b=n.login;switch(i){case c.link:t=o.a.createElement("a",{href:"/".concat(b),"data-testid":"login-a-tag","data-desktoptarget":"_browser",target:y,style:d,className:m},s||h);break;case c.text:default:t=s||h}return l?o.a.createElement(u.a,{user:n,style:d,className:m},t):t};l.propTypes={user:i.a.object.isRequired,withCard:i.a.bool,style:i.a.object,className:i.a.string,type:i.a.oneOf([c.link,c.text,c.card]),children:i.a.any,target:i.a.object},t.b=l},115:function(e,t,r){"use strict";r(3155);var n=r(1259);r(310);t.a=n.a},1220:function(e,t,r){"use strict";r.d(t,"b",(function(){return l})),r.d(t,"a",(function(){return s}));var n=r(0),o=r.n(n),a=r(163),i=r(34);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,u=[],c=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function l(){var e=u(o.a.useState(a.b.onLine),2),t=e[0],r=e[1];return o.a.useEffect((function(){function e(e){r(e)}return a.b.on(a.a,e),function(){a.b.off(a.a,e)}}),[]),t}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,n=l(),a=Array.from(t);a.push(n),o.a.useEffect((function(){n||!i.c?e():null==r||r()}),a)}},1222:function(e,t,r){"use strict";r(40);var n=r(9),o=(r(53),r(12)),a=r(0),i=r.n(a),u=r(6),c=r.n(u),l=r(63),s=r(5),f=r.n(s),d=r(47),p="index-module_mainInput_x4D9t",m="index-module_verifyResult_pdxsH",y="index-module_success_NhSta",h="index-module_inputVerify_kl-bC",b="index-module_editIcon_eXpln",v="index-module_promoCodeDefault_6iUh6";function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function _(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=g(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=g(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==g(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w(){w=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof b?t:b,i=Object.create(a.prototype),u=new N(n||[]);return o(i,"_invoke",{value:S(e,r,u)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",p="suspendedYield",m="executing",y="completed",h={};function b(){}function v(){}function _(){}var E={};l(E,i,(function(){return this}));var O=Object.getPrototypeOf,x=O&&O(O(C([])));x&&x!==r&&n.call(x,i)&&(E=x);var A=_.prototype=b.prototype=Object.create(E);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function r(o,a,i,u){var c=f(e[o],e,a);if("throw"!==c.type){var l=c.arg,s=l.value;return s&&"object"==g(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,u)}),(function(e){r("throw",e,i,u)})):t.resolve(s).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,u)}))}u(c.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function S(t,r,n){var o=d;return function(a,i){if(o===m)throw Error("Generator is already running");if(o===y){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var u=n.delegate;if(u){var c=P(u,n);if(c){if(c===h)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var l=f(t,r,n);if("normal"===l.type){if(o=n.done?y:p,l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=y,n.method="throw",n.arg=l.arg)}}}function P(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,P(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function C(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(g(t)+" is not iterable")}return v.prototype=_,o(A,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:v,configurable:!0}),v.displayName=l(_,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,l(e,c,"GeneratorFunction")),e.prototype=Object.create(A),e},t.awrap=function(e){return{__await:e}},k(T.prototype),l(T.prototype,u,(function(){return this})),t.AsyncIterator=T,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new T(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(A),l(A,c,"Generator"),l(A,i,(function(){return this})),l(A,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=C,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return u.type="throw",u.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],u=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),L(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:C(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}function E(e,t,r,n,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,o)}function O(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){E(a,n,o,i,u,"next",e)}function u(e){E(a,n,o,i,u,"throw",e)}i(void 0)}))}}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,u=[],c=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return A(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?A(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var k=function(e){var t=e.value,r=e.orderType,u=e.packageType,c=e.promoUsage,s=e.onChange,g=e.onVerifySuccess,E=e.verifyStyle,A=x(Object(a.useState)(!1),2),k=A[0],T=A[1],S=x(Object(a.useState)({}),2),P=S[0],j=S[1],L=x(Object(a.useState)(!1),2),N=L[0],C=L[1],I=function(){var e=O(w().mark((function e(){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",d.a.promo.verify({code:t,promoUsage:c,order_type:r,package_type:u},{ignoreGlobalMessage:!0}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=O(w().mark((function e(){var t;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=P.isSpace?d.a.pay.close:d.a.memberPay.close,e.abrupt("return",t({order_id:P.order_id},{ignoreGlobalMessage:!0}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){I().then((function(e){C(!1),j(e),e.success&&g(e.promo)})).catch((function(){C(!1),j({success:!1,message:__("优惠码无效")})}))},D=function(e){P.success&&j({success:!1,message:__("优惠码已修改，请重新验证")}),s&&s(e)},B=function(){var e=O(w().mark((function e(){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.prev=1,e.next=4,M();case 4:return e.next=6,R();case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),C(!1),j({success:!1,message:__("解绑失败")});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),Y=f()(m,_({},y,P.success));return k?i.a.createElement("span",null,i.a.createElement(o.a,{"data-testid":"verifier-input",type:"text",value:t,onChange:function(e){return D(e.target.value&&e.target.value.trim())},suffix:i.a.createElement("a",{className:f()(E,h),onClick:R,disabled:N,"data-testid":"verifier-a"},__("验证")),className:p,placeholder:__("在此输入")}),i.a.createElement("div",{className:Y,"data-testid":"verifier-message"},i.a.createElement("span",null,P.message),P.isLocked?i.a.createElement(n.a,{type:"link",disabled:N,onClick:B},N?__("解绑中"):__("解绑")):null)):i.a.createElement("span",{className:v,onClick:function(){return T(!0)}},__("填写优惠码"),i.a.createElement(l.b,{name:"edit-border",className:b,width:14,height:14}))};k.propTypes={value:c.a.string,promoUsage:c.a.string,orderType:c.a.number,packageType:c.a.number,onChange:c.a.func,onVerifySuccess:c.a.func};t.a=k},1223:function(e,t,r){"use strict";var n=r(0);t.a=function(e){var t=Object(n.useRef)(e);return t.current=e,t}},1231:function(e,t,r){e.exports=function(){"use strict";return function(e,t,r){var n=function(e,t){if(!t||!t.length||1===t.length&&!t[0]||1===t.length&&Array.isArray(t[0])&&!t[0].length)return null;var r;1===t.length&&t[0].length>0&&(t=t[0]),r=(t=t.filter((function(e){return e})))[0];for(var n=1;n<t.length;n+=1)t[n].isValid()&&!t[n][e](r)||(r=t[n]);return r};r.max=function(){var e=[].slice.call(arguments,0);return n("isAfter",e)},r.min=function(){var e=[].slice.call(arguments,0);return n("isBefore",e)}}}()},1239:function(e,t,r){"use strict";var n=r(178),o=r.n(n),a=r(964),i=r.n(a),u=r(0),c=r(1223);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,u=[],c=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var y="undefined"!=typeof window?u.useLayoutEffect:u.useEffect,h={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0,offsetHeight:0,scrollHeight:0,offsetWidth:0,scrollWidth:0};t.a=function(){var e=p(Object(u.useState)(null),2),t=e[0],r=e[1],n=p(Object(u.useState)(h),2),a=n[0],l=n[1],s=Object(c.a)(t),d=Object(u.useMemo)((function(){return new window.ResizeObserver((function(e){if(e[0]){var t=e[0].contentRect;i()(e[0].contentRect,a)||l(f(f({},o()(t,["x","y","width","height","top","left","bottom","right"])),o()(s.current,["offsetHeight","scrollHeight","offsetWidth","scrollWidth"])))}}))}),[]);return y((function(){if(t&&Object.prototype.toString.call(t).slice(8,-1).includes("HTML"))return d.observe(t),function(){d.disconnect()}}),[t]),[r,a]}},1249:function(e,t,r){e.exports=r(1225)},1250:function(e,t,r){"use strict";r.d(t,"c",(function(){return b})),r.d(t,"f",(function(){return g})),r.d(t,"k",(function(){return w})),r.d(t,"m",(function(){return O})),r.d(t,"e",(function(){return A})),r.d(t,"h",(function(){return T})),r.d(t,"j",(function(){return S})),r.d(t,"d",(function(){return j})),r.d(t,"i",(function(){return C})),r.d(t,"a",(function(){return M})),r.d(t,"b",(function(){return R})),r.d(t,"l",(function(){return D})),r.d(t,"g",(function(){return B}));var n=r(1008),o=r.n(n),a=r(150),i=r(149),u=r(47),c=r(157),l=r(1518);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(){m=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var a=t&&t.prototype instanceof g?t:g,i=Object.create(a.prototype),u=new N(n||[]);return o(i,"_invoke",{value:S(e,r,u)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var p="suspendedStart",y="suspendedYield",h="executing",b="completed",v={};function g(){}function _(){}function w(){}var E={};l(E,i,(function(){return this}));var O=Object.getPrototypeOf,x=O&&O(O(C([])));x&&x!==r&&n.call(x,i)&&(E=x);var A=w.prototype=g.prototype=Object.create(E);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function r(o,a,i,u){var c=d(e[o],e,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==s(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,i,u)}),(function(e){r("throw",e,i,u)})):t.resolve(f).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,u)}))}u(c.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function S(t,r,n){var o=p;return function(a,i){if(o===h)throw Error("Generator is already running");if(o===b){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var u=n.delegate;if(u){var c=P(u,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=b,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var l=d(t,r,n);if("normal"===l.type){if(o=n.done?b:y,l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=b,n.method="throw",n.arg=l.arg)}}}function P(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,P(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var a=d(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function C(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(s(t)+" is not iterable")}return _.prototype=w,o(A,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:_,configurable:!0}),_.displayName=l(w,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,l(e,c,"GeneratorFunction")),e.prototype=Object.create(A),e},t.awrap=function(e){return{__await:e}},k(T.prototype),l(T.prototype,u,(function(){return this})),t.AsyncIterator=T,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new T(f(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(A),l(A,c,"Generator"),l(A,i,(function(){return this})),l(A,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=C,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return u.type="throw",u.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],u=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),L(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:C(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function y(e,t,r,n,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,o)}function h(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){y(a,n,o,i,u,"next",e)}function u(e){y(a,n,o,i,u,"throw",e)}i(void 0)}))}}function b(e,t){return v.apply(this,arguments)}function v(){return v=h(m().mark((function e(t,r){var n,o,a=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>2&&void 0!==a[2]?a[2]:{useOriginResp:!1},e.next=3,u.a.templates.v2.useTemplate({template_id:r.id,book_id:t.id,doc_id:n.docId},{useOriginResp:n.useOriginResp});case 3:return o=e.sent,Object(c.spmClick)(l.a.TEMPLATE_USAGE,{id:r.id,type:r.type,format:r.format,name:r.name,platform:n.isDesktop?"desktop":"pc"}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}function g(e){return _.apply(this,arguments)}function _(){return(_=h(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.templates.v2.destroy({id:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e,t){return E.apply(this,arguments)}function E(){return(E=h(m().mark((function e(t,r){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.templates.v2.findOne({id:t,usage:r});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e,t){return x.apply(this,arguments)}function x(){return(x=h(m().mark((function e(t,r){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.templates.v2.update({id:t,name:r});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e,t,r,n,o){return k.apply(this,arguments)}function k(){return k=h(m().mark((function e(t,r,n,o,i){var c,l,s,f=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=f.length>5&&void 0!==f[5]?f[5]:null,l=f.length>6&&void 0!==f[6]&&f[6],s={target_id:t,target_type:r,template_type:n,format:a.TYPE_FORMAT_MAP[o],type:o,name:i,in_edit:l},null!==c&&(s.doc_id=c),e.next=6,u.a.templates.v2.create(s);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)}))),k.apply(this,arguments)}function T(e){var t={lakesheet:"https://gw.alipayobjects.com/zos/bmw-prod/766284e3-a150-4438-a294-171a15cf216b.svg",laketable:"https://gw.alipayobjects.com/mdn/prod_resource/afts/img/A*W_NeRqkOsJsAAAAAAAAAAAAAARQnAQ",lake:"https://gw.alipayobjects.com/zos/bmw-prod/7c85db16-e017-4002-b37c-77dcf275d31f.svg",lakemind:"https://gw.alipayobjects.com/mdn/prod_resou/afts/img/A*R1-oT6osRqQAAAAAAAAAAAAAARQnAQ",lakeboard:"https://gw.alipayobjects.com/mdn/prod_resou/afts/img/A*R1-oT6osRqQAAAAAAAAAAAAAARQnAQ",lakeshow:"https://gw.alipayobjects.com/mdn/prod_resou/afts/img/A*-GRzR6CgSGUAAAAAAAAAAAAAARQnAQ"};return e.cover?e.cover:t[e.format]||t.lake}function S(e,t){return P.apply(this,arguments)}function P(){return(P=h(m().mark((function e(t,r){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.docs.findOne({book_id:r,id:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e,t,r){return L.apply(this,arguments)}function L(){return(L=h(m().mark((function e(t,r,n){var o,a,i,c,l;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(t,r);case 2:if(o=e.sent,a="/go/doc/".concat(o.id,"/edit"),"doc_toc"!==(null==n?void 0:n.create_from)){e.next=12;break}return i=o.id,e.next=8,u.a.docs.addToCatalog({ids:[i],book_id:t.id,target_node_uuid:n.toc_node_uuid,action:"prependChild"});case 8:return(c=new URLSearchParams).set("toc_node_uuid",n.toc_node_uuid),window.location.href="".concat(a,"?").concat(c.toString()),e.abrupt("return");case 12:return l=o.id,e.next=15,u.a.docs.addToCatalog({ids:[l],book_id:t.id,target_node_uuid:null,action:"prependChild"});case 15:window.location.href=a;case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.book_id,r=e.group_id,n=e.include_personal,o=e.official_channel,i=[],u={limit:e.limit,format:e.format,include_types:""};return t&&(i.push(a.TEMPLATE_TYPE_MAP.BOOK),u.book_id=t),r&&(i.push(a.TEMPLATE_TYPE_MAP.GROUP),u.group_id=r),o&&(i.push(a.TEMPLATE_TYPE_MAP.OFFICIAL),u.official_channel=o),n&&i.push(a.TEMPLATE_TYPE_MAP.PERSONAL),i.length&&(u.include_types=i.join(",")),u}function C(){return I.apply(this,arguments)}function I(){return I=h(m().mark((function e(){var t,r,n,o,i,c=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:{},r=c.length>1&&void 0!==c[1]?c[1]:{},e.next=4,u.a.templates.v2.find(N(t));case 4:return n=e.sent,o=new URLSearchParams(window.location.search),i=o.has("isSupportTable"),r.isDesktop&&!i&&(n.data=n.data.filter((function(e){return e.format!==a.TYPE_FORMAT_MAP.Table}))),Array.isArray(n.meta.official)&&(n.meta.official=n.meta.official.map((function(e){return d(d({},e),{},{name:"en-us"!==r.locale?e.name_zh:e.name_en})}))),e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)}))),I.apply(this,arguments)}function M(e){var t;return!(null==e||null===(t=e.abilities)||void 0===t||!t.create_doc)}function R(e){var t;return Boolean("Group"===(null==e?void 0:e.type)&&(null==e||null===(t=e.abilities)||void 0===t?void 0:t.read_private))}function D(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return{book_id:M(e)?e.id:void 0,group_id:R(t)?t.id:void 0,include_personal:r}}function B(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.filter((function(e){return!!i.MIXING_BOOK_TYPES.includes(e.type)}));return o()(t)?r:r.filter((function(e){return e.user_id===t.id}))}},1337:function(e,t,r){"use strict";r.d(t,"h",(function(){return C.d})),r.d(t,"g",(function(){return C.c})),r.d(t,"f",(function(){return C.b})),r.d(t,"c",(function(){return C.a})),r.d(t,"m",(function(){return C.e})),r.d(t,"i",(function(){return M})),r.d(t,"j",(function(){return R})),r.d(t,"a",(function(){return A})),r.d(t,"n",(function(){return L})),r.d(t,"k",(function(){return ie})),r.d(t,"b",(function(){return F})),r.d(t,"e",(function(){return ne})),r.d(t,"d",(function(){return ue})),r.d(t,"l",(function(){return ce}));r(40);var n=r(9),o=(r(48),r(11)),a=r(0),i=r.n(a),u=r(6),c=r.n(u),l=r(14),s=r.n(l),f=r(5),d=r.n(f),p=r(157),m=r(87),y=r(74),h=r(382),b=r(50),v=r(84),g=r(20),_=r(963),w="index-module_buyButton_pN7y0";function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,u=[],c=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?O(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function x(e){var t=e.organization,r=e.targetLevel,o=e.type,u=e.text,c=e.className,l=e.paySource,s=void 0===l?y.LIMIT_SCENE.org_other_buy:l,f=m.a.isFree(t),p=f?g.PAY_MODAL_ACTION.buy:g.PAY_MODAL_ACTION.renew,h=E(Object(a.useState)(!1),2),b=h[0],v=h[1],O=u||(f?__("升级"):__("续费")),x=window.location,A="/r/organizations/dashboard/cashier"===(null==x?void 0:x.pathname),k=null==x?void 0:x.pathname.startsWith("/r/organizations/dashboard");if(!A){var T=m.a.buildOrgPayLink({action:f?"buy":"renew",targetLevel:r,paySource:s});return i.a.createElement(n.a,{className:d()(w,c),href:T,target:k?"_self":"_blank",type:o},O)}return i.a.createElement(i.a.Fragment,null,i.a.createElement(n.a,{type:o,className:d()(w,c),onClick:function(){return v(!0)}},O),b&&i.a.createElement(_.a,{visible:b,organization:t,onClose:function(){return v(!1)},type:"buyModal",actionType:p,targetLevel:r,paySource:s}))}x.propTypes={organization:c.a.object.isRequired,type:c.a.string,text:c.a.string,className:c.a.string,targetLevel:c.a.oneOf([g.PAYMENT_TYPE.pro,g.PAYMENT_TYPE.enterprise]),paySource:c.a.string},x.defaultProps={type:"link",targetLevel:g.PAYMENT_TYPE.pro};var A=x,k=r(1416),T="index-module_upgradeButton_nJqrZ";function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,u=[],c=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return P(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?P(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function j(e){var t,r=e.organization,o=e.type,u=e.text,c=e.className,l=e.paySource,s=void 0===l?y.LIMIT_SCENE.org_other_buy:l,f=S(Object(a.useState)(!1),2),p=f[0],h=f[1],b=u||__("升级"),v=Object(k.getInterest)(),w=window.location,E="/r/organizations/dashboard/cashier"===(null==w?void 0:w.pathname),O=null==w||null===(t=w.pathname)||void 0===t?void 0:t.startsWith("/r/organizations/dashboard");if(m.a.isTopLevel(v))return null;if(!O||!E){var x=m.a.buildOrgPayLink({action:"upgrade",paySource:s});return i.a.createElement(n.a,{className:d()(T,c),href:x,target:"_blank",type:o},b)}return i.a.createElement(i.a.Fragment,null,i.a.createElement(n.a,{type:o,className:d()(T,c),onClick:function(){return h(!0)}},b),p&&i.a.createElement(_.a,{visible:p,organization:r,onClose:function(){return h(!1)},type:"buyModal",actionType:g.PAY_MODAL_ACTION.upgrade,targetLevel:g.PAYMENT_TYPE.enterprise,paySource:s}))}j.propTypes={organization:c.a.object.isRequired,type:c.a.string,text:c.a.string,className:c.a.string,paySource:c.a.string},j.defaultProps={type:"link"};var L=j,N={orgVersionLabel:"index-module_orgVersionLabel_egPu3",tip:"index-module_tip_rQx-e",payment:"index-module_payment_pQExj",paymentLink:"index-module_paymentLink_GbvgZ",paymentGuideWrapper:"index-module_paymentGuideWrapper_2jg39",thumb:"index-module_thumb_Lw5zW",title:"index-module_title_EykNL",body:"index-module_body_+1-cr",link:"index-module_link_zDdoa",actions:"index-module_actions_LRgdL",horizontal:"index-module_horizontal_rYkfB",btnTryout:"index-module_btnTryout_5GVmK",vertical:"index-module_vertical_K+cm2",btn:"index-module_btn_vRXZD",premiumFeaturesLabel:"index-module_premiumFeaturesLabel_q+uFd",alignCenter:"index-module_alignCenter_h648T",orgExpiredTip:"index-module_orgExpiredTip_k7iLg",orgExpiredTipOpt:"index-module_orgExpiredTipOpt_QDhkZ",orgExpiredTipText:"index-module_orgExpiredTipText_gQuZw",payflowTitle:"index-module_payflowTitle_LM3aR",freeWrapper:"index-module_freeWrapper_BlI2K",payflowLink:"index-module_payflowLink_Wt3fM",isExpired:"index-module_isExpired_UgOgs",freeTips:"index-module_freeTips_ybaQ-"},C=r(587),I=r(63);r(591);function M(){return i.a.createElement("span",null,__("标准版，2999 元/空间/年"))}function R(e){var t=e.organization,r=e.size,n=e.className;return i.a.createElement(I.b,{size:r,name:m.a.getIconName(t),className:n})}c.a.object.isRequired,c.a.node,c.a.string,c.a.object.isRequired,c.a.string,c.a.string,c.a.string,c.a.oneOfType([c.a.string,c.a.number]),c.a.oneOfType([c.a.string,c.a.node]),c.a.string,c.a.object,R.propTypes={organization:c.a.object,size:c.a.number,className:c.a.string};var D="index-module_upgrade_qL2nR";function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,u=[],c=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Y(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Y(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var F=function(e){var t=e.organization,r=e.className,o=e.code,u=void 0===o?y.LIMIT_SCENE.org_other_buy:o,c=B(Object(a.useState)(!1),2),l=c[0],s=c[1];if(!("/r/organizations/dashboard/cashier"===window.location.pathname)){var f=m.a.buildOrgPayLink({action:"member",paySource:u});return i.a.createElement("a",{className:r,href:f,target:"_blank"},__("扩容"))}return i.a.createElement("div",{className:d()(D,r)},i.a.createElement(n.a,{type:"link",onClick:function(){return s(!0)}},__("扩容")),l&&i.a.createElement(_.a,{visible:l,organization:t,onClose:function(){return s(!1)},type:"buyModal",actionType:g.ORDER_TYPE.buyMember,paySource:u}))},U=(r(67),r(31));function z(e){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z(e)}function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?G(Object(r),!0).forEach((function(t){V(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function V(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=z(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=z(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==z(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var K=function(e){var t=e.organization,r=e.code,a=e.type,u=e.className,c=e.text,l=m.a.getFeatureBelongsPayment(r);return m.a.isPremium(t)?l===(null==t?void 0:t.payment_type)?i.a.createElement(n.a,{type:a,className:u,onClick:function(){var e;o.a.warning(__("当前版本已是{payment}",{payment:null===(e=m.a.PAYMENT_MAP)||void 0===e?void 0:e[l]}))}},c):i.a.createElement(L,{organization:t,type:a,text:c,className:u,paySource:r}):i.a.createElement(A,{organization:t,type:a,text:c,targetLevel:l,className:u,paySource:r})};K.propTypes={organization:c.a.object.isRequired,className:c.a.string,code:c.a.oneOf(Object.values(q(q({},b.INTEREST_CODE),y.LIMIT_RULE_CODE))),type:c.a.string,text:c.a.string},K.defaultProps={type:"link"};var W="index-module_wrapper_ulVDd",H="index-module_content_SO1HL",Q="index-module_title_SVPzd",Z="index-module_desc_MlCQ9",X="index-module_img_SBaEY",J="index-module_trialButton_tH3iD",$="index-module_footer_cL9eu",ee="index-module_btn_XNqZC";function te(e){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},te(e)}function re(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=te(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=te(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==te(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ne={showInterestIntro:function(e){var t=window.appData.organization,r=m.a.isOwner(t),o=re(re(re(re({},b.INTEREST_CODE.thirdpart_address,{title:m.a.getPaymentFeatureDesc(b.INTEREST_CODE.thirdpart_address),desc:m.a.getFeatureIntro(b.INTEREST_CODE.thirdpart_address)}),b.INTEREST_CODE.group_department,{title:m.a.getPaymentFeatureDesc(b.INTEREST_CODE.group_department),desc:m.a.getFeatureIntro(b.INTEREST_CODE.group_department)}),b.INTEREST_CODE.group_handover,{title:m.a.getPaymentFeatureDesc(b.INTEREST_CODE.group_handover),desc:m.a.getFeatureIntro(b.INTEREST_CODE.group_handover)}),b.INTEREST_CODE.public_page,{title:m.a.getPaymentFeatureDesc(b.INTEREST_CODE.public_page),desc:m.a.getFeatureIntro(b.INTEREST_CODE.public_page),link:i.a.createElement("a",{href:"https://www.yuque.com/yuque/organizations/xoios9x575i28vi9",target:"_blank"},__("查看详细介绍"))})[e];if(o){Object(p.spmClick)(y.ORG_LIMIT_SPM.pay_limit,{pay_source:e,organization_id:(null==t?void 0:t.id)||0});var a=m.a.buildOrgPayLink({action:"trial",paySource:e}),u=U.a.info({width:480,closable:!0,maskClosable:!0,centered:!0,className:W,content:i.a.createElement("div",null,i.a.createElement("img",{className:X,src:"https://mdn.alipayobjects.com/huamei_0prmtq/afts/img/A*Lt7IR4oBkwIAAAAAAAAAAAAADvuFAQ/original"}),i.a.createElement("div",{className:H},i.a.createElement("p",{className:Q},null==o?void 0:o.title),i.a.createElement("p",{className:Z},!r&&__("联系管理员升级空间版本，立享空间功能。"),null==o?void 0:o.desc,null==o?void 0:o.link),i.a.createElement("div",{className:$},r?i.a.createElement(i.a.Fragment,null,(null==t?void 0:t.canTrial)&&i.a.createElement(n.a,{className:d()(J,ee),href:a},__("领取 {days} 天试用",{days:15})),i.a.createElement(K,{className:ee,type:"primary",organization:t,code:e})):i.a.createElement(n.a,{className:d()(ee),type:"primary",onClick:function(){return u.destroy()}},__("知道了"))))),okText:null})}}};function oe(e){return oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oe(e)}function ae(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=oe(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=oe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==oe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ie=function(e){var t=e.organization,r=e.code,a=e.type,u=e.className,c=e.text,l=m.a.getFeatureBelongsPayment(r);return m.a.isPremium(t)?l===(null==t?void 0:t.payment_type)?i.a.createElement(n.a,{type:a,className:u,onClick:function(){var e;o.a.warning(__("当前版本已是{payment}",{payment:null===(e=m.a.PAYMENT_MAP)||void 0===e?void 0:e[l]}))}},c):i.a.createElement(L,{organization:t,type:a,text:c,className:u,paySource:r}):i.a.createElement(A,{organization:t,type:a,text:c,targetLevel:l,className:u,paySource:r})};function ue(e){var t,r=e.organization,n=e.className,o=r.expired_at,a=r.payment_type,u=m.a.isOwner(r),c=(null===(t=v.ORG_AMOUNT_MAP[null==r?void 0:r.payment_type])||void 0===t?void 0:t.name)||v.ORG_AMOUNT_MAP[g.PAYMENT_TYPE.enterprise].name,l=m.a.buildOrgPayLink({action:"renew",paySource:y.LIMIT_SCENE.org_dashboard_user_menu_buy});if(a===g.PAYMENT_TYPE.free&&!u)return null;if(m.a.isFree(r)&&u)return l=m.a.buildOrgPayLink({action:"buy",paySource:y.LIMIT_SCENE.org_dashboard_user_menu_buy}),i.a.createElement("div",{className:d()(N.tip,N.freeWarpper),"data-testid":"org-preview-tip"},i.a.createElement("div",{className:N.payflowTitle},v.ORG_AMOUNT_MAP[g.PAYMENT_TYPE.free].name),i.a.createElement("a",{href:l,className:N.payment,target:"_blank"},__("升级")));var f,p=s()(o).diff(s()(),"day"),h=!1;return s()(o).isBefore(s()())?(f=i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:N.orgExpiredTip},__("{paymentType}已过期",{paymentType:c}))),h=!0):0===p?(f=i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:N.orgExpiredTip},__("空间将于今日到期"))),h=!0):p<15&&p>0?(f=i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:N.orgExpiredTip},__("{paymentType} {days} 天后到期",{paymentType:c,days:p}))),h=!0):f=i.a.createElement("p",{className:N.orgExpiredTipText},__("有效期至{expiredAt}",{expiredAt:i.a.createElement("span",{title:s()(o).format("YYYY-MM-DD")},s()(o).format("YYYY-MM-DD"))})),i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:d()(N.tip,n,ae({},N.isExpired,h)),"data-testid":"org-preview-tip"},i.a.createElement("span",null,f),u&&i.a.createElement(i.a.Fragment,null,i.a.createElement("a",{href:l,target:"_blank",className:N.payment},__("续费")))))}function ce(e){var t=e.organization,r=e.showThumb,o=void 0===r||r,u=(e.children,e.titleClassName),c=e.thumbClassName,l=e.actionsLayout,s=void 0===l?"horizontal":l,f=e.code,b=e.className,v=m.a.getPaymentFeatureDesc(f)||__("付费版空间专属功能"),g=m.a.getFeatureIntro(f);return Object(a.useEffect)((function(){Object(p.spmClick)(y.ORG_LIMIT_SPM.pay_limit,{pay_source:f,organization_id:(null==t?void 0:t.id)||0})}),[]),i.a.createElement("div",{className:d()(N.paymentGuideWrapper,b)},o&&i.a.createElement(h.a,{src:"https://mdn.alipayobjects.com/huamei_0prmtq/afts/img/A*oKPaTZWb5BwAAAAAAAAAAAAADvuFAQ/original",darkAlpha:.9,className:d()(N.thumb,c)}),i.a.createElement("h6",{className:d()(N.title,u)},v),i.a.createElement("div",{className:N.body},g),i.a.createElement("div",{className:d()(N.actions,"horizontal"===s?N.horizontal:N.vertical)},"vertical"===s?i.a.createElement(i.a.Fragment,null,i.a.createElement(ie,{organization:t,type:"primary",code:f,className:N.btn}),i.a.createElement(n.a,{style:{marginTop:"12px"},"data-desktoptarget":"_browser",type:"link",href:"/about/price#team",target:"_blank"},__("了解不同版本权益"))):i.a.createElement(i.a.Fragment,null,i.a.createElement(n.a,{href:"/about/price#team",target:"_blank",className:N.link},__("了解不同版本权益")),i.a.createElement(ie,{organization:t,code:f}))))}ie.propTypes={organization:c.a.object.isRequired,className:c.a.string,code:c.a.oneOf(Object.values(b.INTEREST_CODE,y.LIMIT_RULE_CODE)),type:c.a.string,text:c.a.string},ie.defaultProps={type:"link"},ue.propTypes={organization:c.a.object.isRequired,className:c.a.string},ce.propTypes={organization:c.a.object.isRequired,showThumb:c.a.bool,children:c.a.node,titleClassName:c.a.string,thumbClassName:c.a.string,actionsLayout:c.a.string,code:c.a.string,className:c.a.string},c.a.object.isRequired},1338:function(e,t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2},t.isValid=function(e){return e&&void 0!==e.bit&&e.bit>=0&&e.bit<4},t.from=function(e,r){if(t.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+e)}}(e)}catch(e){return r}}},139:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"e",(function(){return i})),r.d(t,"d",(function(){return u})),r.d(t,"f",(function(){return c})),r.d(t,"a",(function(){return l})),r.d(t,"h",(function(){return s})),r.d(t,"c",(function(){return f})),r.d(t,"g",(function(){return d})),r.d(t,"b",(function(){return p}));var i={URL_TYPE_LIST:["book-type-default","book-type-sheet","book-type-blog","book-icon-topic","group-type-project","book-type-manual","book-type-design","book-type-thread","group-type-interest","book-type-travel","group-type-default","book-type-reports","book-type-import","group-type-department","book-type-project","book-type-notes","book-type-resource","book-icon-yuque","book-icon-alibaba","book-icon-taobao","book-icon-alipay"],LEGACY_URL_TYPE_LIST:["books-url-wendangzhishiku","books-url-biaogezhishiku","books-url-boke","books-url-bokebeifen","books-url-bumen","books-url-chanpinshouce","books-url-huabanzhishiku","books-url-huati","books-url-lanqiubeifen","books-url-lvhanggonglve","books-url-morentuandui","books-url-tuanduizhoubao","books-url-wenjianjiabeifen","books-url-xiangmu","books-url-xiangmufangan","books-url-xuexibiji","books-url-ziyuanzhishiku","books-url-ali","books-url-taobao","books-url-zhifubao","books-url-yuque"],ICON_TYPE_LIST:["books-icon-default","books-icon-aixin","books-icon-baozhi","books-icon-biaoge","books-icon-biaoqian","books-icon-bikan","books-icon-boke","books-icon-chanpinwendang","books-icon-chucun","books-icon-dabiaowenjian","books-icon-dengpao","books-icon-duihua","books-icon-gerendangan","books-icon-huabao","books-icon-huati","books-icon-huati2","books-icon-hudun","books-icon-huojian","books-icon-huowu","books-icon-jiami","books-icon-jiangbei","books-icon-jihua","books-icon-lanqiu","books-icon-lingdang","books-icon-liucheng","books-icon-mubiao","books-icon-penzai","books-icon-qiqiu","books-icon-qunzu","books-icon-renwuliebiao","books-icon-rili","books-icon-suozhu","books-icon-tongxunlu","books-icon-tuandui","books-icon-wengao","books-icon-wenjiandai","books-icon-wenjiandai-2","books-icon-wenjianjia","books-icon-xiezuo","books-icon-xinfeng","books-icon-xingquxiaozu","books-icon-xuexibiji","books-icon-yingyuxuexi","books-icon-zhiding"],LEGACY_ICON_TYPE_LIST:["books-icon-wendang"],EMOJI_TYPE_LIST:[],BOOK_ICON_TYPE_MAP:{"books-icon-aixin":"group-type-interest","books-icon-baozhi":"book-type-blog","books-icon-biaoge":"book-type-sheet","books-icon-alibaba":"book-icon-alibaba","books-icon-bianzu":"book-icon-taobao","books-icon-bianzu-15":"book-icon-alipay","books-icon-biaoqian":"book-type-manual","books-icon-bikan":"group-type-project","books-icon-boke":"book-type-notes","books-icon-chanpinwendang":"book-type-project","books-icon-chucun":"book-type-resource","books-icon-dabiaowenjian":"book-type-travel","books-icon-default":"book-type-default","books-icon-dengpao":"group-type-project","books-icon-duihua":"book-icon-topic","books-icon-gerendangan":"book-type-manual","books-icon-huabao":"book-type-design","books-icon-huati":"group-type-department","books-icon-huati2":"book-type-thread","books-icon-hudun":"group-type-project","books-icon-huojian":"book-type-sheet","books-icon-huowu":"book-type-notes","books-icon-jiami":"book-type-import","books-icon-jiangbei":"group-type-project","books-icon-jihua":"book-type-reports","books-icon-lanqiu":"book-type-default","books-icon-lingdang":"group-type-department","books-icon-liucheng":"book-type-sheet","books-icon-mubiao":"group-type-project","books-icon-penzai":"book-type-default","books-icon-qiqiu":"book-type-default","books-icon-qunzu":"group-type-default","books-icon-renwuliebiao":"book-type-manual","books-icon-rili":"book-type-manual","books-icon-suozhu":"book-type-default","books-icon-tongxunlu":"group-type-interest","books-icon-tuandui":"group-type-default","books-icon-wendang":"book-type-default","books-icon-wengao":"book-type-blog","books-icon-wenjiandai":"book-type-project","books-icon-wenjiandai-2":"book-type-resource","books-icon-wenjianjia":"book-type-blog","books-icon-xiezuo":"book-type-blog","books-icon-xinfeng":"book-type-manual","books-icon-xingquxiaozu":"group-type-interest","books-icon-xuexibiji":"book-type-notes","books-icon-yingyuxuexi":"book-type-default","books-icon-yuque-logo":"book-icon-yuque","books-icon-zhiding":"book-type-default"}},u=["group-type-default","book-type-thread","book-type-blog","book-icon-topic","group-type-project","book-type-manual","book-type-design","book-type-sheet","group-type-interest","book-type-travel","book-type-default","book-type-reports","book-type-import","group-type-department","book-type-project","book-type-notes","book-type-resource","book-icon-yuque"],c=["group-earth","book-type-thread","book-type-blog","book-icon-topic","group-type-project","book-type-manual","book-type-design","book-type-sheet","group-type-interest","book-type-travel","book-type-default","book-type-reports","book-type-import","group-type-department","book-type-project","book-type-notes","book-type-resource","book-icon-yuque"],l={default:"book-type-default",book:"book-type-default",sheet:"book-type-sheet",design:"book-type-design",thread:"book-type-thread",resource:"book-type-resource",column:"book-type-blog",notes:"book-type-notes",blog:"book-type-blog",travel:"book-type-travel",project:"book-type-project",manual:"book-type-manual",reports:"book-type-reports",team_blog:"book-type-blog"},s=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({default:"group-type-default",project:"group-type-project",department:"group-type-department",interest:"group-type-interest",commerce:"group-type-default",official_doc:"group-type-department"},Object.fromEntries(u.map((function(e){return[e,e]})))),f={doc:"doc-type-default",sheet:"doc-type-sheet",table:"doc-type-table",mind:"doc-type-mind",board:"doc-type-board",show:"file-ppt",thread:"book-type-thread",artboardgroup:"book-type-design",artboard:"book-type-design",note:"doc-type-note",actiontag:"book-type-resource",issue:"doc-type-task"},d={default:"book-type-thread",daily:"book-type-thread",weekly:"book-type-thread"},p={markdown:"doc-type-default",asl:"doc-type-default",lake:"doc-type-default",spreadjs:"doc-type-sheet",lakesheet:"doc-type-sheet",lakemind:"doc-type-mind",lakeboard:"doc-type-board",lakeshow:"file-ppt"}},1418:function(e,t,r){const n=r(1338),o=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],a=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];t.getBlocksCount=function(e,t){switch(t){case n.L:return o[4*(e-1)+0];case n.M:return o[4*(e-1)+1];case n.Q:return o[4*(e-1)+2];case n.H:return o[4*(e-1)+3];default:return}},t.getTotalCodewordsCount=function(e,t){switch(t){case n.L:return a[4*(e-1)+0];case n.M:return a[4*(e-1)+1];case n.Q:return a[4*(e-1)+2];case n.H:return a[4*(e-1)+3];default:return}}},1419:function(e,t){t.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}},1420:function(e,t){const r="[0-9]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const o="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+")(?:.|[\r\n]))+";t.KANJI=new RegExp(n,"g"),t.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),t.BYTE=new RegExp(o,"g"),t.NUMERIC=new RegExp(r,"g"),t.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const a=new RegExp("^"+n+"$"),i=new RegExp("^"+r+"$"),u=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");t.testKanji=function(e){return a.test(e)},t.testNumeric=function(e){return i.test(e)},t.testAlphanumeric=function(e){return u.test(e)}},1421:function(e,t){function r(e){if("number"==typeof e&&(e=e.toString()),"string"!=typeof e)throw new Error("Color should be defined as hex string");let t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||t.length>8)throw new Error("Invalid hex color: "+e);3!==t.length&&4!==t.length||(t=Array.prototype.concat.apply([],t.map((function(e){return[e,e]})))),6===t.length&&t.push("F","F");const r=parseInt(t.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:255&r,hex:"#"+t.slice(0,6).join("")}}t.getOptions=function(e){e||(e={}),e.color||(e.color={});const t=void 0===e.margin||null===e.margin||e.margin<0?4:e.margin,n=e.width&&e.width>=21?e.width:void 0,o=e.scale||4;return{width:n,scale:n?4:o,margin:t,color:{dark:r(e.color.dark||"#000000ff"),light:r(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},t.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},t.getImageWidth=function(e,r){const n=t.getScale(e,r);return Math.floor((e+2*r.margin)*n)},t.qrToImageData=function(e,r,n){const o=r.modules.size,a=r.modules.data,i=t.getScale(o,n),u=Math.floor((o+2*n.margin)*i),c=n.margin*i,l=[n.color.light,n.color.dark];for(let t=0;t<u;t++)for(let r=0;r<u;r++){let s=4*(t*u+r),f=n.color.light;if(t>=c&&r>=c&&t<u-c&&r<u-c){f=l[a[Math.floor((t-c)/i)*o+Math.floor((r-c)/i)]?1:0]}e[s++]=f.r,e[s++]=f.g,e[s++]=f.b,e[s]=f.a}}},1422:function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"d",(function(){return l})),r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return f})),r.d(t,"e",(function(){return d}));var n=r(14),o=r.n(n),a=r(464),i=r(184),u=r(10);function c(e,t,r,n){var o=window.location.origin,i="";switch(t){case a.b.BOOK:i="".concat(o,"/").concat(r.login,"/").concat(e.slug);break;case a.b.DOC:i="".concat(o,"/").concat(r.login,"/").concat(n.slug,"/").concat(e.slug);break;case a.b.NOTE:i="".concat(o,"/r/note/").concat(e.slug)}var u="",c="";if(t!==a.b.NOTE){"Sheet"===e.type&&(u=window.location.hash.slice(1));var l=e.title||e.name;l&&(c+="《".concat(l,"》"));var s=f(e,t,r,n).currentPassword;s&&(c+=" ".concat(__("密码：")).concat(s))}return{url:i,urlWithDesc:i+(u||c?"?".concat(t===a.b.DOC?"singleDoc":"","#").concat(u||""," ").concat(c||""):"")}}var l=function(e,t,r,n){var o=null==e?void 0:e.public;switch(t){case a.b.BOOK:o=Object(i.c)({type:"book",target:e,group:r});break;case a.b.DOC:o=Object(i.c)({type:"doc",target:e,group:r,book:n})}return{privacy:o,isShareActive:o!==u.PRIVACY.private}},s=function(e,t,r,n){var o=e.indexed_level,c=!1;t===a.b.DOC&&(Object(i.c)({type:"book",target:n,group:r})!==u.PRIVACY.private&&1===(null==n?void 0:n.indexed_level)&&(o=null==n?void 0:n.indexed_level,c=!0));return{currentIndexedLevel:o,isInheritBookIndex:c}},f=function(e,t,r,n){var o=e.password,c=!1;t===a.b.DOC&&(Object(i.c)({type:"book",target:n,group:r})!==u.PRIVACY.private&&null!=n&&n.password&&(o=null==n?void 0:n.password,c=!0));return{currentPassword:o,isInheritBookPassword:c}},d=function(e,t,r){if(!r&&e.public!==u.PRIVACY.private&&(t===a.b.DOC||t===a.b.NOTE)&&e.share_expired_time){var n=e.share_expired_time,i=new Date(e.share_expired_time),c=new Date(i.setMonth(i.getMonth()-6));return{startTime:o()(c).format("YYYY.MM.DD"),expiredTime:o()(n).format("YYYY.MM.DD")}}return null}},1423:function(e,t,r){"use strict";var n=r(0),o=r.n(n),a=r(6),i=r.n(a),u=r(5),c=r.n(u),l=r(74),s=r(63),f=r(958),d="badgelite-module_memberBadgeLiteTextAlibaba_eY+40",p="badgelite-module_memberBadgeLiteContainer_1caED",m="badgelite-module_memberBadgeLiteText_2xxqK",y="badgelite-module_memberBadgeLiteNomeContainer_9AJD2",h="badgelite-module_memberBadgeLiteGroupContainer_6-b6V",b="badgelite-module_memberBadgeLiteH5Container_ituBE";function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_(n.key),n)}}function _(e){var t=function(e,t){if("object"!=v(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==v(t)?t:t+""}function w(e,t,r){return t=O(t),function(e,t){if(t&&("object"==v(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,E()?Reflect.construct(t,r||[],O(e).constructor):t.apply(e,r))}function E(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(E=function(){return!!e})()}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}function x(e,t){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},x(e,t)}var A=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=w(this,t,[e])).state={user:r.props.user},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){var e=this.props,t=e.isMobile,r=e.useMobile,n=void 0!==r&&r,a=e.className,i=void 0===a?"":a,u=window.appData,v=u.isYuque,g=u.organization,_=this.state.user,w=_.memberLevelName,E=_.member_level;if(!v)return n?null:o.a.createElement("a",{href:l.LINKS.INTERNAL_MEMBER_INTRO_LINK,target:"_blank"},o.a.createElement("p",{className:y,"data-testid":"badge-lite"},o.a.createElement(s.b,{name:"member-big-level1-alibaba",width:24,height:28}),o.a.createElement("span",{className:d},__("语雀会员"))));if(!_.isPaid||g)return null;var O=f.a.isGroupOrPublication(_);if(t||n){var x=c()(b,i),A="icon-member-level-".concat(E);return o.a.createElement("span",{className:x,"data-testid":"badge-lite"},o.a.createElement("a",{href:O?l.LINKS.EXTERNAL_GROUP_INTRO_LINK:l.LINKS.EXTERNAL_MEMBER_INTRO_LINK,target:"_blank"},o.a.createElement(s.b,{name:O?"member-level1":A,height:22,width:23})))}if(O){var k=c()(h,i);return o.a.createElement("span",{className:k,"data-testid":"badge-lite"},o.a.createElement("a",{href:l.LINKS.EXTERNAL_GROUP_INTRO_LINK,target:"_blank"},o.a.createElement(s.b,{name:"member-big-level1",width:24,height:28}),o.a.createElement("span",{className:m},__("高级版团队"))))}var T=c()(p,i),S="icon-member-level-".concat(E);return o.a.createElement("div",{className:T,"data-testid":"badge-lite"},o.a.createElement("a",{href:l.LINKS.EXTERNAL_MEMBER_INTRO_LINK,target:"_blank"},o.a.createElement(s.b,{name:S,width:24,height:28}),o.a.createElement("span",{className:m},w)))}}])&&g(r.prototype,n),a&&g(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,a}(n.Component);A.propTypes={user:i.a.object,isMobile:i.a.bool,useMobile:i.a.bool,className:i.a.string};t.a=A},1424:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));r(227);var n=r(101),o=r(0),a=r.n(o),i=r(5),u=r.n(i),c=r(1220),l=r(34),s="index-module_offlineButton_XZkWh",f="index-module_disabledStyle_MeBOz",d=function(e){var t=e.children,r=e.buttonClassName,o=e.tooltipPlacement,i=void 0===o?"bottom":o,d=Object(c.b)();return t?!d&&l.c?a.a.createElement(n.a,{title:__("离线状态该功能不可用"),placement:i,autoAdjustOverflow:!0},a.a.createElement("div",{className:u()(r,s)},a.a.createElement("div",{className:f},t))):a.a.createElement("div",{className:r},t):null}},1427:function(e,t,r){const n=r(1665),o=r(1666),a=r(1683),i=r(1684);function u(e,t,r,a,i){const u=[].slice.call(arguments,1),c=u.length,l="function"==typeof u[c-1];if(!l&&!n())throw new Error("Callback required as last argument");if(!l){if(c<1)throw new Error("Too few arguments provided");return 1===c?(r=t,t=a=void 0):2!==c||t.getContext||(a=r,r=t,t=void 0),new Promise((function(n,i){try{const i=o.create(r,a);n(e(i,t,a))}catch(e){i(e)}}))}if(c<2)throw new Error("Too few arguments provided");2===c?(i=r,r=t,t=a=void 0):3===c&&(t.getContext&&void 0===i?(i=a,a=void 0):(i=a,a=r,r=t,t=void 0));try{const n=o.create(r,a);i(null,e(n,t,a))}catch(e){i(e)}}t.create=o.create,t.toCanvas=u.bind(null,a.render),t.toDataURL=u.bind(null,a.renderToDataURL),t.toString=u.bind(null,(function(e,t,r){return i.render(e,r)}))},1432:function(e,t,r){"use strict";var n=r(0);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,u=[],c=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}t.a=function(e){var t,r=e.initValue,a=e.totalAmount,i=e.setPromoCode,u=e.afterVerifySuccess,c=o(Object(n.useState)(r),2),l=c[0],s=c[1];l&&(t=(t=a-l>1?a-l:1).toFixed(2));return{totalAmountWithPromo:t,onVerifySuccess:function(e){s(e&&e.amount),u&&u()},handlePromoChange:function(e){i(e),l&&s(0)}}}},1434:function(e,t,r){"use strict";r(1219);var n=r(959),o=r(0),a=r.n(o),i=r(6),u=r.n(i),c=r(47),l=r(366),s=r(1220),f=(r(1429),r(1426)),d=r(425),p=r(63),m=r(1423),y=r(1470),h=r(1424),b=r(1471),v=r(591),g={userCard:"index-module_userCard_NOTbr",body:"index-module_body_20bgh",avatar:"index-module_avatar_OBHFJ",userInfos:"index-module_userInfos_B16Pa",nameContainer:"index-module_nameContainer_elI96",name:"index-module_name_QeZm4",dingtalk:"index-module_dingtalk_kYXBj",badge:"index-module_badge_lsJBP",dingding:"index-module_dingding_l7pi0",infoWithBg:"index-module_infoWithBg_JGcdP",signature:"index-module_signature_aQ+Wz",infoList:"index-module_infoList_Y58li",infoItem:"index-module_infoItem_same7",icon:"index-module_icon_MGwU8",footer:"index-module_footer_FNHCP",follow:"index-module_follow_1HgLb",footerItem:"index-module_footerItem_H0y7j",number:"index-module_number_NahUE",userLink:"index-module_userLink_i0XYI",skeleton:"index-module_skeleton_Z4M4v",infoDetail:"index-module_infoDetail_dKXCO"};function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,u=[],c=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var E={mobile:"user-mobile",email:"user-email",departments:"user-department-opa",job_title:"user-job",location:"user-location"},O=function(e){var t=e.style,r=void 0===t?{}:t,n=e.className,i=void 0===n?"":n,u=e.user,l=void 0===u?{}:u,s=e.profile,w=void 0===s?{}:s,O=e.loading,x=e.isInGroup,A=e.userAvatar,k=l.avatar_url,T=l.avatar,S=l.description,P=l.followers_count,j=l.following_count,L=l.name,N=l.id,C=window.appData,I=C.isYuque,M=C.isPublicCloud,R=C.organization,D=_(Object(o.useState)(),2),B=D[0],Y=D[1],F=_(Object(o.useState)(null),2),U=F[0],z=F[1],G=_(Object(o.useState)(null),2),q=G[0],V=G[1],K=w.dingtalk_id,W=w.orgName,H=w.role,Q=w.status,Z=w.isPublicUser,X=Q===d.organizationUser.STATUS.terminated,J=H===d.organizationUser.ROLE.outsourcer,$=R&&Z,ee=R&&(null==R?void 0:R.id);Object(o.useEffect)((function(){z("following_count"in w?w.following_count||0:j||0),V("followers_count"in w?w.followers_count||0:P||0)}),[w]);var te=function(){B||c.a.users.mobile({id:N}).then(Y)},re=function(e){return e.map((function(e){return{key:e,icon:E[e],value:w[e]}})).filter((function(e){return!!e.value}))},ne=[];ne=re(I?R?["mobile","email","departments","job_title"]:["location","job_title"]:["departments","job_title"]);var oe=null;$?oe=a.a.createElement("div",{className:g.infoWithBg},__("非本空间成员")):X?oe=a.a.createElement("div",{className:g.infoWithBg},M?__("已离职"):__("已退隐江湖")):J&&(oe=a.a.createElement("div",{className:g.infoWithBg},__("外部联系人")));var ae,ie=!R&&(!X&&!J&&!$&&w.enable_home);if(ee){var ue={avatar:(ae=w).avatar||k,name:ae.orgName,description:ae.description,departments:null==ae?void 0:ae.departments,job_title:ae.job_title,location:ae.location,role:null==ae?void 0:ae.role,status:null==ae?void 0:ae.status};return a.a.createElement(b.b,{orgUser:ue,user:l,organization:R})}return a.a.createElement("div",{className:"".concat(i," ").concat(g.userCard),style:r,"data-aspm":"c39373"},a.a.createElement("div",{className:g.body},ee?a.a.createElement(v.a,{src:A||k||T,size:48,className:g.avatar,bordered:!0}):a.a.createElement("a",{href:"/".concat(l.login),target:"_blank","data-desktoptarget":"_browser"},a.a.createElement(v.a,{src:A||k||T,size:48,className:g.avatar,bordered:!0})),a.a.createElement("div",{className:g.userInfos},a.a.createElement("div",{className:g.nameContainer},ee?a.a.createElement("span",{className:g.name},W||L):a.a.createElement("a",{href:"/".concat(l.login),target:"_blank","data-desktoptarget":"_browser",className:g.name},W||L),K&&a.a.createElement("a",{href:"dingtalk://dingtalkclient/action/sendmsg?dingtalk_id=".concat(K),className:g.dingtalk,"data-testid":"dingtalk","data-aspm-click":"d001","data-desktoptarget":"_browser"},a.a.createElement(p.b,{name:"dingding-filled",className:g.dingding})),a.a.createElement(m.a,{user:l,useMobile:!0,className:g.badge}),oe),a.a.createElement("div",{className:g.signature},S||""),O&&a.a.createElement("div",{className:g.skeleton},a.a.createElement(f.a,{active:!0,title:!1})),ne&&ne.length>0?a.a.createElement("div",{className:g.infoList,style:{marginTop:x?0:10}},ne.map((function(e){return function(e){return"departments"===e.key?e.value.map((function(t,r){return a.a.createElement("div",{className:g.infoItem,key:e.key+r,"data-testid":"UserCard:departments:".concat(e.key)},a.a.createElement(p.b,{name:e.icon,width:16,className:g.icon}),a.a.createElement("span",{className:g.infoDetail},t))})):a.a.createElement("div",{className:g.infoItem,key:e.key,"data-testid":"UserCard:default:".concat(e.key)},a.a.createElement(p.b,{name:e.icon,width:16,className:g.icon}),"mobile"===e.key?a.a.createElement(a.a.Fragment,null,a.a.createElement("span",{className:g.infoDetail},B||e.value),!B&&a.a.createElement("a",{onClick:te},__("查看"))):a.a.createElement("span",{className:g.infoDetail},e.value))}(e)}))):null)),!!ie&&a.a.createElement("div",{className:g.footer},a.a.createElement("div",{className:g.follow},a.a.createElement("div",{className:g.footerItem},__("粉丝"),a.a.createElement("span",{className:g.number},q)),a.a.createElement("div",{className:g.footerItem},__("关注"),a.a.createElement("span",{className:g.number},U))),a.a.createElement(h.a,null,a.a.createElement(y.a,{user:l,className:g.followBtn}))))};O.propTypes={user:u.a.object.isRequired,profile:u.a.object,style:u.a.object,className:u.a.string,loading:u.a.bool,isInGroup:u.a.bool};var x=O,A=r(958),k="index-module_popover_Xyidp",T="index-module_overlay_A0ouW";function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,u=[],c=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return P(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?P(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var j=function(e){var t=e.user,r=void 0===t?{}:t,i=e.children,u=e.style,f=void 0===u?{}:u,d=e.className,p=void 0===d?"":d,m=e.isInGroup,y=e.userAvatar,h=void 0===y?"":y,b=r&&r.id,v=S(Object(o.useState)("topLeft"),2),g=v[0],_=v[1],w=Object(o.useRef)(null),E=Object(s.b)(),O=Object(l.a)(c.a.users.profile),P=O.data,j=O.loading,L=O.request;if(null==b||A.a.isGroupOrPublication(r))return i;return window.h5?i:a.a.createElement(n.a,{placement:g,content:a.a.createElement(x,{isInGroup:m,user:r,profile:P||{},loading:j,userAvatar:h}),style:f,className:"".concat(p," ").concat(k),overlayClassName:T,mouseEnterDelay:.3},a.a.createElement("span",{onMouseOver:function(){var e=w&&w.current.getBoundingClientRect().top;_(e<240?"bottomLeft":"topLeft"),P||j||!E||L({id:b})},ref:w,"data-testid":"content",style:{cursor:"pointer"}},i))};j.propTypes={user:u.a.object.isRequired,style:u.a.object,className:u.a.string,children:u.a.any,isInGroup:u.a.bool};t.a=j},1439:function(e,t,r){"use strict";r.d(t,"a",(function(){return U})),r.d(t,"i",(function(){return z})),r.d(t,"e",(function(){return G})),r.d(t,"o",(function(){return V})),r.d(t,"c",(function(){return K})),r.d(t,"n",(function(){return W})),r.d(t,"l",(function(){return H})),r.d(t,"h",(function(){return Z})),r.d(t,"j",(function(){return X})),r.d(t,"b",(function(){return $})),r.d(t,"m",(function(){return ee})),r.d(t,"k",(function(){return re})),r.d(t,"f",(function(){return ne})),r.d(t,"g",(function(){return oe})),r.d(t,"d",(function(){return ae})),r.d(t,"p",(function(){return ie}));r(800);var n=r(381),o=(r(588),r(110)),a=(r(1472),r(1465)),i=(r(1219),r(959)),u=(r(278),r(86)),c=(r(227),r(101)),l=r(0),s=r.n(l),f=r(6),d=r.n(f),p=r(5),m=r.n(p),y=r(1339),h=r(76),b=r(10),v=r(565),g=r(1016),_=r(63),w=r(1221),E={wrap:"index-module_wrap_iKZPE",close:"index-module_close_mZbMN",icon:"index-module_icon_gxtpV",closeIcon:"index-module_closeIcon_kM1zW"};function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,u=[],c=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return x(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?x(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var A=function(e){var t=e.icon,r=e.content,n=e.style,o=e.showClose,a=O(Object(l.useState)(!0),2),i=a[0],u=a[1];return i?s.a.createElement("div",{className:E.wrap,style:n},t&&s.a.createElement("div",{className:E.icon},t),s.a.createElement("div",{className:E.content},r),o&&s.a.createElement("div",{className:E.close,onClick:function(){u(!1)}},s.a.createElement("span",{className:m()("lake-icon","lake-icon-close",E.closeIcon)}))):null};A.propTypes={icon:d.a.node,content:d.a.node.isRequired,style:d.a.object,showClose:d.a.bool};var k=A,T=r(184),S=r(216),P=r(1422),j=(r(1645),r(326)),L=r(563),N={articleTitle:"index-module_articleTitle_VJTLJ",popover:"index-module_popover_nfMC3",belongMenu:"index-module_belongMenu_2QmLB",belongText:"index-module_belongText_TkCAl",belongMenuOverlay:"index-module_belongMenuOverlay_ua9Uh",belongMenuLabel:"index-module_belongMenuLabel_Eor0q",privacy:"index-module_privacy_QkaFB"};function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function I(e){return function(e){if(Array.isArray(e))return D(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||R(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,u=[],c=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return u}}(e,t)||R(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){if(e){if("string"==typeof e)return D(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?D(e,t):void 0}}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(Object(r),!0).forEach((function(t){F(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function F(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=C(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=C(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==C(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var U={},z=function(e){var t=e.className,r=e.type,n=void 0===r?"doc":r,o=e.width,a=void 0===o?20:o;return s.a.createElement(_.b,{className:"doc-icon ".concat(t),name:L.b.getName("Doc",{type:n}),width:a})};U.getTypeText=function(e){var t=e;return"Doc"===e?t=__("文档#lower_case"):"Sheet"===e?t=__("表格#lower_case"):"Table"===e?t=__("数据表#lower_case"):"Board"===e&&(t=__("画板#lower_case")),t},U.getTypeTextOfBook=function(e){var t=e;return"Book"===e?t=__("文档"):"Sheet"===e&&(t=__("表格")),t},U.getFormalTitle=function(e){return e.title},U.getDefaultTitle=j.a.getDefaultTitle;var G=function(e){var t=e.doc,r=e.showType,n=e.showAuthor,o=void 0===n||n,a=j.a.getDocShowAuthorOption(t);return o&&a!==h.SHOW_AUTHOR_OPTION.hide?"sheet"===r?s.a.createElement("div",{"data-testid":"doc-contributors-wrapper-sheet"},s.a.createElement("span",{className:"larkicon larkicon-user"}),s.a.createElement("span",{className:N.label},__("参与编辑：")," "),s.a.createElement(q,{doc:t,showAuthor:!0})):"doc"===r?s.a.createElement("div",{"data-testid":"doc-contributors-wrapper-doc",className:"meta-item"},s.a.createElement(c.a,{title:__("参与编辑")},s.a.createElement("span",{className:"author larkicon larkicon-user"})),s.a.createElement(q,{doc:t,showAuthor:o})):s.a.createElement(q,{doc:t,showAuthor:o}):null};G.propTypes={doc:d.a.object.isRequired,showAuthor:d.a.bool.isRequired,showType:d.a.oneOf(["sheet","doc"])};var q=function(e){var t=e.doc,r=j.a.getDocShowAuthorOption(t);if(r===h.SHOW_AUTHOR_OPTION.hide)return null;if(r===h.SHOW_AUTHOR_OPTION.custom_text){var n=j.a.getDocShowAuthorCustomText(t);return n?s.a.createElement("span",{"data-testid":"doc-contributors-custom-text"},n):null}var o=j.a.getDocContributors(t);if(!o||0===o.length)return null;var a=o.slice(0,3);return s.a.createElement("span",{"data-testid":"doc-contributors",className:"doc-contributors"},a.map((function(e,t){return e&&s.a.createElement("span",{key:e.id},s.a.createElement(g.b,{user:e,type:g.a.link,withCard:!0,className:N.popover}),t!==a.length-1&&__("、"))})),o.length>3&&s.a.createElement("span",null,__("等")))};q.propTypes={doc:d.a.object.isRequired};var V=function(e){var t=e.doc,r=e.hasDraftSign,n=U.getFormalTitle(t);return r&&0===t.status?s.a.createElement("span",{className:"doc-title",title:n},s.a.createElement("span",{className:"doc-title-draft"},"[",__("草稿"),"]"),n):s.a.createElement("span",{className:"doc-title",title:n},n)};V.propTypes={hasDraftSign:d.a.bool,doc:d.a.object};var K=function(e){var t=e.title;return s.a.createElement("h1",{id:"article-title",className:m()(N.articleTitle,"doc-article-title")},t)},W=function(e){var t=e.doc;return t.content_updated_at&&t.content_updated_at!==t.created_at?s.a.createElement("span",{className:"doc-time"},__("更改于"),s.a.createElement(v.a,{time:new Date(t.content_updated_at)})):s.a.createElement("span",{className:"doc-time"},__("创建于"),s.a.createElement(v.a,{time:new Date(t.created_at)}))},H=function(e){var t=e.doc,r=t[e.showBy]||t.content_updated_at;return s.a.createElement("span",{className:"doc-time"},s.a.createElement(v.a,{time:new Date(r)}))},Q=function(){return s.a.createElement("div",{className:"doc-draft-tip-content"},s.a.createElement("p",null,__("当前内容与编辑态不一致，请去编辑态进一步操作")))},Z=function(e){var t=e.doc,r=e.className;return t.content_modified?"Sheet"===t.type||"Table"===t.type?s.a.createElement("div",{className:r,title:__("当前展示不是最新版本，可点击编辑按钮查看最新内容，并进行发布或更新")},s.a.createElement(_.b,{name:"doc-has-new-content",height:18,width:18}),s.a.createElement("p",null,__("当前展示不是最新版本，可点击编辑按钮查看最新内容，并进行发布或更新"))):s.a.createElement(k,{style:{marginBottom:"Doc"===t.type?24:0},icon:s.a.createElement(_.b,{name:"edit-border",height:18,width:18}),content:s.a.createElement(Q,{doc:t}),showClose:"Doc"===t.type}):null};Z.propTypes={doc:d.a.object.isRequired,className:d.a.string};d.a.object.isRequired;var X=function(e){var t=e.doc,r=e.url,n=e.target,o=e.desktopTarget,a=void 0===o?"_blank":o,i=window.appData.isAlipayWebApp||window.appData.isDingTalkMiniApp||window.appData.isYuqueMobileApp?"_blank":"_self";return s.a.createElement("a",{href:r,target:n||i,className:"doc-link","data-desktoptarget":a},s.a.createElement(V,{doc:t}))};X.propTypes={doc:d.a.object,url:d.a.string,target:d.a.string,desktopTarget:d.a.string};var J=function(e){var t=e.organization,r=e.doc,n=e.book,o=e.group,a=e.getPopupContainer,i=e.placement,u=void 0===i?"bottom":i,l=e.onlyIcon;if(window.appData.sharePage)return null;if(null==r||!r.id)return null;if(n){var f=Object(T.c)({type:"doc",target:r,group:o,book:n}),d=function(){return f!==b.PRIVACY.private?"icon-public":(null==n||n.extend_private,b.EXTEND_PRIVATE.BIND_DEPARTMENTS,"permission-private")};return l?s.a.createElement(c.a,{title:Object(T.d)({privacy:f,type:"doc",organization:t,group:o,book:n}),getPopupContainer:a,placement:u},s.a.createElement(_.b,{name:d(),width:14,height:14})):s.a.createElement(c.a,{title:Object(T.d)({privacy:f,type:"doc",organization:t,group:o,book:n}),getPopupContainer:a,placement:u},s.a.createElement("span",{className:"doc-access-scope"},s.a.createElement(_.b,{name:d(),width:14,height:14})))}return null},$=function(e){return s.a.createElement(S.a,{withFallbackUI:!0,noMessage:!0,fallbackUI:function(){return s.a.createElement("span",{"data-test-id":"doc-access-scope"})}},s.a.createElement(J,e))};$.propTypes={group:d.a.object.isRequired,book:d.a.object.isRequired,doc:d.a.object.isRequired,organization:d.a.object,getPopupContainer:d.a.func,placement:d.a.string,onlyIcon:d.a.bool};var ee=function(e){var t=e.doc,r=e.withTip,n=void 0===r||r;if(0!==t.status)return null;var o=s.a.createElement("div",{className:"doc-draft-tip",style:{width:"360px"}},s.a.createElement(Q,{doc:t})),a=s.a.createElement(u.a,{className:"doc-draft-tag","data-testid":"doc-draft-tag",onClick:function(e){e.stopPropagation(),e.preventDefault()}},t.published_at?__("未更新"):__("未发布"));return n?s.a.createElement(i.a,{placement:"bottomLeft",content:o},a):a};ee.displayName="LarkDocStatus";var te=function(e){var t=e.doc,r=e.group,n=e.book;if(t.public!==b.PRIVACY.private){var o=Object(P.a)(t,"DOC",r,n);return s.a.createElement(u.a,{className:"doc-share-tag"},s.a.createElement("a",{href:o.url,target:"_blank"},__("分享中")))}return null},re=function(e){return s.a.createElement(S.a,{withFallbackUI:!0,noMessage:!0,fallbackUI:function(){return s.a.createElement("span",{"data-test-id":"doc-ShareLink-tag"})}},s.a.createElement(te,e))};re.propTypes={group:d.a.object.isRequired,book:d.a.object.isRequired,doc:d.a.object.isRequired},re.displayName="LarkShareLink";var ne=function(e){var t=e.doc,r=e.size,n=void 0===r?{}:r,o=e.placeholder,a=t.cover||o;return a?s.a.createElement("div",{style:{width:"100%",height:"100%",backgroundSize:"cover",backgroundPosition:"center",backgroundImage:'url("'.concat(Object(w.a)(a,Y({},n)),'")')}}):s.a.createElement(_.b,{name:t.type.toLowerCase(),width:48})},oe=function(e){var t=e.doc,r=e.highlightUsers;if(j.a.getDocShowAuthorOption(t)===h.SHOW_AUTHOR_OPTION.hide)return s.a.createElement("span",{className:"info-not-show-creator"},__("不显示作者"));var n=j.a.getDocContributors(t);return n?(Array.isArray(n)||(n=[n]),s.a.createElement(c.a,{title:function(){return n.map((function(e){return e.name})).join("、")}},s.a.createElement("span",null,n.reduce((function(e,t,n){return null!=r&&r.includes(String(t.id))?(e.unshift.apply(e,[s.a.createElement("a",{href:"/".concat(t.login)},s.a.createElement("b",null,t.name)),"、"]),e):(e.push.apply(e,[s.a.createElement("a",{"data-desktoptarget":"_browser",href:"/".concat(t.login)},t.name),"、"]),e)}),[]).slice(0,-1)))):null},ae=function(e){var t=e.belongs,r=e.onChange,n=e.overlayClassName,o=e.overlayPlacement;function i(e){var t,r=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=R(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){u=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw a}}}}(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;n.text||(n.text=n.label,n.label=s.a.createElement("span",{className:N.belongMenuLabel},s.a.createElement(y.default,null),s.a.createElement("span",null,n.label)),n.children&&n.children.length&&i(n.children))}}catch(e){r.e(e)}finally{r.f()}return e}var u=M(s.a.useState(""),2),c=u[0],l=u[1],f=M(s.a.useState(I(t)),2),d=f[0],p=f[1];s.a.useEffect((function(){p(i(I(t)))}),[t]);return!d||d.length<=1?s.a.createElement("span",{className:N.belongText},c||__("归属")):s.a.createElement(a.a,{defaultValue:[null],popupClassName:m()(N.belongMenuOverlay,n),popupPlacement:o||"bottomLeft",options:d,onChange:function(e,t){r(e),e&&e[0]?l(t.map((function(e){return e.text})).join(" / ")):l("")},changeOnSelect:!0},s.a.createElement("span",{className:N.belongMenu},s.a.createElement("span",{className:N.belongText},c||__("归属")),s.a.createElement(_.b,{name:"arrow-down",width:16})))};ae.propTypes={belongs:d.a.array.isRequired,onChange:d.a.func.isRequired,overlayClassName:d.a.string,overlayPlacement:d.a.string};var ie=function(e){var t=e.current,r=e.onChange,a=e.overlayClassName,i=e.overlayPlacement,u=[{name:__("所有"),value:""},{name:__("文档"),value:"Doc"},{name:__("表格"),value:"Sheet"},{name:__("画板"),value:"Board"},{name:__("数据表"),value:"Table"}];t||(t="");var c=u.find((function(e){return e.value===t}));return s.a.createElement(n.a,{trigger:"click",placement:i||"bottomLeft",overlay:s.a.createElement(o.a,null,u.map((function(e){return s.a.createElement(o.a.Item,{key:e.value,onClick:function(){r(e.value)}},t===e.value&&s.a.createElement(y.default,null),e.name)}))),overlayClassName:a},s.a.createElement("span",null,c.value?c.name:__("类型")," ",s.a.createElement(_.b,{name:"arrow-down",width:16})))};ie.propTypes={current:d.a.string.isRequired,onChange:d.a.func.isRequired,overlayClassName:d.a.string,overlayPlacement:d.a.string}},1456:function(e,t,r){"use strict";function n(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return o(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return u=e.done,e},e:function(e){c=!0,i=e},f:function(){try{u||null==r.return||r.return()}finally{if(c)throw i}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var a=r(14),i=r(20),u=i.ORDER_TYPE,c=i.PRICE_STAGES,l=i.PAYMENT_TYPE,s=r(74).MEMBER_RULE,f=r(84);function d(e){var t=f.TRANSITION_DEADLINE,r=f.OLD_ORGANIZATION_DEADLINE,n=a().isBefore(t),o=a(e).isBefore(r);return n&&o}e.exports=function(e){var t=e.order_type,r=e.member_size,n=void 0===r?e.max_member:r,o=e.duration,i=e.upload_size,l=e.expired_at,s=e.created_at,p=e.max_member,m=e.enableDiscount,y=void 0===m||m,h=f.ORG_UPLOAD_SIZE_MAP,b=f.OLD_ORGANIZATION_DEADLINE;if(t===u.data){var v=Object.values(h).find((function(e){return e.value===i}));if(v)return v.price}var g,_=a(s).isBefore(b),w=a(s).endOf("day").add(_?90:30,"day"),E=a().isAfter(w)?a():w;l?(g=a(l).diff(E,"day"))<0&&(g=0):g=0;var O=0,x=0;if(y&&d(s))O=12*n,x=12*p;else{var A=c.find((function(e){return e.member===n}));if(!A)return null;O=A.price;var k=c.find((function(e){return e.member===p}));if(!k)return null;x=k.price}var T=(O-x)*g/365;switch(T<0&&(T=0),t){case u.upgrade:case u.buy:return(O*o).toFixed(2);case u.renew:return(O*o+T).toFixed(2);case u.buyMember:return Math.max(T,.01).toFixed(2);default:return}},e.exports.hasDiscount=d,e.exports.getCostDetail=function(e,t,r,n,o,i){var u,l,s,d,p,m=f.OLD_ORGANIZATION_DEADLINE,y=a(e).isBefore(m),h=a(e).endOf("day").add(y?90:30,"day"),b=a().isAfter(h)?a():h;t?(u=a(t).diff(b,"day"))<0&&(u=0):u=0;var v=(c.find((function(e){return e.member===r}))||{}).price,g=(c.find((function(e){return e.member===n}))||{}).price;return v&&g?(i?(l=12*r*o,s=(12*(r-n)*u/365).toFixed(2),d=v*o,p=((v-g)*u/365).toFixed(2)):(l=v*o,s=((v-g)*u/365).toFixed(2)),{renewAmount:l,upgradeAmount:s,rawRenewAmount:d,rawUpgradeAmount:p}):{}},e.exports.getOrganizationMemberStage=function(e){var t={};if(e=e||0){var r,o=n(c);try{for(o.s();!(r=o.n()).done;){var a=r.value;if(t=a,e<=a.member)break}}catch(e){o.e(e)}finally{o.f()}}return t.member||s.Organization[l.free].max_member},e.exports.mergeGroupExpiredAtToOrganization=function(e,t){if(e){var r=a(e);return t&&a(t).isAfter(a())&&(r=a(t).add(a(e).diff(a()),"milliseconds")),r}}},1465:function(e,t,r){"use strict";r(3162);var n=r(1265);r(1472);t.a=n.a},1468:function(e,t,r){"use strict";var n={number:function(e){return"number"!=typeof(e=Number(e))||e<1e3?e:"".concat((e/1e3).toFixed(1),"K")},maxNumber:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:999;return"number"!=typeof e||e<=t?e:"".concat(t,"+")}};t.a=n},1470:function(e,t,r){"use strict";r(40);var n=r(9),o=(r(48),r(11)),a=r(0),i=r.n(a),u=r(6),c=r.n(u),l=r(47),s=r(499),f=r(1468),d="index-module_count_pDHQn";function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function m(){m=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof g?t:g,i=Object.create(a.prototype),u=new N(n||[]);return o(i,"_invoke",{value:S(e,r,u)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",y="suspendedYield",h="executing",b="completed",v={};function g(){}function _(){}function w(){}var E={};l(E,i,(function(){return this}));var O=Object.getPrototypeOf,x=O&&O(O(C([])));x&&x!==r&&n.call(x,i)&&(E=x);var A=w.prototype=g.prototype=Object.create(E);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function r(o,a,i,u){var c=f(e[o],e,a);if("throw"!==c.type){var l=c.arg,s=l.value;return s&&"object"==p(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,u)}),(function(e){r("throw",e,i,u)})):t.resolve(s).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,u)}))}u(c.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function S(t,r,n){var o=d;return function(a,i){if(o===h)throw Error("Generator is already running");if(o===b){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var u=n.delegate;if(u){var c=P(u,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=b,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var l=f(t,r,n);if("normal"===l.type){if(o=n.done?b:y,l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=b,n.method="throw",n.arg=l.arg)}}}function P(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,P(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function C(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(p(t)+" is not iterable")}return _.prototype=w,o(A,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:_,configurable:!0}),_.displayName=l(w,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,l(e,c,"GeneratorFunction")),e.prototype=Object.create(A),e},t.awrap=function(e){return{__await:e}},k(T.prototype),l(T.prototype,u,(function(){return this})),t.AsyncIterator=T,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new T(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(A),l(A,c,"Generator"),l(A,i,(function(){return this})),l(A,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=C,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return u.type="throw",u.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],u=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),L(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:C(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function y(e,t,r,n,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,o)}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,u=[],c=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var v=function(e){var t=h(Object(a.useState)(!1),2),r=t[0],u=t[1],c=h(Object(a.useState)(!1),2),p=c[0],b=c[1],v=e.me,g=e.user,_=e.onStatusChange,w=e.isPrimary,E=e.size,O=e.showCount,x=g.meta&&g.meta.is_followed,A=h(Object(a.useState)(null==g?void 0:g.followers_count),1)[0],k=function(){var e,t=(e=m().mark((function e(t){var r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,l.a.actions.findOne({target_type:"User",target_id:t,action_type:"follow"},{ignoreGlobalMessage:!0});case 3:return r=e.sent,b(!1),e.abrupt("return",Boolean(r.actioned));case 6:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){y(a,n,o,i,u,"next",e)}function u(e){y(a,n,o,i,u,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}();if(Object(a.useEffect)((function(){void 0===e.isFollowing?k(g.id).then(u):u(e.isFollowing)}),[e.isFollowing,g.id]),v.id===g.id)return null;var T=__("关注");return r&&(T=x?__("互相关注"):__("已关注")),i.a.createElement(n.a,{className:"btn-follow",type:!r&&w?"primary":"",disabled:p,onClick:function(){var e=r?"destroy":"create";b(!0),Object(s.a)("c62147",{action:e}),l.a.actions[e]({target_type:"User",target_id:g.id,action_type:"follow"}).then((function(){b(!1),o.a.success(r?__("已取消关注"):__("关注成功")),u(!r),_&&_(g.id,!r)})).catch((function(e){b(!1)}))},size:window.h5||"small"===E?"small":"default",style:e.style},i.a.createElement("span",null,T),O&&A>0&&i.a.createElement("span",{className:d},f.a.number(A)))};v.defaultProps={me:window.appData.me,showCount:!1},v.propTypes={me:c.a.object,size:c.a.string,user:c.a.object,onStatusChange:c.a.func,isFollowing:c.a.bool,showCount:c.a.bool};t.a=v},1471:function(e,t,r){"use strict";r.d(t,"a",(function(){return v})),r.d(t,"b",(function(){return g}));var n=r(0),o=r.n(n),a=r(5),i=r.n(a),u=r(60),c=r.n(u),l=r(35),s=r(1337),f=r(97),d=r(591),p=r(63),m={departmentInfo:"OrgUserInfo-module_departmentInfo_3udmp",cardHeader:"OrgUserInfo-module_cardHeader_502Md",details:"OrgUserInfo-module_details_hR4Nc",job:"OrgUserInfo-module_job_erqLq",location:"OrgUserInfo-module_location_9-cQz",icon:"OrgUserInfo-module_icon_okrek",fullWidth:"OrgUserInfo-module_fullWidth_zv0Qo",department:"OrgUserInfo-module_department_MJvg6",departmentName:"OrgUserInfo-module_departmentName_fuR97",h5:"OrgUserInfo-module_h5_M+nrk",divider:"OrgUserInfo-module_divider_igZMz",orgUserInfoCard:"OrgUserInfo-module_orgUserInfoCard_7n-Or",headerInfo:"OrgUserInfo-module_headerInfo_5B731",avatar:"OrgUserInfo-module_avatar_iMqQ+",wrapper:"OrgUserInfo-module_wrapper_cpsZr",nameWrapper:"OrgUserInfo-module_nameWrapper_u01vS",name:"OrgUserInfo-module_name_9rYrf",tag:"OrgUserInfo-module_tag_dWOJO",description:"OrgUserInfo-module_description_4Q94H"};function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function h(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=y(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==y(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b=c()("OrgUserInfo"),v=function(e){var t,r=e.organization,n=e.orgUser,a=e.className,u=window.h5,c=null==n?void 0:n.job_title,l=null==n?void 0:n.location;return o.a.createElement("div",{className:i()(m.departmentInfo,a)},null==n||null===(t=n.departments)||void 0===t?void 0:t.map((function(e,t){return o.a.createElement("div",{className:m.department,key:t},o.a.createElement(s.g,{className:m.orgAvatar,organization:r,size:20}),o.a.createElement(s.c,{organization:r,department:e,className:i()(m.departmentName,h({},m.h5,u))}))})),o.a.createElement("div",{className:m.divider}),o.a.createElement("div",{className:m.details},o.a.createElement("div",{className:i()(m.job,h({},m.fullWidth,!u))},o.a.createElement(p.b,{name:"user-job",className:m.icon,size:16}),o.a.createElement("span",null,c||__("暂无职位信息"))),o.a.createElement("div",{className:i()(m.location,h({},m.fullWidth,!u))},o.a.createElement(p.b,{name:"user-location",className:m.icon,size:16}),o.a.createElement("span",null,l||__("暂无地址信息")))))},g=function(e){var t=e.orgUser,r=e.user,n=e.className,a=null==t?void 0:t.departments,u=null==t?void 0:t.job_title,c=null==t?void 0:t.location,s=(null==a?void 0:a.length)||u||c,y=t.status===f.STATUS.terminated,h=t.role===f.ROLE.outsourcer,v=y?__("已离职"):h?__("外部联系人"):"";return b("orgUser %o",t),b("tag %s",v),o.a.createElement("div",{className:i()(m.orgUserInfoCard,n)},o.a.createElement("div",{className:m.headerInfo},o.a.createElement(l.Link,{to:"/".concat(null==r?void 0:r.login),target:"_blank"},o.a.createElement(d.a,{size:44,src:null==t?void 0:t.avatar,className:m.avatar})),o.a.createElement("div",{className:m.wrapper},o.a.createElement(l.Link,{to:"/".concat(null==r?void 0:r.login),target:"_blank"},o.a.createElement("div",{className:m.nameWrapper},o.a.createElement("span",{className:m.name},null==t?void 0:t.name),v&&o.a.createElement("span",{className:m.tag},v))),(null==t?void 0:t.description)&&o.a.createElement("div",{className:m.description},null==t?void 0:t.description))),s&&o.a.createElement("div",{className:m.details},o.a.createElement("div",{className:m.divider}),(null==a?void 0:a.length)&&(null==a?void 0:a.map((function(e,t){return o.a.createElement("div",{className:m.department,key:t},o.a.createElement(p.b,{name:"line-framework",className:m.icon,size:16}),o.a.createElement("span",{title:e,className:n},e))}))),u&&o.a.createElement("div",{className:m.job},o.a.createElement(p.b,{name:"user-job",className:m.icon,size:16}),o.a.createElement("span",null,u)),c&&o.a.createElement("div",{className:m.location},o.a.createElement(p.b,{name:"user-location",className:m.icon,size:16}),o.a.createElement("span",null,c))))}},150:function(e,t,r){e.exports=r(253)},1518:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n={TEMPLATE_USAGE:"c100045.d210978"}},1523:function(e,t,r){"use strict";var n=r(3),o=r(0),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M758.2 839.1C851.8 765.9 912 651.9 912 523.9 912 303 733.5 124.3 512.6 124 291.4 123.7 112 302.8 112 523.9c0 125.2 57.5 236.9 147.6 310.2 3.5 2.8 8.6 2.2 11.4-1.3l39.4-50.5c2.7-3.4 2.1-8.3-1.2-11.1-8.1-6.6-15.9-13.7-23.4-21.2a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-9.3 9.3-19.1 18-29.3 26L668.2 724a8 8 0 00-14.1 3l-39.6 162.2c-1.2 5 2.6 9.9 7.7 9.9l167 .8c6.7 0 10.5-7.7 6.3-12.9l-37.3-47.9z"}}]},name:"redo",theme:"outlined"},i=r(22),u=function(e,t){return o.createElement(i.a,Object(n.a)(Object(n.a)({},e),{},{ref:t,icon:a}))},c=o.forwardRef(u);t.a=c},1645:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(55);function o(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.startsWith("http")){var o,a,i=(window.appConfig||{}).host;null!==(o=window.appData)&&void 0!==o&&null!==(a=o.currentOrganization)&&void 0!==a&&a.host&&(i=window.appData.currentOrganization.host),i||(i=window.location.origin),e="".concat(i).concat(e)}if(null!==(t=window.YuqueDesktopJSBridge)&&void 0!==t&&t.postMessage)window.YuqueDesktopJSBridge.postMessage(n.DesktopBridgeEvents.openExternalLink,{targetUrl:e,isNewWindow:r});else if(window._electron_bridge){var u,c=null===(u=window._electron_bridge)||void 0===u?void 0:u.shell;null==c||c.openExternal(e)}}},1665:function(e,t){e.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},1666:function(e,t,r){const n=r(795),o=r(1338),a=r(1667),i=r(1668),u=r(1669),c=r(1670),l=r(1671),s=r(1418),f=r(1672),d=r(1675),p=r(1676),m=r(796),y=r(1677);function h(e,t,r){const n=e.size,o=p.getEncodedBits(t,r);let a,i;for(a=0;a<15;a++)i=1==(o>>a&1),a<6?e.set(a,8,i,!0):a<8?e.set(a+1,8,i,!0):e.set(n-15+a,8,i,!0),a<8?e.set(8,n-a-1,i,!0):a<9?e.set(8,15-a-1+1,i,!0):e.set(8,15-a-1,i,!0);e.set(n-8,8,1,!0)}function b(e,t,r){const o=new a;r.forEach((function(t){o.put(t.mode.bit,4),o.put(t.getLength(),m.getCharCountIndicator(t.mode,e)),t.write(o)}));const i=8*(n.getSymbolTotalCodewords(e)-s.getTotalCodewordsCount(e,t));for(o.getLengthInBits()+4<=i&&o.put(0,4);o.getLengthInBits()%8!=0;)o.putBit(0);const u=(i-o.getLengthInBits())/8;for(let e=0;e<u;e++)o.put(e%2?17:236,8);return function(e,t,r){const o=n.getSymbolTotalCodewords(t),a=s.getTotalCodewordsCount(t,r),i=o-a,u=s.getBlocksCount(t,r),c=o%u,l=u-c,d=Math.floor(o/u),p=Math.floor(i/u),m=p+1,y=d-p,h=new f(y);let b=0;const v=new Array(u),g=new Array(u);let _=0;const w=new Uint8Array(e.buffer);for(let e=0;e<u;e++){const t=e<l?p:m;v[e]=w.slice(b,b+t),g[e]=h.encode(v[e]),b+=t,_=Math.max(_,t)}const E=new Uint8Array(o);let O,x,A=0;for(O=0;O<_;O++)for(x=0;x<u;x++)O<v[x].length&&(E[A++]=v[x][O]);for(O=0;O<y;O++)for(x=0;x<u;x++)E[A++]=g[x][O];return E}(o,e,t)}function v(e,t,r,o){let a;if(Array.isArray(e))a=y.fromArray(e);else{if("string"!=typeof e)throw new Error("Invalid data");{let n=t;if(!n){const t=y.rawSplit(e);n=d.getBestVersionForData(t,r)}a=y.fromString(e,n||40)}}const s=d.getBestVersionForData(a,r);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(t){if(t<s)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+s+".\n")}else t=s;const f=b(t,r,a),p=n.getSymbolSize(t),m=new i(p);return function(e,t){const r=e.size,n=c.getPositions(t);for(let t=0;t<n.length;t++){const o=n[t][0],a=n[t][1];for(let t=-1;t<=7;t++)if(!(o+t<=-1||r<=o+t))for(let n=-1;n<=7;n++)a+n<=-1||r<=a+n||(t>=0&&t<=6&&(0===n||6===n)||n>=0&&n<=6&&(0===t||6===t)||t>=2&&t<=4&&n>=2&&n<=4?e.set(o+t,a+n,!0,!0):e.set(o+t,a+n,!1,!0))}}(m,t),function(e){const t=e.size;for(let r=8;r<t-8;r++){const t=r%2==0;e.set(r,6,t,!0),e.set(6,r,t,!0)}}(m),function(e,t){const r=u.getPositions(t);for(let t=0;t<r.length;t++){const n=r[t][0],o=r[t][1];for(let t=-2;t<=2;t++)for(let r=-2;r<=2;r++)-2===t||2===t||-2===r||2===r||0===t&&0===r?e.set(n+t,o+r,!0,!0):e.set(n+t,o+r,!1,!0)}}(m,t),h(m,r,0),t>=7&&function(e,t){const r=e.size,n=d.getEncodedBits(t);let o,a,i;for(let t=0;t<18;t++)o=Math.floor(t/3),a=t%3+r-8-3,i=1==(n>>t&1),e.set(o,a,i,!0),e.set(a,o,i,!0)}(m,t),function(e,t){const r=e.size;let n=-1,o=r-1,a=7,i=0;for(let u=r-1;u>0;u-=2)for(6===u&&u--;;){for(let r=0;r<2;r++)if(!e.isReserved(o,u-r)){let n=!1;i<t.length&&(n=1==(t[i]>>>a&1)),e.set(o,u-r,n),a--,-1===a&&(i++,a=7)}if(o+=n,o<0||r<=o){o-=n,n=-n;break}}}(m,f),isNaN(o)&&(o=l.getBestMask(m,h.bind(null,m,r))),l.applyMask(o,m),h(m,r,o),{modules:m,version:t,errorCorrectionLevel:r,maskPattern:o,segments:a}}t.create=function(e,t){if(void 0===e||""===e)throw new Error("No input text");let r,a,i=o.M;return void 0!==t&&(i=o.from(t.errorCorrectionLevel,o.M),r=d.from(t.version),a=l.from(t.maskPattern),t.toSJISFunc&&n.setToSJISFunction(t.toSJISFunc)),v(e,r,i,a)}},1667:function(e,t){function r(){this.buffer=[],this.length=0}r.prototype={get:function(e){const t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(let r=0;r<t;r++)this.putBit(1==(e>>>t-r-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.exports=r},1668:function(e,t){function r(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}r.prototype.set=function(e,t,r,n){const o=e*this.size+t;this.data[o]=r,n&&(this.reservedBit[o]=!0)},r.prototype.get=function(e,t){return this.data[e*this.size+t]},r.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r},r.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},e.exports=r},1669:function(e,t,r){const n=r(795).getSymbolSize;t.getRowColCoords=function(e){if(1===e)return[];const t=Math.floor(e/7)+2,r=n(e),o=145===r?26:2*Math.ceil((r-13)/(2*t-2)),a=[r-7];for(let e=1;e<t-1;e++)a[e]=a[e-1]-o;return a.push(6),a.reverse()},t.getPositions=function(e){const r=[],n=t.getRowColCoords(e),o=n.length;for(let e=0;e<o;e++)for(let t=0;t<o;t++)0===e&&0===t||0===e&&t===o-1||e===o-1&&0===t||r.push([n[e],n[t]]);return r}},1670:function(e,t,r){const n=r(795).getSymbolSize;t.getPositions=function(e){const t=n(e);return[[0,0],[t-7,0],[0,t-7]]}},1671:function(e,t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const r=3,n=3,o=40,a=10;function i(e,r,n){switch(e){case t.Patterns.PATTERN000:return(r+n)%2==0;case t.Patterns.PATTERN001:return r%2==0;case t.Patterns.PATTERN010:return n%3==0;case t.Patterns.PATTERN011:return(r+n)%3==0;case t.Patterns.PATTERN100:return(Math.floor(r/2)+Math.floor(n/3))%2==0;case t.Patterns.PATTERN101:return r*n%2+r*n%3==0;case t.Patterns.PATTERN110:return(r*n%2+r*n%3)%2==0;case t.Patterns.PATTERN111:return(r*n%3+(r+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}}t.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},t.from=function(e){return t.isValid(e)?parseInt(e,10):void 0},t.getPenaltyN1=function(e){const t=e.size;let n=0,o=0,a=0,i=null,u=null;for(let c=0;c<t;c++){o=a=0,i=u=null;for(let l=0;l<t;l++){let t=e.get(c,l);t===i?o++:(o>=5&&(n+=r+(o-5)),i=t,o=1),t=e.get(l,c),t===u?a++:(a>=5&&(n+=r+(a-5)),u=t,a=1)}o>=5&&(n+=r+(o-5)),a>=5&&(n+=r+(a-5))}return n},t.getPenaltyN2=function(e){const t=e.size;let r=0;for(let n=0;n<t-1;n++)for(let o=0;o<t-1;o++){const t=e.get(n,o)+e.get(n,o+1)+e.get(n+1,o)+e.get(n+1,o+1);4!==t&&0!==t||r++}return r*n},t.getPenaltyN3=function(e){const t=e.size;let r=0,n=0,a=0;for(let o=0;o<t;o++){n=a=0;for(let i=0;i<t;i++)n=n<<1&2047|e.get(o,i),i>=10&&(1488===n||93===n)&&r++,a=a<<1&2047|e.get(i,o),i>=10&&(1488===a||93===a)&&r++}return r*o},t.getPenaltyN4=function(e){let t=0;const r=e.data.length;for(let n=0;n<r;n++)t+=e.data[n];return Math.abs(Math.ceil(100*t/r/5)-10)*a},t.applyMask=function(e,t){const r=t.size;for(let n=0;n<r;n++)for(let o=0;o<r;o++)t.isReserved(o,n)||t.xor(o,n,i(e,o,n))},t.getBestMask=function(e,r){const n=Object.keys(t.Patterns).length;let o=0,a=1/0;for(let i=0;i<n;i++){r(i),t.applyMask(i,e);const n=t.getPenaltyN1(e)+t.getPenaltyN2(e)+t.getPenaltyN3(e)+t.getPenaltyN4(e);t.applyMask(i,e),n<a&&(a=n,o=i)}return o}},1672:function(e,t,r){const n=r(1673);function o(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}o.prototype.initialize=function(e){this.degree=e,this.genPoly=n.generateECPolynomial(this.degree)},o.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const t=new Uint8Array(e.length+this.degree);t.set(e);const r=n.mod(t,this.genPoly),o=this.degree-r.length;if(o>0){const e=new Uint8Array(this.degree);return e.set(r,o),e}return r},e.exports=o},1673:function(e,t,r){const n=r(1674);t.mul=function(e,t){const r=new Uint8Array(e.length+t.length-1);for(let o=0;o<e.length;o++)for(let a=0;a<t.length;a++)r[o+a]^=n.mul(e[o],t[a]);return r},t.mod=function(e,t){let r=new Uint8Array(e);for(;r.length-t.length>=0;){const e=r[0];for(let o=0;o<t.length;o++)r[o]^=n.mul(t[o],e);let o=0;for(;o<r.length&&0===r[o];)o++;r=r.slice(o)}return r},t.generateECPolynomial=function(e){let r=new Uint8Array([1]);for(let o=0;o<e;o++)r=t.mul(r,new Uint8Array([1,n.exp(o)]));return r}},1674:function(e,t){const r=new Uint8Array(512),n=new Uint8Array(256);!function(){let e=1;for(let t=0;t<255;t++)r[t]=e,n[e]=t,e<<=1,256&e&&(e^=285);for(let e=255;e<512;e++)r[e]=r[e-255]}(),t.log=function(e){if(e<1)throw new Error("log("+e+")");return n[e]},t.exp=function(e){return r[e]},t.mul=function(e,t){return 0===e||0===t?0:r[n[e]+n[t]]}},1675:function(e,t,r){const n=r(795),o=r(1418),a=r(1338),i=r(796),u=r(1419),c=n.getBCHDigit(7973);function l(e,t){return i.getCharCountIndicator(e,t)+4}function s(e,t){let r=0;return e.forEach((function(e){const n=l(e.mode,t);r+=n+e.getBitsLength()})),r}t.from=function(e,t){return u.isValid(e)?parseInt(e,10):t},t.getCapacity=function(e,t,r){if(!u.isValid(e))throw new Error("Invalid QR Code version");void 0===r&&(r=i.BYTE);const a=8*(n.getSymbolTotalCodewords(e)-o.getTotalCodewordsCount(e,t));if(r===i.MIXED)return a;const c=a-l(r,e);switch(r){case i.NUMERIC:return Math.floor(c/10*3);case i.ALPHANUMERIC:return Math.floor(c/11*2);case i.KANJI:return Math.floor(c/13);case i.BYTE:default:return Math.floor(c/8)}},t.getBestVersionForData=function(e,r){let n;const o=a.from(r,a.M);if(Array.isArray(e)){if(e.length>1)return function(e,r){for(let n=1;n<=40;n++)if(s(e,n)<=t.getCapacity(n,r,i.MIXED))return n}(e,o);if(0===e.length)return 1;n=e[0]}else n=e;return function(e,r,n){for(let o=1;o<=40;o++)if(r<=t.getCapacity(o,n,e))return o}(n.mode,n.getLength(),o)},t.getEncodedBits=function(e){if(!u.isValid(e)||e<7)throw new Error("Invalid QR Code version");let t=e<<12;for(;n.getBCHDigit(t)-c>=0;)t^=7973<<n.getBCHDigit(t)-c;return e<<12|t}},1676:function(e,t,r){const n=r(795),o=n.getBCHDigit(1335);t.getEncodedBits=function(e,t){const r=e.bit<<3|t;let a=r<<10;for(;n.getBCHDigit(a)-o>=0;)a^=1335<<n.getBCHDigit(a)-o;return 21522^(r<<10|a)}},1677:function(e,t,r){const n=r(796),o=r(1678),a=r(1679),i=r(1680),u=r(1681),c=r(1420),l=r(795),s=r(1682);function f(e){return unescape(encodeURIComponent(e)).length}function d(e,t,r){const n=[];let o;for(;null!==(o=e.exec(r));)n.push({data:o[0],index:o.index,mode:t,length:o[0].length});return n}function p(e){const t=d(c.NUMERIC,n.NUMERIC,e),r=d(c.ALPHANUMERIC,n.ALPHANUMERIC,e);let o,a;l.isKanjiModeEnabled()?(o=d(c.BYTE,n.BYTE,e),a=d(c.KANJI,n.KANJI,e)):(o=d(c.BYTE_KANJI,n.BYTE,e),a=[]);return t.concat(r,o,a).sort((function(e,t){return e.index-t.index})).map((function(e){return{data:e.data,mode:e.mode,length:e.length}}))}function m(e,t){switch(t){case n.NUMERIC:return o.getBitsLength(e);case n.ALPHANUMERIC:return a.getBitsLength(e);case n.KANJI:return u.getBitsLength(e);case n.BYTE:return i.getBitsLength(e)}}function y(e,t){let r;const c=n.getBestModeForData(e);if(r=n.from(t,c),r!==n.BYTE&&r.bit<c.bit)throw new Error('"'+e+'" cannot be encoded with mode '+n.toString(r)+".\n Suggested mode is: "+n.toString(c));switch(r!==n.KANJI||l.isKanjiModeEnabled()||(r=n.BYTE),r){case n.NUMERIC:return new o(e);case n.ALPHANUMERIC:return new a(e);case n.KANJI:return new u(e);case n.BYTE:return new i(e)}}t.fromArray=function(e){return e.reduce((function(e,t){return"string"==typeof t?e.push(y(t,null)):t.data&&e.push(y(t.data,t.mode)),e}),[])},t.fromString=function(e,r){const o=function(e){const t=[];for(let r=0;r<e.length;r++){const o=e[r];switch(o.mode){case n.NUMERIC:t.push([o,{data:o.data,mode:n.ALPHANUMERIC,length:o.length},{data:o.data,mode:n.BYTE,length:o.length}]);break;case n.ALPHANUMERIC:t.push([o,{data:o.data,mode:n.BYTE,length:o.length}]);break;case n.KANJI:t.push([o,{data:o.data,mode:n.BYTE,length:f(o.data)}]);break;case n.BYTE:t.push([{data:o.data,mode:n.BYTE,length:f(o.data)}])}}return t}(p(e,l.isKanjiModeEnabled())),a=function(e,t){const r={},o={start:{}};let a=["start"];for(let i=0;i<e.length;i++){const u=e[i],c=[];for(let e=0;e<u.length;e++){const l=u[e],s=""+i+e;c.push(s),r[s]={node:l,lastCount:0},o[s]={};for(let e=0;e<a.length;e++){const i=a[e];r[i]&&r[i].node.mode===l.mode?(o[i][s]=m(r[i].lastCount+l.length,l.mode)-m(r[i].lastCount,l.mode),r[i].lastCount+=l.length):(r[i]&&(r[i].lastCount=l.length),o[i][s]=m(l.length,l.mode)+4+n.getCharCountIndicator(l.mode,t))}}a=c}for(let e=0;e<a.length;e++)o[a[e]].end=0;return{map:o,table:r}}(o,r),i=s.find_path(a.map,"start","end"),u=[];for(let e=1;e<i.length-1;e++)u.push(a.table[i[e]].node);return t.fromArray(function(e){return e.reduce((function(e,t){const r=e.length-1>=0?e[e.length-1]:null;return r&&r.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)}),[])}(u))},t.rawSplit=function(e){return t.fromArray(p(e,l.isKanjiModeEnabled()))}},1678:function(e,t,r){const n=r(796);function o(e){this.mode=n.NUMERIC,this.data=e.toString()}o.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){let t,r,n;for(t=0;t+3<=this.data.length;t+=3)r=this.data.substr(t,3),n=parseInt(r,10),e.put(n,10);const o=this.data.length-t;o>0&&(r=this.data.substr(t),n=parseInt(r,10),e.put(n,3*o+1))},e.exports=o},1679:function(e,t,r){const n=r(796),o=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function a(e){this.mode=n.ALPHANUMERIC,this.data=e}a.getBitsLength=function(e){return 11*Math.floor(e/2)+e%2*6},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let r=45*o.indexOf(this.data[t]);r+=o.indexOf(this.data[t+1]),e.put(r,11)}this.data.length%2&&e.put(o.indexOf(this.data[t]),6)},e.exports=a},1680:function(e,t,r){const n=r(796);function o(e){this.mode=n.BYTE,this.data="string"==typeof e?(new TextEncoder).encode(e):new Uint8Array(e)}o.getBitsLength=function(e){return 8*e},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){for(let t=0,r=this.data.length;t<r;t++)e.put(this.data[t],8)},e.exports=o},1681:function(e,t,r){const n=r(796),o=r(795);function a(e){this.mode=n.KANJI,this.data=e}a.getBitsLength=function(e){return 13*e},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let r=o.toSJIS(this.data[t]);if(r>=33088&&r<=40956)r-=33088;else{if(!(r>=57408&&r<=60351))throw new Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");r-=49472}r=192*(r>>>8&255)+(255&r),e.put(r,13)}},e.exports=a},1682:function(e,t,r){"use strict";var n={single_source_shortest_paths:function(e,t,r){var o={},a={};a[t]=0;var i,u,c,l,s,f,d,p=n.PriorityQueue.make();for(p.push(t,0);!p.empty();)for(c in u=(i=p.pop()).value,l=i.cost,s=e[u]||{})s.hasOwnProperty(c)&&(f=l+s[c],d=a[c],(void 0===a[c]||d>f)&&(a[c]=f,p.push(c,f),o[c]=u));if(void 0!==r&&void 0===a[r]){var m=["Could not find a path from ",t," to ",r,"."].join("");throw new Error(m)}return o},extract_shortest_path_from_predecessor_list:function(e,t){for(var r=[],n=t;n;)r.push(n),e[n],n=e[n];return r.reverse(),r},find_path:function(e,t,r){var o=n.single_source_shortest_paths(e,t,r);return n.extract_shortest_path_from_predecessor_list(o,r)},PriorityQueue:{make:function(e){var t,r=n.PriorityQueue,o={};for(t in e=e||{},r)r.hasOwnProperty(t)&&(o[t]=r[t]);return o.queue=[],o.sorter=e.sorter||r.default_sorter,o},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){var r={value:e,cost:t};this.queue.push(r),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};e.exports=n},1683:function(e,t,r){const n=r(1421);t.render=function(e,t,r){let o=r,a=t;void 0!==o||t&&t.getContext||(o=t,t=void 0),t||(a=function(){try{return document.createElement("canvas")}catch(e){throw new Error("You need to specify a canvas element")}}()),o=n.getOptions(o);const i=n.getImageWidth(e.modules.size,o),u=a.getContext("2d"),c=u.createImageData(i,i);return n.qrToImageData(c.data,e,o),function(e,t,r){e.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=r,t.width=r,t.style.height=r+"px",t.style.width=r+"px"}(u,a,i),u.putImageData(c,0,0),a},t.renderToDataURL=function(e,r,n){let o=n;void 0!==o||r&&r.getContext||(o=r,r=void 0),o||(o={});const a=t.render(e,r,o),i=o.type||"image/png",u=o.rendererOpts||{};return a.toDataURL(i,u.quality)}},1684:function(e,t,r){const n=r(1421);function o(e,t){const r=e.a/255,n=t+'="'+e.hex+'"';return r<1?n+" "+t+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function a(e,t,r){let n=e+t;return void 0!==r&&(n+=" "+r),n}t.render=function(e,t,r){const i=n.getOptions(t),u=e.modules.size,c=e.modules.data,l=u+2*i.margin,s=i.color.light.a?"<path "+o(i.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",f="<path "+o(i.color.dark,"stroke")+' d="'+function(e,t,r){let n="",o=0,i=!1,u=0;for(let c=0;c<e.length;c++){const l=Math.floor(c%t),s=Math.floor(c/t);l||i||(i=!0),e[c]?(u++,c>0&&l>0&&e[c-1]||(n+=i?a("M",l+r,.5+s+r):a("m",o,0),o=0,i=!1),l+1<t&&e[c+1]||(n+=a("h",u),u=0)):o++}return n}(c,u,i.margin)+'"/>',d='viewBox="0 0 '+l+" "+l+'"',p='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+d+' shape-rendering="crispEdges">'+s+f+"</svg>\n";return"function"==typeof r&&r(null,p),p}},206:function(e,t,r){"use strict";r(1344);var n=r(426);r(589);t.a=n.a},30:function(e,t,r){"use strict";r(1495);var n=r(372);r(138);t.a=n.a},308:function(e,t,r){"use strict";var n=r(216);r.d(t,"a",(function(){return n.a})),r.d(t,"b",(function(){return n.b}))},32:function(e,t,r){"use strict";var n=r(80),o=r.n(n),a=(r(1252),r(371)),i=r(57),u=r.n(i),c=r(94),l=r.n(c),s=r(0),f=r.n(s),d=r(6),p=r.n(d),m=r(5),y=r.n(m),h=r(95),b=r.n(h),v=r(1232),g=(r(188),["className","dropdownClassName"]);function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var E=f.a.forwardRef((function(e,t){var r=e.className,n=e.dropdownClassName,o=l()(e,g);return f.a.createElement(a.a,u()({className:y()("larkui-select",r),dropdownClassName:y()("larkui-select-dropdown",n),ref:t,suffixIcon:f.a.createElement(v.default,null)},o))}));E.propTypes=w(w({},a.a.SelectProps),{},{className:p.a.string,dropdownClassName:p.a.string}),b()(E,a.a),t.a=E},323:function(e,t,r){"use strict";r(227);var n=r(101),o=r(0),a=r.n(o),i=r(5),u=r.n(i),c=r(1239),l=r(6),s=r.n(l),f={noWrap:"index-module_noWrap_glNxF",center:"index-module_center_zSt9A",inherit:"index-module_inherit_TQ-oW",justify:"index-module_justify_BBNTE",left:"index-module_left_melIP",right:"index-module_right_BcDRZ","common-link":"index-module_common-link_LkRIl","common-tab":"index-module_common-tab_EdL1P",active:"index-module_active_cmLTu","common-menu":"index-module_common-menu_OiYt2","common-icon":"index-module_common-icon_60unB","common-flex":"index-module_common-flex_YpvU1","common-iconButton":"index-module_common-iconButton_9fUSh","common-menu-item":"index-module_common-menu-item_wENsl",headline1:"index-module_headline1_gNn3d","headline1-link":"index-module_headline1-link_hpiWt","headline1-tab":"index-module_headline1-tab_2tnKG","headline1-menu":"index-module_headline1-menu_kn1nZ","headline1-icon":"index-module_headline1-icon_Ugsfz","headline1-flex":"index-module_headline1-flex_XKxAU","headline1-iconButton":"index-module_headline1-iconButton_JxTPN","headline1-menu-item":"index-module_headline1-menu-item_6KtqL","headline1-secondary":"index-module_headline1-secondary_oSaxw",headline2:"index-module_headline2_xyzBy","headline2-link":"index-module_headline2-link_bkLCB","headline2-tab":"index-module_headline2-tab_n1Akb","headline2-menu":"index-module_headline2-menu_QL2po","headline2-icon":"index-module_headline2-icon_Ge-vk","headline2-flex":"index-module_headline2-flex_KZxEZ","headline2-iconButton":"index-module_headline2-iconButton_uBIj0","headline2-menu-item":"index-module_headline2-menu-item_1iIzo","headline2-secondary":"index-module_headline2-secondary_t1vqD",headline3:"index-module_headline3_6OwWy","headline3-link":"index-module_headline3-link_wcUG4","headline3-tab":"index-module_headline3-tab_GRz8p","headline3-menu":"index-module_headline3-menu_pdEQ6","headline3-icon":"index-module_headline3-icon_maylx","headline3-flex":"index-module_headline3-flex_EdA3C","headline3-iconButton":"index-module_headline3-iconButton_ljBJY","headline3-menu-item":"index-module_headline3-menu-item_FneW1","headline3-secondary":"index-module_headline3-secondary_gdmSF",headline4:"index-module_headline4_cCWAs","headline4-link":"index-module_headline4-link_pksrg","headline4-tab":"index-module_headline4-tab_AZhw7","headline4-menu":"index-module_headline4-menu_Zh+Gf","headline4-icon":"index-module_headline4-icon_I8A2c","headline4-flex":"index-module_headline4-flex_-WCmH","headline4-iconButton":"index-module_headline4-iconButton_unM1q","headline4-menu-item":"index-module_headline4-menu-item_HZvZs","headline4-secondary":"index-module_headline4-secondary_mwc2q",title:"index-module_title_AMQeB","title-link":"index-module_title-link_LhWVV","title-tab":"index-module_title-tab_PEcOM","title-menu":"index-module_title-menu_yRd7C","title-icon":"index-module_title-icon_jD1r3","title-flex":"index-module_title-flex_6ud+f","title-iconButton":"index-module_title-iconButton_eKfGH","title-menu-item":"index-module_title-menu-item_+2INX","title-secondary":"index-module_title-secondary_+7kF8","title-strong":"index-module_title-strong_rB2kd",body:"index-module_body_0t8B1","body-link":"index-module_body-link_1Ezeh","body-tab":"index-module_body-tab_ZArAR","body-menu":"index-module_body-menu_rkEZj","body-icon":"index-module_body-icon_dtRXT","body-flex":"index-module_body-flex_xUh97","body-iconButton":"index-module_body-iconButton_zEAAb","body-menu-item":"index-module_body-menu-item_530BT","body-secondary":"index-module_body-secondary_jzKzN","body-strong":"index-module_body-strong_B8Xyf","body-small":"index-module_body-small_M0nB9","body-small-link":"index-module_body-small-link_dpTlG","body-small-tab":"index-module_body-small-tab_HAI-k","body-small-menu":"index-module_body-small-menu_+sZ91","body-small-icon":"index-module_body-small-icon_9yvQH","body-small-flex":"index-module_body-small-flex_TzPYW","body-small-iconButton":"index-module_body-small-iconButton_Ry5bn","body-small-menu-item":"index-module_body-small-menu-item_5h34h","body-small-secondary":"index-module_body-small-secondary_dJo56",disable:"index-module_disable_bsdL7","disable-link":"index-module_disable-link_fsP5Q","disable-tab":"index-module_disable-tab_1L8n1","disable-menu":"index-module_disable-menu_h0UA9","disable-icon":"index-module_disable-icon_szLm2","disable-flex":"index-module_disable-flex_EDI9g","disable-iconButton":"index-module_disable-iconButton_41jru","disable-menu-item":"index-module_disable-menu-item_tolga",caption:"index-module_caption_bWso-","caption-link":"index-module_caption-link_iUcKX","caption-tab":"index-module_caption-tab_Pahmo","caption-menu":"index-module_caption-menu_FYIeq","caption-icon":"index-module_caption-icon_Y3NyS","caption-flex":"index-module_caption-flex_FI2Np","caption-iconButton":"index-module_caption-iconButton_hWPqs","caption-menu-item":"index-module_caption-menu-item_1kLnU","caption-secondary":"index-module_caption-secondary_SFdcH","caption-small":"index-module_caption-small_B13mr","caption-small-link":"index-module_caption-small-link_8T++a","caption-small-tab":"index-module_caption-small-tab_ibUZP","caption-small-menu":"index-module_caption-small-menu_G8H-J","caption-small-icon":"index-module_caption-small-icon_PtjdH","caption-small-flex":"index-module_caption-small-flex_+EFJk","caption-small-iconButton":"index-module_caption-small-iconButton_33CTf","caption-small-menu-item":"index-module_caption-small-menu-item_cqmp0","caption-small-secondary":"index-module_caption-small-secondary_H2H1r","primary-button-default":"index-module_primary-button-default_Vw1-y","primary-button-default-link":"index-module_primary-button-default-link_oQhLa","primary-button-default-tab":"index-module_primary-button-default-tab_rf8zH","primary-button-default-menu":"index-module_primary-button-default-menu_JESyh","primary-button-default-icon":"index-module_primary-button-default-icon_E0TCd","primary-button-default-flex":"index-module_primary-button-default-flex_pNGzV","primary-button-default-iconButton":"index-module_primary-button-default-iconButton_bguHS","primary-button-default-menu-item":"index-module_primary-button-default-menu-item_EY5rA","primary-button-default-secondary":"index-module_primary-button-default-secondary_R+QUT","primary-button-default-strong":"index-module_primary-button-default-strong_Htk5A","primary-button-strong":"index-module_primary-button-strong_tCPsX","primary-button-strong-link":"index-module_primary-button-strong-link_FFk3N","primary-button-strong-tab":"index-module_primary-button-strong-tab_iu42A","primary-button-strong-menu":"index-module_primary-button-strong-menu_MUMyr","primary-button-strong-icon":"index-module_primary-button-strong-icon_-xloa","primary-button-strong-flex":"index-module_primary-button-strong-flex_uWzkw","primary-button-strong-iconButton":"index-module_primary-button-strong-iconButton_f6r63","primary-button-strong-menu-item":"index-module_primary-button-strong-menu-item_RzDwe","primary-button-strong-secondary":"index-module_primary-button-strong-secondary_rR6X1","primary-button-strong-strong":"index-module_primary-button-strong-strong_KuhtF","primary-button-strong-ghost":"index-module_primary-button-strong-ghost_LfbnS","secondary-button-default":"index-module_secondary-button-default_nN4ts","secondary-button-default-link":"index-module_secondary-button-default-link_P4JJV","secondary-button-default-tab":"index-module_secondary-button-default-tab_sTKaj","secondary-button-default-menu":"index-module_secondary-button-default-menu_CnLQt","secondary-button-default-icon":"index-module_secondary-button-default-icon_EBrIo","secondary-button-default-flex":"index-module_secondary-button-default-flex_myAK8","secondary-button-default-iconButton":"index-module_secondary-button-default-iconButton_3l8nj","secondary-button-default-menu-item":"index-module_secondary-button-default-menu-item_OZFHO","secondary-button-default-secondary":"index-module_secondary-button-default-secondary_iH73C","secondary-button-default-strong":"index-module_secondary-button-default-strong_U1PcZ","disable-button-default":"index-module_disable-button-default_do2Ky","disable-button-default-link":"index-module_disable-button-default-link_Cc4nX","disable-button-default-tab":"index-module_disable-button-default-tab_uzzYS","disable-button-default-menu":"index-module_disable-button-default-menu_ki5Hs","disable-button-default-icon":"index-module_disable-button-default-icon_+eAaQ","disable-button-default-flex":"index-module_disable-button-default-flex_pSS0P","disable-button-default-iconButton":"index-module_disable-button-default-iconButton_Ns-ZT","disable-button-default-menu-item":"index-module_disable-button-default-menu-item_H7X58","disable-button-default-secondary":"index-module_disable-button-default-secondary_sJwUn","disable-button-default-strong":"index-module_disable-button-default-strong_ApPSw",link:"index-module_link_4lMzA","link-link":"index-module_link-link_MSu6v","link-tab":"index-module_link-tab_UaSsE","link-menu":"index-module_link-menu_X9-jl","link-icon":"index-module_link-icon_GlYMK","link-flex":"index-module_link-flex_y87zq","link-iconButton":"index-module_link-iconButton_hFUyW","link-menu-item":"index-module_link-menu-item_QrtKv","link-secondary":"index-module_link-secondary_cYp8F","link-strong":"index-module_link-strong_6cupy",linkBtn:"index-module_linkBtn_viBrQ","linkBtn-link":"index-module_linkBtn-link_fRNiK","linkBtn-tab":"index-module_linkBtn-tab_xLPRH","linkBtn-menu":"index-module_linkBtn-menu_K8vUm","linkBtn-icon":"index-module_linkBtn-icon_bNwRp","linkBtn-flex":"index-module_linkBtn-flex_Xds+s","linkBtn-iconButton":"index-module_linkBtn-iconButton_nWnGl","linkBtn-menu-item":"index-module_linkBtn-menu-item_rDBK+","linkBtn-secondary":"index-module_linkBtn-secondary_pxTMi","linkBtn-strong":"index-module_linkBtn-strong_5PlMk","yuque-green-1":"index-module_yuque-green-1_t+Yes","yuque-green-2":"index-module_yuque-green-2_PSwCn","yuque-green-3":"index-module_yuque-green-3_990Pj","yuque-green-4":"index-module_yuque-green-4_LGQYT","yuque-green-5":"index-module_yuque-green-5_Wdkpl","yuque-green-6":"index-module_yuque-green-6_sp+C1","yuque-green-7":"index-module_yuque-green-7_Yz0nb","yuque-green-8":"index-module_yuque-green-8_TdQoj","yuque-green-9":"index-module_yuque-green-9_78uX8","yuque-grey-1":"index-module_yuque-grey-1_MFlzw","yuque-grey-2":"index-module_yuque-grey-2_1MPla","yuque-grey-3":"index-module_yuque-grey-3_Xwd3D","yuque-grey-4":"index-module_yuque-grey-4_Iaalm","yuque-grey-5":"index-module_yuque-grey-5_dTMGn","yuque-grey-6":"index-module_yuque-grey-6_9P9mX","yuque-grey-7":"index-module_yuque-grey-7_fo9a2","yuque-grey-8":"index-module_yuque-grey-8_5ZItk","yuque-grey-9":"index-module_yuque-grey-9_2KrCK","blue-1":"index-module_blue-1_9NXmy","blue-2":"index-module_blue-2_71Xfa","blue-3":"index-module_blue-3_QzBMA","blue-4":"index-module_blue-4_eIuv6","blue-5":"index-module_blue-5_--rJ2","blue-6":"index-module_blue-6_EM+ye","blue-7":"index-module_blue-7_dcd5v","blue-8":"index-module_blue-8_i6IXc","blue-9":"index-module_blue-9_8WLz4","organge-1":"index-module_organge-1_QF-zP","organge-2":"index-module_organge-2_zYIHH","organge-3":"index-module_organge-3_EaUTx","organge-4":"index-module_organge-4_KEzWt","organge-5":"index-module_organge-5_uWCqi","organge-6":"index-module_organge-6_SWaCL","organge-7":"index-module_organge-7_UCnnq","organge-8":"index-module_organge-8_yxbUr","organge-9":"index-module_organge-9_Wqbx6","yellow-1":"index-module_yellow-1_9BdDH","yellow-2":"index-module_yellow-2_mmpuD","yellow-3":"index-module_yellow-3_1MgEh","yellow-4":"index-module_yellow-4_twlST","yellow-5":"index-module_yellow-5_Z7Kqp","yellow-6":"index-module_yellow-6_EZhZz","yellow-7":"index-module_yellow-7_lCkCE","yellow-8":"index-module_yellow-8_ZQ7hX","yellow-9":"index-module_yellow-9_NAs4Y","red-1":"index-module_red-1_Z-G+I","red-2":"index-module_red-2_ec26p","red-3":"index-module_red-3_CitaX","red-4":"index-module_red-4_Rf4VB","red-5":"index-module_red-5_8DEQO","red-6":"index-module_red-6_e40Pl","red-7":"index-module_red-7_ND3LM","red-8":"index-module_red-8_S4EAE","red-9":"index-module_red-9_s0fc1","magenta-1":"index-module_magenta-1_BVOfc","magenta-2":"index-module_magenta-2_LeAiv","magenta-3":"index-module_magenta-3_anmFf","magenta-4":"index-module_magenta-4_iyuji","magenta-5":"index-module_magenta-5_XFO8v","magenta-6":"index-module_magenta-6_83nvI","magenta-7":"index-module_magenta-7_EylhI","magenta-8":"index-module_magenta-8_H7UoN","magenta-9":"index-module_magenta-9_BZu8L","purple-1":"index-module_purple-1_4Mt5K","purple-2":"index-module_purple-2_ZU8FB","purple-3":"index-module_purple-3_XZk6m","purple-4":"index-module_purple-4_RkQAl","purple-5":"index-module_purple-5_UwSof","purple-6":"index-module_purple-6_VE5X4","purple-7":"index-module_purple-7_4qxQ3","purple-8":"index-module_purple-8_34VRx","purple-9":"index-module_purple-9_S5yo0","cyan-1":"index-module_cyan-1_XcHSS","cyan-2":"index-module_cyan-2_8Z0Qc","cyan-3":"index-module_cyan-3_8EpV-","cyan-4":"index-module_cyan-4_BTV0V","cyan-5":"index-module_cyan-5_OOfUa","cyan-6":"index-module_cyan-6_8F8Ne","cyan-7":"index-module_cyan-7_tQGo7","cyan-8":"index-module_cyan-8_nBcrC","cyan-9":"index-module_cyan-9_pp0HZ","pea-green-1":"index-module_pea-green-1_YZ7VF","pea-green-2":"index-module_pea-green-2_cB-wj","pea-green-3":"index-module_pea-green-3_0aW+j","pea-green-4":"index-module_pea-green-4_V3TMD","pea-green-5":"index-module_pea-green-5_UQ6+a","pea-green-6":"index-module_pea-green-6_VBEAH","pea-green-7":"index-module_pea-green-7_fz-pg","pea-green-8":"index-module_pea-green-8_vhbae","pea-green-9":"index-module_pea-green-9_iLSdb",white:"index-module_white_-Ikm2","yuque-color-text-disable":"index-module_yuque-color-text-disable_H8og1",flexFix:"index-module_flexFix_gj50B"};function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}var p=["component","variant","variantMapping","paragraph","className","style","noWrap","align","mb","ml","mr","mt","type","color","fontSize","h5FontSize","componentProps","title","maxWidth","flexFix"];function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=d(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==d(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,u=[],c=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return u}}(e,t)||v(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){if(e){if("string"==typeof e)return g(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function _(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.filter((function(e){return e}));return 1===n.length?n[0]:function(e){n.forEach((function(t){!function(e,t){"function"==typeof e?e(t):"Object"===Object.prototype.toString.call(e).slice(8,-1)&&(e.current=t)}(t,e)}))}}var w,E={headline1:"headline1",headline2:"headline2",headline3:"headline3",headline4:"headline4",title:"title",body:"body",bodySmall:"body-small",caption:"caption",captionSmall:"caption-small",primaryButtonDefault:"primary-button-default",primaryButtonStrong:"primary-button-strong",secondaryButtonDefault:"secondary-button-default",disableButtonDefault:"disable-button-default",disable:"disable",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",linkBtn:"linkBtn",link:"link"},O={center:"center",inherit:"inherit",justify:"justify",left:"left",right:"right"},x={variantMapping:{h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",headline1:"h1",headline2:"h2",headline3:"h3",headline4:"h4",title:"h5",body:"h6","body-small":"p",caption:"p","caption-small":"p"},mb:0,ml:0,mr:0,mt:0,align:O.inherit,variant:E.body,componentProps:{}},A={className:s.a.string,component:s.a.elementType,variant:s.a.oneOf(Object.values(E)),paragraph:s.a.bool,variantMapping:s.a.object,noWrap:s.a.bool,flexFix:s.a.bool,style:s.a.object,align:s.a.oneOf(Object.values(O)),children:s.a.node,mb:s.a.oneOfType([s.a.number,s.a.string]),ml:s.a.oneOfType([s.a.number,s.a.string]),mr:s.a.oneOfType([s.a.number,s.a.string]),mt:s.a.oneOfType([s.a.number,s.a.string]),type:s.a.oneOf([].concat((w=Object.values({secondary:"secondary",strong:"strong",link:"link",icon:"icon",menu:"menu",flex:"flex",iconButton:"iconButton"}),function(e){if(Array.isArray(e))return g(e)}(w)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(w)||v(w)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[""])),onClick:s.a.func,fontSize:s.a.number,h5FontSize:s.a.number,color:s.a.string,componentProps:s.a.object,title:s.a.string,maxWidth:s.a.number,exact:s.a.bool},k=Object(o.forwardRef)((function(e,t){var r=e.component,i=e.variant,l=e.variantMapping,s=e.paragraph,d=e.className,m=e.style,v=e.noWrap,g=e.align,w=e.mb,E=e.ml,O=e.mr,x=e.mt,A=e.type,k=e.color,T=e.fontSize,S=e.h5FontSize,P=e.componentProps,j=e.title,L=e.maxWidth,N=e.flexFix,C=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,p),I=r||(s?"p":i&&(null==l?void 0:l[i]))||"span",M=g&&f[g],R=f["".concat(i,"-").concat(A)]||"",D=b(Object(c.a)(),2),B=D[0],Y=D[1],F=b(Object(o.useState)(!1),2),U=F[0],z=F[1];Object(o.useEffect)((function(){var e=j&&Y.offsetWidth<Y.scrollWidth;e!==U&&z(Boolean(e))}),[Y]);var G=Object(o.createElement)(I,y(y(y({className:u()(i&&f[i],R,M,d,h(h(h({},f.noWrap,v),f.flexFix,N),f[k],k)),style:y({marginBottom:w,marginLeft:E,marginRight:O,marginTop:x,fontSize:window.h5&&S||T,maxWidth:L},m)},P),C),{},{ref:_(B,t)}));return U?a.a.createElement(n.a,{title:j},G):G}));k.propTypes=A,k.defaultProps=x;t.a=k},366:function(e,t,r){"use strict";var n=r(495);r.d(t,"a",(function(){return n.a}))},3665:function(e,t,r){"use strict";var n=r(0),o=r.n(n),a=r(60),i=r.n(a),u=r(212),c=r(64),l=r.n(c),s=r(3704),f=r.n(s),d=r(3970),p=r(1685),m=r(3514),y=r(157),h=r(3967),b=r.n(h),v=r(3815),g=r(3968),_=r.n(g),w=r(3881),E=r.n(w),O=r(3969),x=r(353),A=r(958),k=r(133),T=r(47);function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function P(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,j(n.key),n)}}function j(e){var t=function(e,t){if("object"!=S(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=S(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==S(t)?t:t+""}var L,N=i()("editor:cache"),C=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.key=t},(t=[{key:"retrieve",value:function(){var e={format:null,value:null};N("[retrieve]key: ",this.key);var t=k.a.get(this.key);if(!t)return null;N("[retrieve]find text: ",t);var r=f.a.guessFormat(t);return e.format=r,e.value=t,N("[retrieve]doc: ",e),e}},{key:"put",value:function(e,t){N("[put]content cached: ","".concat(this.key," -> ").concat(e)),k.a.set(this.key,e)}},{key:"clear",value:function(){k.a.remove(this.key)}}])&&P(e.prototype,t),r&&P(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r}();function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function M(e){return function(e){if(Array.isArray(e))return R(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return R(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?R(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function D(){D=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof b?t:b,i=Object.create(a.prototype),u=new j(n||[]);return o(i,"_invoke",{value:k(e,r,u)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",p="suspendedYield",m="executing",y="completed",h={};function b(){}function v(){}function g(){}var _={};l(_,i,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(L([])));E&&E!==r&&n.call(E,i)&&(_=E);var O=g.prototype=b.prototype=Object.create(_);function x(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,u){var c=f(e[o],e,a);if("throw"!==c.type){var l=c.arg,s=l.value;return s&&"object"==I(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,u)}),(function(e){r("throw",e,i,u)})):t.resolve(s).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,u)}))}u(c.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function k(t,r,n){var o=d;return function(a,i){if(o===m)throw Error("Generator is already running");if(o===y){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var u=n.delegate;if(u){var c=T(u,n);if(c){if(c===h)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var l=f(t,r,n);if("normal"===l.type){if(o=n.done?y:p,l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=y,n.method="throw",n.arg=l.arg)}}}function T(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,T(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function L(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(I(t)+" is not iterable")}return v.prototype=g,o(O,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:v,configurable:!0}),v.displayName=l(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,l(e,c,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(A.prototype),l(A.prototype,u,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(O),l(O,c,"Generator"),l(O,i,(function(){return this})),l(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=L,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return u.type="throw",u.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],u=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:L(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}function B(e,t,r,n,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,o)}function Y(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){B(a,n,o,i,u,"next",e)}function u(e){B(a,n,o,i,u,"throw",e)}i(void 0)}))}}function F(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,z(n.key),n)}}function U(e,t,r){return(t=z(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z(e){var t=function(e,t){if("object"!=I(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=I(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==I(t)?t:t+""}var G=i()("biz:lakex_mini_editor_base"),q=(null===(L=window.appData)||void 0===L?void 0:L.me)||{},V=function(){return e=function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),U(this,"getDefaultSuggestions",(function(){return t.options.getDefaultSuggestions?t.options.getDefaultSuggestions():[]})),U(this,"setEngine",(function(e){t._engine=e,t.ocrListenerRemover=m.a.onEditorEngineLoaded(e,t.getType())})),U(this,"getEngine",(function(){return t._engine})),U(this,"setValue",(function(e){var r=e;e?e.startsWith("<")?(r={type:"lake",value:e},t._engine.setDocument(r)):"string"==typeof e&&(r={type:"json",value:JSON.parse(e)},t._engine.setDocument(r)):t._engine.setDocument()})),U(this,"getValue",(function(){return t._engine?t._engine.getPureContent():t.getDefaultValue()})),U(this,"isEmpty",(function(){return!t._engine||t._engine.isEmpty()})),U(this,"getSafetyValue",Y(D().mark((function e(){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.contentReady();case 2:return e.abrupt("return",t.getValue());case 3:case"end":return e.stop()}}),e)})))),U(this,"getHtml",(function(){return t._engine?t._engine.getPureHtml():null})),U(this,"focus",(function(e){if(!t._engine)return null;t._engine.focus(e)})),U(this,"contentReady",Y(D().mark((function e(){var r,n;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._engine){e.next=2;break}return e.abrupt("return",null);case 2:return r=0,n=function(e,o){t._engine.canGetDocument()?e():r>10?o():(r++,setTimeout((function(){n(e,o)}),1e3))},e.abrupt("return",new Promise(n));case 5:case"end":return e.stop()}}),e)})))),U(this,"saveAll",(function(){if(!t.options.disableCache){var e={format:l.a.FORMAT.LAKE,value:t.getValue(),html:t.getHtml()};t.saveToCache(e)}})),this.options=r,this.from=r.from||"reply",this.targetType=r.targetType,this.belong=r.belong,this.belongType=r.belongType,this.book=r.book,this.group=r.group,this.target=r.target,this.attachType=r.attachType,this.isEditMode=!!r.target,this.type=this.getType(),this.ctoken=Object(x.a)(window);var n=this.getCacheKey();this.cacheKeys={title:"".concat(n,"/title"),content:"".concat(n,"/content")},r.disableCache||(this.editorCache=new C(this.cacheKeys.content)),this.uuid=this.getUuid(),this._engine=null,this.ocrListenerRemover=null,this.initialDocument=null,this.init()},t=[{key:"init",value:function(){this.initialDocument=this.getInitialDocument(),G("init use: ",this.initialDocument)}},{key:"buildOptions",value:function(e){var t=this,r={translate:{supportTranslate:_()()},hideVipIcon:Object(O.a)(),board:{boardWebProxyParams:{webProxy:T.a,userId:null==q?void 0:q.id,spm:y,appData:window.appData}},image:{supportImgOCR:E()(),uploadFileURL:function(){return m.a.adaptOcrImageUploadUrl(t.getImageUploadUrl())},accept:Object(p.getImageAcceptArr)()},file:{hideEmbedButton:b()(),uploadFileURL:this.getFileUploadUrl(),accept:Object(p.getFileAcceptArr)(),localdocAccept:Object(p.getLocalDocAcceptArr)(),embedButtonStatus:Object(p.getIsDiabledPreviewAndEmbed)()},transfer:{transferFilesURL:this.getTransferUrl()},localdoc:{uploadFileURL:this.getFileUploadUrl(),accept:Object(p.getLocalDocAcceptArr)()},mention:{mentionURL:A.a.patchGroupIdToUrl(this.getMentionActionUrl()),defaultList:this.getDefaultSuggestions(),onSelected:function(e){"User"===e.type&&e.id&&Object(v.b)(e.id)},processMentionData:function(e){return e.users&&Array.isArray(e.users)&&(e.users=Object(v.a)(e.users)),e}},lockedtext:{action:this.getCryptoUrl()},placeholder:(null==e?void 0:e.placeholder)||this.getPlaceholder(),link:{autoCompleteLink:null==e?void 0:e.autoCompleteLink},video:{uploadAction:this.getMediaUploadUrl("video"),queryAction:"/api/video",accept:Object(p.getVideoAcceptArr)()},audio:{uploadFileURL:this.getMediaUploadUrl("audio"),queryURL:"/api/video",accept:Object(p.getAudioAcceptArr)()},vote:{allowVote:!0,queryDetailUrl:"api/votes",queryCheckUrl:"api/votes/mine",voteUrl:"api/votes"},yuque:{disableEmbedView:this.getDisableYuqueCardEmbedView()},materialLibrary:{component:o.a.createElement(d.a,{storage:k.a,webProxy:T.a})},fullscreen:{enable:this.getEnableFullEditor()}},n=[],a=this.getBlockedCards();return a&&a.length>1&&(n=Array.from(new Set([].concat(M(n),M(a))))),r.disabledPlugins=n,r}},{key:"getProps",value:function(){return{format:this.getFormat(),defaultValue:this.getDefaultValue(),autoFocus:this.getAutoFocus(),isMiniSize:this.isMiniSize()}}},{key:"getType",value:function(){return this.options.type||"unknown"}},{key:"getAutoFocus",value:function(){var e=this.options.autoFocus;return null!=e?e:!!this.options.useMiniGuide}},{key:"isMiniSize",value:function(){return!1}},{key:"getEnableFullEditor",value:function(){return!0}},{key:"getBlockedCards",value:function(){return["video","checkIn","vote","audio"]}},{key:"getUuid",value:function(){var e=this.cacheKeys.uuid,t=k.a.get(e);return t||(t=Object(u.default)(32)+Object(u.default)(32),k.a.set(e,t)),t}},{key:"getDefaultFormat",value:function(){return l.a.FORMAT.LAKE}},{key:"getFormat",value:function(){var e=this.options.format;return e||this.initialDocument.format}},{key:"getPlaceholder",value:function(){return this.options.placeholder}},{key:"getInitialDocument",value:function(){if(this.initialDocument)return this.initialDocument;var e=this.loadFromCache();if(G("cached document:",e),this.isEditMode){var t=this.getContentObject();return G("adapted content: ",t),e&&(G("merge with cached content",e),t.format=e.format||t.format,t.title=e.title||t.title,t.value=e.value||t.value),t}if(e)return e.format=e.format||this.getDefaultFormat(),e;var r=this.loadFromUrl();return r||{format:this.getDefaultFormat(),title:null,value:null}}},{key:"getContentObject",value:function(e){return{format:(e=e||this.target||{}).format||this.getDefaultFormat(),title:e.title||e.name||"",value:e.value||e.body_asl||e.content}}},{key:"getDefaultValue",value:function(){var e=this.options.defaultValue;return e||this.initialDocument.value}},{key:"getFullUrl",value:function(e){return this.isEditMode&&!this.options.useBelongAttach?"".concat(e,"&attachable_type=").concat(this.attachType,"&attachable_id=").concat(this.target.id,"&from=").concat(this.from):this.belong?"".concat(e,"&attachable_type=").concat(this.attachType,"&attachable_id=").concat(this.belong.id,"&from=").concat(this.from):null}},{key:"getTransferUrl",value:function(){return this.getFullUrl("/api/upload/copy?type=attachment")}},{key:"getFileUploadUrl",value:function(){var e="/api/upload/attach?ctoken=".concat(this.ctoken,"&type=attachment");return this.getFullUrl(e)}},{key:"getMediaUploadUrl",value:function(e){var t="/api/video?ctoken=".concat(this.ctoken,"&format=").concat(e);return this.getFullUrl(t)}},{key:"getImageUploadUrl",value:function(){var e=this.getFileUploadUrl();return e?e.replace("&type=attachment","&type=image"):null}},{key:"getMentionActionUrl",value:function(){var e="";return this.isEditMode&&!this.options.useBelongAttach?e="/api/users/complete?target_type=".concat(this.attachType,"&target_id=").concat(this.target.id):this.belong&&(e="/api/users/complete?target_type=".concat(this.attachType,"&target_id=").concat(this.belong.id)),e}},{key:"getCryptoUrl",value:function(){return"/api/services/crypto"}},{key:"getDisableYuqueCardEmbedView",value:function(){return this.options.disableYuqueCardEmbedView}},{key:"saveToCache",value:function(e){var t;G("save to cache:",e),e.format&&(e.title&&k.a.set(this.cacheKeys.title,e.title),this.needCacheContent(e)?null===(t=this.editorCache)||void 0===t||t.put(e.value,e.format):G("value is empty or the same as origin, ignore cache"))}},{key:"needCacheContent",value:function(e){if(this.options.disableCache)return!1;if(!e.value)return!1;var t;if(f.a.isBlank(e))return null===(t=this.editorCache)||void 0===t||t.clear(),!1;if(!this.target)return!0;var r=this.getContentObject();return!f.a.isContentSame(e.format,r.value,e.value)}},{key:"reset",value:function(){G("reset editor"),this.clearCache(),this._engine&&this._engine.setDocument()}},{key:"isContentChanged",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!e){var t=this.loadFromCache();t&&(e=t.value)}if(!this.target)return!0;var r="<cursor />";return this.target.body_asl.trim().replace(r,"")!==e.trim().replace(r,"")}},{key:"clearCache",value:function(){var e=this;G("clear cache"),Object.keys(this.cacheKeys).forEach((function(t){k.a.remove(e.cacheKeys[t])}))}},{key:"getCacheKey",value:function(){return this.isEditMode&&this.target&&this.belong?"autosave/".concat(this.type,"/").concat(this.belong.id,"/").concat(this.target.id,"/edit"):this.belong?"autosave/".concat(this.type,"/").concat(this.belong.id,"/new"):"autosave/".concat(this.type)}},{key:"loadFromUrl",value:function(){}},{key:"loadFromCache",value:function(){if(this.options.disableCache)return null;var e=!1,t={format:null,title:null,value:null},r=this.editorCache.retrieve();if(r&&(e=!0,t.format=r.format,t.value=r.value),this.cacheKeys.title){var n=k.a.get(this.cacheKeys.title);n&&(e=!0,t.title=n)}return e?t:null}},{key:"destroy",value:function(){var e;null===(e=this.ocrListenerRemover)||void 0===e||e.call(this)}}],r=[{key:"getEmptyDocument",value:function(){return{format:l.a.FORMAT.LAKE,value:null}}}],t&&F(e.prototype,t),r&&F(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r}();t.a=V},3785:function(e,t,r){"use strict";r.d(t,"c",(function(){return m})),r.d(t,"b",(function(){return y})),r.d(t,"a",(function(){return h}));var n=r(14),o=r.n(n),a=r(54),i=r(1249),u=r.n(i),c=r(149),l=r(803);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function f(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m={daily:"daily",weekly:"weekly",vote:"vote",default:"default",punchIn:"punchIn"},y=p(p(p(p({},m.default,{typeName:__("基础模板"),description:__("适用于自定义内容的话题"),title:"",content:"<!doctype lake><p></p>",type:m.default}),m.daily,{typeName:__("日报模板"),description:__("适用于团队日报的收集"),title:"#prefix# #day# 日报汇总",content:'<!doctype lake><meta name="doc-version" content="1" /><p>建议 TL 每天组织日会，将一天的重点事项安排于此</p><p>每位同学下班前，在此提交日报</p><p><br /></p><p>日报不要记流水账，尽量在 200 字以内</p><p>重点项目或工作要及时总结和提报，尤其风险点要及时提报</p><p>可以写写思考和感想</p><p><br /></p><p>写完自己的日报，也看看大家的</p><p>每一位同学的努力，都值得认真阅读与交流</p><p><br /></p><p><span style="color: #FA541C;"><span>注意不要提及保密项目和敏感数据</span></span></p>',type:m.daily}),m.weekly,{typeName:__("周报模板"),description:__("适用于团队周报的收集"),title:"#prefix# #day# 周报汇总",content:'<!doctype lake><meta name="doc-version" content="1" /><p>将一周的工作总结回复于此</p><p><br /></p><p>不要记流水账，尽量在 800 字以内</p><p>重点项目或工作要及时总结和提报，尤其风险点要及时提报</p><p>可以写写思考和感想</p><p><br /></p><p>写完自己的周报，也看看大家的</p><p>每一位同学的努力，都值得认真阅读与交流</p><p><br /></p><p><span style="color: #FA541C;"><span>注意不要提及保密项目和敏感数据</span></span></p>',type:m.weekly}),m.vote,{typeName:__("投票模板"),description:__("适用于需要投票的内容"),title:"一起来投票吧",content:'<!doctype lake><meta name="doc-version" content="1" /><card type="block" name="vote" value="data:%7B%22margin%22%3Atrue%2C%22id%22%3A%22jTHWG%22%2C%22type%22%3A%22single%22%7D"></card><p><br /><cursor /></p>',type:m.vote}),h=20,b={},v={archive:{startday:[{value:"0",title:__("当天")},{value:"1",title:__("一天后")},{value:"2",title:__("两天后")},{value:"7",title:__("一周后")},{value:"14",title:__("两周后")},{value:"31",title:__("一个月后")}]},create:{cycle:[{value:"daily",title:__("每天")},{value:"weekly",title:__("每周")},{value:"fortnightly",title:__("每双周")},{value:"monthly",title:__("每月")}],day:["",__("星期一"),__("星期二"),__("星期三"),__("星期四"),__("星期五"),__("星期六"),__("星期日")]}};b.archiveScheduleToText=function(e){if(!e)return"";var t=v.archive.startday.find((function(t){return t.value==="".concat(e.startday)}));return e.next_task_execute_time?__("{next_time} 自动归档",{next_time:u.a.format(e.next_task_execute_time)}):__("{day} {time} 自动归档",{day:t.title,time:e.time})},b.createScheduleToText=function(e){if(!e)return"";var t=v.create.cycle.find((function(t){return t.value==="".concat(e.cycle)})).title,r=null;if("daily"===e.cycle)5===e.weekdays.length?(t=__("每周一到周五"),r=""):(t=__("每天"),r="");else if("monthly"===e.cycle)r=e.monthdays.map((function(e){return 32===e?__("最后一天"):"".concat(e,"号")})).join(", ");else{r=e.weekdays.map((function(e){return v.create.day[e]})).join(", ")}return e.next_task_execute_time?__("{cycle} {day} {time} 自动发起，下一次执行时间：{next_time}",{cycle:t,day:r,time:e.time,next_time:u.a.format(e.next_task_execute_time)}):__("{cycle} {day} {time} 自动发起",{cycle:t,day:r,time:e.time})},b.isScheduleOrigin=function(e,t){return 0!==t.length&&t[0].object_id===e.id},b.adaptScheduleConfigs=function(e){var t={};return e&&e.forEach((function(e){t[e.type]=e.config})),t},b.normalizeSelectedUsers=function(e,t){var r={};(t=t||[]).forEach((function(e){r[e.id]=e}));var n=[],o=e;return Array.isArray(e)||(o=[e]),o.forEach((function(e){e.user&&(e.id=e.user.id),r[e.id]||n.push(e)})),n},b.mergeUsersToCollaborators=function(e,t){var r=f(e);return t.forEach((function(t){t.user&&(t.id=t.user.id),e.find((function(e){return e.user&&(e.id=e.user.id),t.id?t.id===e.id:t.user_id?t.user_id===e.user_id:t.provider_userid?t.provider_userid===e.provider_userid:!!t.workid&&t.workid===e.workid}))||r.push(t)})),r},b.isDepartment=function(e){return e.department||"Department"===e.type},b.adaptDepartment=function(e){return(Array.isArray(e)?e:[e]).forEach((function(e){b.isDepartment(e)&&(e.department=e.department||e)})),e},b.mergeDeptToCollaborators=function(e,t){if(l.a.isYuqueAddressBook())return e.push(t),e;var r=e.filter((function(e){return!b.isDepartment(e)}));return r.push(t),r},b.mergeDepartmentUsersToParticipants=function(e,t){var r=e.filter((function(e){return!e.department}));return b.mergeUsersToCollaborators(r,t)},b.adaptCollaboratorsToCreateRequest=function(e){var t=[],r=[],n=null,o=l.a.isYuqueAddressBook();e.forEach((function(e){b.isDepartment(e)?o?t.push(e.department.id):n=e.department:(e.user&&(e.user_id=e.user.id),r.push(e))}));var a={};return n&&(a.department_id=n.id),r.length>0&&(a.users=r),t.length&&(a.department_ids=t),a},b.adaptRequestForQueryUserPosts=function(e){var t=e.participants,r=e.period,n=[],o=null;t.forEach((function(e){b.isDepartment(e)?o=e.department:e.user_id?n.push(e.user_id):e.user?n.push(e.user.id):e.id&&n.push(e.id)}));var a=b.adaptPeriod(r,"YYYY-MM-DD");return{department_id:o?o.id:null,user_ids:n.length>0?n:null,start_time:a.start_time,end_time:a.end_time}},b.getParticipants=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||0===e.length)return[t];var n=f(e);return r&&(n=n.reverse()),window.appData.isYuque&&(n=n&&n.filter((function(e){return e.status!==a.STATUS.terminated}))),e.find((function(e){return e.id===t.id}))||n.push(t),n},b.getAbsentUsers=function(e,t){var r=[];return e.forEach((function(e){t.find((function(t){return e.id===t.id||e.name===t.name}))||r.push(e)})),r},b.adaptPeriod=function(e,t){var r={day:o()().startOf("day"),yesterday:o()().startOf("day").subtract(1,"day"),week:o()().startOf("isoWeek"),last_week:o()().startOf("isoWeek").subtract(7,"day"),month:o()().startOf("month")},n=null,a=null;switch(e){case"today":n=r.day,a=null;break;case"yesterday":n=r.yesterday,a=r.day;break;case"week":n=r.week,a=null;break;case"last_week":n=r.last_week,a=r.week;break;case"month":n=r.month,a=null}return t&&(n=n?n.format(t):null,a=a?a.format(t):null),{start_time:n,end_time:a}},b.isThreadRepo=function(e){return"Thread"===(null==e?void 0:e.type)},b.isCycleThreadRepo=function(e){return(null==e?void 0:e.scene)===c.ThreadScene.cycle||(null==e?void 0:e.scene)===c.ThreadScene.punchIn},b.isPunchInThreadRepo=function(e){return(null==e?void 0:e.scene)===c.ThreadScene.punchIn},b.generatePunchInDataTemplate=function(e,t){var r=o()(e),n=o()(t),a=n.diff(r,"day"),i=Array.from({length:a},(function(e,t){return{date:r.add(t,"day").startOf("D").toDate()}}));return i.push({date:n.startOf("D").toDate()}),i},b.fillPunchInDataToTemplate=function(e,t){return t?e?(t.forEach((function(t){var r=e.find((function(e){return o()(e.date).isSame(o()(t.created_at),"day")}));r&&(r.mood=t.mood,r.checked=!0,r.slug=t.slug)})),e):[]:e},t.d=b},3792:function(e,t,r){"use strict";var n=r(193);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i(n.key),n)}}function i(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}function u(e,t,r){return t=s(t),function(e,t){if(t&&("object"==o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,c()?Reflect.construct(t,r||[],s(e).constructor):t.apply(e,r))}function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(c=function(){return!!e})()}function l(){return l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=s(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},l.apply(null,arguments)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(t,e),r=t,o=[{key:"buildOptions",value:function(e){var r,o,a,i,u,c=(r=t,o="buildOptions",a=this,u=l(s(1&(i=3)?r.prototype:r),o,a),2&i&&"function"==typeof u?function(e){return u.apply(a,e)}:u)([e]);return c.disabledPlugins.push("mobile"),n.ua.mobile&&c.disabledPlugins.push("placeholder","slash"),c}},{key:"getBlockedCards",value:function(){return["video","audio","checkIn"]}}],o&&a(r.prototype,o),i&&a(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(r(3665).a);t.a=d},382:function(e,t,r){"use strict";var n=r(0),o=r.n(n),a=r(5),i=r.n(a),u=r(216),c=r(462),l="index-module_placeholder_3rydn",s="index-module_loaded_kAsRx",f="index-module_placeholderLoaded_0zPqS";function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}var p=["src","darkSrc","alt","width","height","theme","style","darkAlpha","className","children","blurLoading"];function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m.apply(null,arguments)}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=d(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==d(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,u=[],c=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var g=function(e){var t=e.src,r=e.darkSrc,a=e.alt,u=e.width,d=e.height,v=(e.theme,e.style),g=e.darkAlpha,_=e.className,w=e.children,E=e.blurLoading,O=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,p);u=u||(null==v?void 0:v.width),d=d||(null==v?void 0:v.height);var x=Object(c.a)().isDarkMode,A=b(Object(n.useState)(!0),2),k=A[0],T=A[1];var S=x&&!r&&g?t:x?r:t;if(!S)return null;var P=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({width:u,height:d},v);return P.backgroundImage="url(".concat(S,")"),x&&g&&(P.opacity=g),w?o.a.createElement("div",m({className:i()("theme-image",_),style:P},O),w):(delete P.backgroundImage,E?o.a.createElement("div",{className:i()(l,h({},f,!k))},o.a.createElement("img",m({src:S,alt:a,className:i()("theme-image",_,h({},s,!k)),style:P,onLoad:function(){T(!1)}},O))):o.a.createElement("img",m({src:S,alt:a,className:i()("theme-image",_),style:P},O)))};g.displayName="ThemeImage";t.a=Object(u.b)(g)},3994:function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var n=r(64),o=r.n(n);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u(n.key),n)}}function u(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}function c(e,t,r){return t=f(t),function(e,t){if(t&&("object"==a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,l()?Reflect.construct(t,r||[],f(e).constructor):t.apply(e,r))}function l(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(l=function(){return!!e})()}function s(){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},s.apply(null,arguments)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(t,e),r=t,n=[{key:"getType",value:function(){var e=this.options.targetType;return e?"DocGen_".concat(e).toLowerCase():"DocGen"}},{key:"isMiniSize",value:function(){return!1}},{key:"getDefaultFormat",value:function(){return o.a.FORMAT.LAKE}},{key:"getEnableFullEditor",value:function(){return this.options.enableFullEditor||!1}},{key:"setProcessOptions",value:function(e){this._processOptions=e}},{key:"buildOptions",value:function(e){var r,n,o,a,i,u=(r=t,n="buildOptions",o=this,i=s(f(1&(a=3)?r.prototype:r),n,o),2&a&&"function"==typeof i?function(e){return i.apply(o,e)}:i)([e]);return this._processOptions?this._processOptions(u):u}}],a=[{key:"getEmptyDocument",value:function(){return{format:o.a.FORMAT.LAKE,value:null}}}],n&&i(r.prototype,n),a&&i(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,a}(r(3665).a)},3999:function(e,t,r){"use strict";var n=r(14),o=r.n(n),a=r(3792),i=r(3785);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e,t,r){return(t=f(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f(n.key),n)}}function f(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:t+""}function d(e,t,r){return t=m(t),function(e,t){if(t&&("object"==u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,p()?Reflect.construct(t,r||[],m(e).constructor):t.apply(e,r))}function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(p=function(){return!!e})()}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),d(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(t,e),r=t,a=[{key:"getTemplate",value:function(e,t){var r=i.b[e];if(!r)return{title:null,content:null};var n=o()(new Date).format("YYYY-MM-DD"),a=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},r);return a.title=a.title.replace("#prefix#",t),a.title=a.title.replace("#day#",n),a}}],(n=[{key:"getType",value:function(){return"thread"}},{key:"getMentionActionUrl",value:function(){return"/api/users/complete?target_type=Group&target_id=".concat(this.group.id)}},{key:"getFileUploadUrl",value:function(){var e="/api/upload/attach?ctoken=".concat(this.ctoken,"&type=attachment");return this.isEditMode?"".concat(e,"&attachable_type=").concat(this.attachType,"&attachable_id=").concat(this.target.id,"&from=").concat(this.from):this.belong?"".concat(e,"&attachable_type=").concat(this.belongType||"Book","&attachable_id=").concat(this.belong.id,"&from=").concat(this.from):this.group?"".concat(e,"&attachable_type=User&attachable_id=").concat(this.group.id,"&from=").concat(this.from):null}},{key:"getFileCopyUrl",value:function(){return this.isEditMode?"".concat("/api/upload/copy?type=attachment","&attachable_type=").concat(this.attachType,"&attachable_id=").concat(this.target.id,"&from=").concat(this.from):null}}])&&s(r.prototype,n),a&&s(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,a}(a.a);t.a=h},4006:function(e,t,r){"use strict";var n=r(64),o=r.n(n),a={_bookGrayscaleConfig:null,getDefaultDocumentFormat:function(e,t,r){return t=t||"",r=r||{},o.a.DOC_DEFAULT_FORMAT[e]||o.a.FORMAT.LAKE}};t.a=a},4043:function(e,t,r){"use strict";r.d(t,"c",(function(){return g})),r.d(t,"a",(function(){return S})),r.d(t,"m",(function(){return B})),r.d(t,"k",(function(){return Y.a})),r.d(t,"i",(function(){return H})),r.d(t,"j",(function(){return ne})),r.d(t,"l",(function(){return de})),r.d(t,"h",(function(){return je})),r.d(t,"f",(function(){return Be})),r.d(t,"d",(function(){return Je})),r.d(t,"e",(function(){return it})),r.d(t,"g",(function(){return ht})),r.d(t,"b",(function(){return At}));var n=r(64),o=r.n(n),a=r(4006),i=r(3665);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return(t=d(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function d(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:t+""}function p(e,t,r){return t=h(t),function(e,t){if(t&&("object"==u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,m()?Reflect.construct(t,r||[],h(e).constructor):t.apply(e,r))}function m(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(m=function(){return!!e})()}function y(){return y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},y.apply(null,arguments)}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}var v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(t,e),r=t,n=[{key:"getType",value:function(){var e=this.options.targetType;return e?"".concat(e,"_comment").toLowerCase():"comment"}},{key:"buildOptions",value:function(){var e,r,n,o,a,i=(e=t,r="buildOptions",n=this,a=y(h(1&(o=3)?e.prototype:e),r,n),2&o&&"function"==typeof a?function(e){return a.apply(n,e)}:a)([]),u=this.options,c=u.target;return u.showDingMention?l(l({},i),{},{dingMention:{api:"/api/notifications/send_by_dingtalk_chat",isAntDingTalkApi:"/api/ant_dingtalk/is_ant_dingtalk_user",docId:null==c?void 0:c.id,subjectType:"Comment"}}):i}},{key:"getCacheKey",value:function(){var e=this.options.replyId;return this.isEditMode&&this.target&&this.belong?"autosave/".concat(this.type,"/").concat(this.belong.id,"/").concat(this.target.id,"/edit"):this.belong?"autosave/".concat(this.type,"/").concat(this.belong.id,"/").concat(e,"/new"):"autosave/".concat(this.type)}},{key:"isMiniSize",value:function(){return this.options.useMiniGuide||this.options.isMiniSize||window.h5}},{key:"getDefaultFormat",value:function(){return a.a.getDefaultDocumentFormat()}},{key:"getEnableFullEditor",value:function(){return"Artboard"!==this.targetType}}],i=[{key:"getEmptyDocument",value:function(){return{format:o.a.FORMAT.LAKE,value:null}}}],n&&f(r.prototype,n),i&&f(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(i.a),g=v;function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function w(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,E(n.key),n)}}function E(e){var t=function(e,t){if("object"!=_(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_(t)?t:t+""}function O(e,t,r){return t=A(t),function(e,t){if(t&&("object"==_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,x()?Reflect.construct(t,r||[],A(e).constructor):t.apply(e,r))}function x(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(x=function(){return!!e})()}function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},A(e)}function k(e,t){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},k(e,t)}var T=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.attachType="Resource",e.useBelongAttach=!0,e.from="reply",O(this,t,[e])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}(t,e),r=t,(n=[{key:"getType",value:function(){return"area_comment"}},{key:"getAutoFocus",value:function(){return!0}},{key:"isMiniSize",value:function(){return!0}}])&&w(r.prototype,n),o&&w(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(g),S=T;function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function j(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,L(n.key),n)}}function L(e){var t=function(e,t){if("object"!=P(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=P(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==P(t)?t:t+""}function N(e,t,r){return t=M(t),function(e,t){if(t&&("object"==P(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,C()?Reflect.construct(t,r||[],M(e).constructor):t.apply(e,r))}function C(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(C=function(){return!!e})()}function I(){return I="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=M(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},I.apply(null,arguments)}function M(e){return M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},M(e)}function R(e,t){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},R(e,t)}var D=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.attachType="Doc",e.useBelongAttach=!0,e.from="reply",N(this,t,[e])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R(e,t)}(t,e),r=t,n=[{key:"buildOptions",value:function(e){var r,n,o,a,i,u,c=(n=t,o="buildOptions",a=this,u=I(M(1&(i=3)?n.prototype:n),o,a),2&i&&"function"==typeof u?function(e){return u.apply(a,e)}:u)([e]);return c.image.showMiniToolbarWhen="never",null===(r=c.disabledPlugins)||void 0===r||r.push("slash"),c}},{key:"getType",value:function(){return"word_comment"}},{key:"getAutoFocus",value:function(){return!1}},{key:"isMiniSize",value:function(){return!0}},{key:"getEnableFullEditor",value:function(){return!1}}],n&&j(r.prototype,n),o&&j(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(g),B=D,Y=r(3999);function F(e){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F(e)}function U(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,z(n.key),n)}}function z(e){var t=function(e,t){if("object"!=F(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=F(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==F(t)?t:t+""}function G(e,t,r){return t=V(t),function(e,t){if(t&&("object"==F(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,q()?Reflect.construct(t,r||[],V(e).constructor):t.apply(e,r))}function q(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(q=function(){return!!e})()}function V(e){return V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},V(e)}function K(e,t){return K=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},K(e,t)}var W=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),G(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&K(e,t)}(t,e),r=t,(n=[{key:"getType",value:function(){return"thread_board"}},{key:"getAutoFocus",value:function(){return!0}},{key:"getMentionActionUrl",value:function(){return"/api/users/complete?target_type=Group&target_id=".concat(this.group.id)}},{key:"getFileUploadUrl",value:function(){var e="/api/upload/attach?ctoken=".concat(this.ctoken,"&type=attachment");return this.isEditMode&&!this.options.useBelongAttach?"".concat(e,"&attachable_type=").concat(this.attachType,"&attachable_id=").concat(this.target.id,"&from=").concat(this.from):this.belong?"".concat(e,"&attachable_type=").concat(this.belongType,"&attachable_id=").concat(this.belong.id,"&from=").concat(this.from):null}}])&&U(r.prototype,n),o&&U(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(i.a),H=W;function Q(e){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q(e)}function Z(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,X(n.key),n)}}function X(e){var t=function(e,t){if("object"!=Q(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Q(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Q(t)?t:t+""}function J(e,t,r){return t=ee(t),function(e,t){if(t&&("object"==Q(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,$()?Reflect.construct(t,r||[],ee(e).constructor):t.apply(e,r))}function $(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return($=function(){return!!e})()}function ee(e){return ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ee(e)}function te(e,t){return te=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},te(e,t)}var re=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),J(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&te(e,t)}(t,e),r=t,(n=[{key:"getType",value:function(){return"thread_comment"}}])&&Z(r.prototype,n),o&&Z(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(g),ne=re;function oe(e){return oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oe(e)}function ae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ie(n.key),n)}}function ie(e){var t=function(e,t){if("object"!=oe(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=oe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==oe(t)?t:t+""}function ue(e,t,r){return t=se(t),function(e,t){if(t&&("object"==oe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ce()?Reflect.construct(t,r||[],se(e).constructor):t.apply(e,r))}function ce(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ce=function(){return!!e})()}function le(){return le="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=se(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},le.apply(null,arguments)}function se(e){return se=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},se(e)}function fe(e,t){return fe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},fe(e,t)}var de=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.attachType="User",e.useBelongAttach=!0,ue(this,t,[e])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fe(e,t)}(t,e),r=t,n=[{key:"buildOptions",value:function(e){var r,n,o,a,i,u=(r=t,n="buildOptions",o=this,i=le(se(1&(a=3)?r.prototype:r),n,o),2&a&&"function"==typeof i?function(e){return i.apply(o,e)}:i)([e]);return u.typography={mustTypography:"classic",typography:"classic",paragraphSpacing:"default"},u}},{key:"getType",value:function(){return"user_readme"}},{key:"getMentionActionUrl",value:function(){return"/api/users/complete"}},{key:"isMiniSize",value:function(){return this.options.small}},{key:"getAutoFocus",value:function(){return!0}}],n&&ae(r.prototype,n),o&&ae(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(i.a),pe=r(3807),me=r(47);function ye(e){return ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ye(e)}function he(){he=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof b?t:b,i=Object.create(a.prototype),u=new j(n||[]);return o(i,"_invoke",{value:k(e,r,u)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",p="suspendedYield",m="executing",y="completed",h={};function b(){}function v(){}function g(){}var _={};l(_,i,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(L([])));E&&E!==r&&n.call(E,i)&&(_=E);var O=g.prototype=b.prototype=Object.create(_);function x(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,u){var c=f(e[o],e,a);if("throw"!==c.type){var l=c.arg,s=l.value;return s&&"object"==ye(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,u)}),(function(e){r("throw",e,i,u)})):t.resolve(s).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,u)}))}u(c.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function k(t,r,n){var o=d;return function(a,i){if(o===m)throw Error("Generator is already running");if(o===y){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var u=n.delegate;if(u){var c=T(u,n);if(c){if(c===h)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var l=f(t,r,n);if("normal"===l.type){if(o=n.done?y:p,l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=y,n.method="throw",n.arg=l.arg)}}}function T(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,T(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function L(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(ye(t)+" is not iterable")}return v.prototype=g,o(O,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:v,configurable:!0}),v.displayName=l(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,l(e,c,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(A.prototype),l(A.prototype,u,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(O),l(O,c,"Generator"),l(O,i,(function(){return this})),l(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=L,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return u.type="throw",u.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],u=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:L(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}function be(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,u=[],c=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ve(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ve(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ge(e,t,r,n,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,o)}function _e(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){ge(a,n,o,i,u,"next",e)}function u(e){ge(a,n,o,i,u,"throw",e)}i(void 0)}))}}function we(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Se(n.key),n)}}function Ee(e,t,r){return t=Ae(t),function(e,t){if(t&&("object"==ye(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Oe()?Reflect.construct(t,r||[],Ae(e).constructor):t.apply(e,r))}function Oe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Oe=function(){return!!e})()}function xe(){return xe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Ae(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},xe.apply(null,arguments)}function Ae(e){return Ae=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ae(e)}function ke(e,t){return ke=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ke(e,t)}function Te(e,t,r){return(t=Se(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Se(e){var t=function(e,t){if("object"!=ye(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ye(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ye(t)?t:t+""}var Pe=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.attachType="Doc",e.useBelongAttach=!0,e.disableCache=!0,e.from="table",Te(r=Ee(this,t,[e]),"_fetchMentionDocsHandler",(function(e,t){return e.map((function(e){return e.group=t?r.group.name:e.group_name,e.book=t?r.book.name:e.belong,e}))})),Te(r,"getDefaultSuggestions",_e(he().mark((function e(){var t;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.book){e.next=2;break}return e.abrupt("return",{docs:[],users:[]});case 2:return e.abrupt("return",Promise.all([null!==(t=r.book.abilities)&&void 0!==t&&t.read?me.a.books.docs({id:r.book.id,order_by:"published_at"}):[],me.a.users.listDocContextUsers({id:r.target.id})]).then((function(e){var t=be(e,2),n=t[0],o=t[1];return{docs:r._fetchMentionDocsHandler(n,!0),users:o}})));case 3:case"end":return e.stop()}}),e)})))),Te(r,"onMentionSearch",function(){var e=_e(he().mark((function e(t,n){var o,a;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",r.getDefaultSuggestions());case 2:return o=function(){var e=_e(he().mark((function e(){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.book){e.next=2;break}return e.abrupt("return",[]);case 2:if(t){e.next=8;break}return e.next=5,me.a.books.docs({id:r.book.id,order_by:"published_at"}).then((function(e){return r._fetchMentionDocsHandler(e,!0)}));case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,me.a.editor.search({q:t,type:"content",related:!0,range:"title"}).then((function(e){return r._fetchMentionDocsHandler(e||[])}));case 10:e.t0=e.sent;case 11:return e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=function(){var e=_e(he().mark((function e(){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",me.a.users.complete({q:t,target_type:r.target.type,target_id:r.target.id}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.abrupt("return",Promise.all([o(),a()]).then((function(e){return{docs:e[0],users:e[1]}})));case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ke(e,t)}(t,e),r=t,n=[{key:"buildOptions",value:function(e){var r,n,o,a,i,u=(r=t,n="buildOptions",o=this,i=xe(Ae(1&(a=3)?r.prototype:r),n,o),2&a&&"function"==typeof i?function(e){return i.apply(o,e)}:i)([e]);return u.typography={mustTypography:"classic",typography:"classic",paragraphSpacing:"default"},this.options.scrollNode&&(u.scrollNode=this.options.scrollNode),u.mention={defaultList:this.getDefaultSuggestions,onMentionSearch:this.onMentionSearch,multiTypes:!0},u.envAdapter={openLink:function(e){window.open(e)},openBookmarkLink:function(e){window.open(e)},openYuqueDocLink:function(e){window.open(e)},openLocalLink:function(e){window.open(e)},openLocalYuqueDocLink:function(e){window.open(e)},openThirdpartyLink:function(e){window.open(e)},previewImgs:function(e,t){Object(pe.getImageBrowser)().open(e,t)}},u.toolbar=this.getToolbar(),u.disabledPlugins=["video","checkIn","vote","audio","toc","collaboration","sidebar","imageGallery"],u}},{key:"getToolbar",value:function(){return{agentConfig:{simple:{fixed:!0,items:["cardSelect","style","bold","color","bgColor","orderedList","unorderedList","link","emoji","randomTips"]}}}}},{key:"getType",value:function(){return"table_record_desc"}},{key:"getMentionActionUrl",value:function(){return"/api/users/complete"}},{key:"isMiniSize",value:function(){return this.options.small}},{key:"getAutoFocus",value:function(){return!1}},{key:"getInitialDocument",value:function(){return{format:this.getDefaultFormat(),title:null,value:null}}}],n&&we(r.prototype,n),o&&we(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(i.a),je=Pe;function Le(e){return Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Le(e)}function Ne(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ce(n.key),n)}}function Ce(e){var t=function(e,t){if("object"!=Le(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Le(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Le(t)?t:t+""}function Ie(e,t,r){return t=Re(t),function(e,t){if(t&&("object"==Le(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Me()?Reflect.construct(t,r||[],Re(e).constructor):t.apply(e,r))}function Me(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Me=function(){return!!e})()}function Re(e){return Re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Re(e)}function De(e,t){return De=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},De(e,t)}var Be=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.from="group_custom",e.attachType="User",e.useBelongAttach=!0,Ie(this,t,[e])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&De(e,t)}(t,e),r=t,(n=[{key:"getType",value:function(){return"group_custom"}},{key:"getMentionActionUrl",value:function(){return"/api/users/complete?target_type=Group&target_id=".concat(this.group.id)}},{key:"isMiniSize",value:function(){return this.options.small}},{key:"getAutoFocus",value:function(){return!0}}])&&Ne(r.prototype,n),o&&Ne(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(i.a),Ye=r(350),Fe=r(3792);function Ue(e){return Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ue(e)}function ze(e){return function(e){if(Array.isArray(e))return Ge(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ge(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ge(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function qe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ve(n.key),n)}}function Ve(e){var t=function(e,t){if("object"!=Ue(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Ue(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ue(t)?t:t+""}function Ke(e,t,r){return t=Ze(t),function(e,t){if(t&&("object"==Ue(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,We()?Reflect.construct(t,r||[],Ze(e).constructor):t.apply(e,r))}function We(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(We=function(){return!!e})()}function He(e,t,r,n){var o=Qe(Ze(1&n?e.prototype:e),t,r);return 2&n&&"function"==typeof o?function(e){return o.apply(r,e)}:o}function Qe(){return Qe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Ze(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Qe.apply(null,arguments)}function Ze(e){return Ze=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ze(e)}function Xe(e,t){return Xe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Xe(e,t)}var Je=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=e.feedback;return e.attachType="User",e.useBelongAttach=!0,e.from="feedback",e.placeholder={tip:r&&r.abilities.manage?"你将要代表语雀回复用户，请使用官方口吻，慎重填写":"",emptyParagraphTip:""},Ke(this,t,[e])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xe(e,t)}(t,e),r=t,(n=[{key:"buildOptions",value:function(e){var r,n=He(t,"buildOptions",this,3)([e]);return n.hideVipIcon=!0,n.image.accept=Ye.a.RELIABLE_IMAGE_EXT,n.file.accept=Ye.a.RELIABLE_FILE_EXT,n.file.localdocAccept=Ye.a.RELIABLE_LOCALDOC_EXT,n.toolbar=this.getToolbar(),null===(r=n.disabledPlugins)||void 0===r||r.push("slash"),n}},{key:"getToolbar",value:function(){return{agentConfig:{simple:{fixed:!0,items:["image","note-file","bold","orderedList","unorderedList","link","emoji"]}}}}},{key:"getBlockedCards",value:function(){return[].concat(ze(He(t,"getBlockedCards",this,3)([])),["vote","thirdparty","lockedText","calendar"])}},{key:"getType",value:function(){return"feedback_comment"}},{key:"getCacheKey",value:function(){var e=this.getType();if(this.target)return"autosave/".concat(e,"/").concat(this.target.id,"/edit");var t=this.options.feedback;return t?"autosave/".concat(e,"/").concat(t.id,"/new"):"autosave/".concat(e)}},{key:"getContentObject",value:function(){var e=this.target.content||{source:"",format:"lake"};return{format:e.format,value:e.source||""}}},{key:"isMiniSize",value:function(){return!0}},{key:"getMentionActionUrl",value:function(){return"/api/users/complete"}},{key:"getAutoFocus",value:function(){return!0}}])&&qe(r.prototype,n),o&&qe(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(Fe.a);function $e(e){return $e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$e(e)}function et(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tt(n.key),n)}}function tt(e){var t=function(e,t){if("object"!=$e(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=$e(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$e(t)?t:t+""}function rt(e,t,r){return t=ot(t),function(e,t){if(t&&("object"==$e(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,nt()?Reflect.construct(t,r||[],ot(e).constructor):t.apply(e,r))}function nt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(nt=function(){return!!e})()}function ot(e){return ot=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ot(e)}function at(e,t){return at=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},at(e,t)}var it=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.attachType="User",e.useBelongAttach=!0,e.placeholder={tip:"",emptyParagraphTip:""},e.from="feedback",rt(this,t,[e])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&at(e,t)}(t,e),r=t,(n=[{key:"getType",value:function(){return"feedback_remark"}},{key:"getContentObject",value:function(){return{format:"lake",value:this.target.remark||""}}},{key:"getCacheKey",value:function(){return this.target?"autosave/".concat(this.type,"/").concat(this.target.id):"autosave/".concat(this.type)}},{key:"getMentionActionUrl",value:function(){return"/api/users/complete"}},{key:"getAutoFocus",value:function(){return!0}},{key:"isMiniSize",value:function(){return!0}}])&&et(r.prototype,n),o&&et(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(Fe.a);function ut(e){return ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ut(e)}function ct(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lt(n.key),n)}}function lt(e){var t=function(e,t){if("object"!=ut(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ut(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ut(t)?t:t+""}function st(e,t,r){return t=mt(t),function(e,t){if(t&&("object"==ut(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ft()?Reflect.construct(t,r||[],mt(e).constructor):t.apply(e,r))}function ft(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ft=function(){return!!e})()}function dt(e,t,r,n){var o=pt(mt(1&n?e.prototype:e),t,r);return 2&n&&"function"==typeof o?function(e){return o.apply(r,e)}:o}function pt(){return pt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=mt(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},pt.apply(null,arguments)}function mt(e){return mt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},mt(e)}function yt(e,t){return yt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},yt(e,t)}var ht=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.target&&(e.attachType="Doclet"),st(this,t,[e])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yt(e,t)}(t,e),r=t,(n=[{key:"getCards",value:function(){return this.options.target?dt(t,"getCards",this,3)([]):["label"]}},{key:"getFullCards",value:function(){return this.options.target?dt(t,"getFullCards",this,3)([]):["label"]}},{key:"getType",value:function(){return"org_board"}},{key:"getAutoFocus",value:function(){return!0}},{key:"getMentionActionUrl",value:function(){return"/api/users/complete"}},{key:"isMiniSize",value:function(){return!1}}])&&ct(r.prototype,n),o&&ct(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(i.a);function bt(e){return bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bt(e)}function vt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gt(n.key),n)}}function gt(e){var t=function(e,t){if("object"!=bt(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=bt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==bt(t)?t:t+""}function _t(e,t,r){return t=Ot(t),function(e,t){if(t&&("object"==bt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,wt()?Reflect.construct(t,r||[],Ot(e).constructor):t.apply(e,r))}function wt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(wt=function(){return!!e})()}function Et(){return Et="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Ot(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Et.apply(null,arguments)}function Ot(e){return Ot=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ot(e)}function xt(e,t){return xt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},xt(e,t)}var At=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.attachType="Doclet",_t(this,t,[e])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xt(e,t)}(t,e),r=t,n=[{key:"buildOptions",value:function(e){var r,n,o,a,i,u=(r=t,n="buildOptions",o=this,i=Et(Ot(1&(a=3)?r.prototype:r),n,o),2&a&&"function"==typeof i?function(e){return i.apply(o,e)}:i)([e]);return u.disabledPlugins=["collaboration","vote","checkIn","toc","dataTable","materialLibrary","okr"],u.typography={typography:"classic",paragraphSpacing:"relax"},u}},{key:"getType",value:function(){return"book_overview"}},{key:"isMiniSize",value:function(){return this.options.small}},{key:"getAutoFocus",value:function(){return!0}}],n&&vt(r.prototype,n),o&&vt(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(i.a);r(3994)},41:function(e,t,r){"use strict";r(1494);var n=r(569);r(130);t.a=n.a},4120:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t,r){return t=i(t),function(e,t){if(t&&("object"==n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,a()?Reflect.construct(t,r||[],i(e).constructor):t.apply(e,r))}function a(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(a=function(){return!!e})()}function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function c(e,t,r){return(t=f(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f(n.key),n)}}function s(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:t+""}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.d(t,"a",(function(){return p})),r.d(t,"d",(function(){return m})),r.d(t,"e",(function(){return y})),r.d(t,"b",(function(){return b})),r.d(t,"c",(function(){return v}));var p="super_sidebar_visibility_id",m=function(e){return e.Dashboard="Dashboard",e.Group="Group",e.Doc="Doc",e.DocGenerator="DocGenerator",e}({}),y=function(e){return e[e.Invisible=0]="Invisible",e[e.Collapsed=1]="Collapsed",e[e.Expanded=2]="Expanded",e}({}),h=s((function e(){d(this,e)})),b=function(){return s((function e(){d(this,e),c(this,"_listeners",[])}),[{key:"addListener",value:function(e){var t=this;return this._listeners.push(e),function(){return t.removeListener(e)}}},{key:"removeListener",value:function(e){this._listeners=this._listeners.filter((function(t){return t!==e}))}},{key:"notifyListener",value:function(e){this._listeners.forEach(e)}},{key:"notifyDatasetUpdated",value:function(e){this.notifyListener((function(t){var r;return null===(r=t.onDatasetUpdated)||void 0===r?void 0:r.call(t,e)}))}}])}(),v=function(e){function t(){var e;return d(this,t),c(e=o(this,t),"_datasource",void 0),e._datasource=e.createDatasource(),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(t,e),s(t,[{key:"datasource",get:function(){return this._datasource}}])}(h)},4218:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function a(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:t+""}var i="x-yuque-pt-signature",u=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.query=new URLSearchParams(window.location.search),this.isServify=!!this.get(i),this.viewport=this.get("viewport"),this.sidebar="0"===this.get("toc_sidebar")?"none":"toc",this.cards=this.get("cards").split(",").map((function(e){return e.trim()})).filter((function(e){return!!e})),this.thirdpartyCards=this.get("thirdparty_cards")?this.get("thirdparty_cards").split(",").map((function(e){return e.trim()})).filter((function(e){return!!e})):[],this.showTitle="0"!==this.get("title"),this.showHeader="0"!==this.get("header"),this.isEmbedMode=this.get("mode").startsWith("embed"),this.autoHeight=this.getAutoHeight(),this.editorType=this.get("editor_type"),this.editorMode=this.get("editor_mode"),this.language=this.get("language")||"zh-cn",this.pageMinWidth=this.get("page_min_width"),this.onchange="1"===this.get("onchange"),this.allowMention="0"!==this.get("mention"),this.allowResource="1"===this.get("resource"),this.watermark=this.get("watermark"),this.backgroundColor=this.get("background_color"),this.bodyBackgroundColor=this.get("body_background_color"),this.toolbarBackgroundColor=this.get("toolbar_background_color"),this.autoSaveInterval=this.getAutoSaveInterval(),this.saveToServer="0"!==this.get("save_to_server"),this.customUploadUrl=this.get("upload_url"),this.customUploadTypes=this.get("upload_types"),this.customMentionUrl=this.getMentionUrl(),this.customMentionOrigin=this.get("search_user_origin"),this.imageUploadUrl=this.getImageUploadUrl(),this.fileUploadUrl=this.getFileUploadUrl(),this.videoUploadUrl=this.getVideoUploadUrl(),this.videoUploadStatusUrl=this.getVideoUploadStatusUrl(),this.fullHTML="1"===this.query.get("full_html"),this.allowResizeVideo=!0,this.extraConfig=JSON.parse(this.query.get("extra_config")||"{}")},(t=[{key:"get",value:function(e){return this.query.get(e)||""}},{key:"getAutoHeight",value:function(){return!window.h5&&"0"!==this.get("auto_height")}},{key:"getAutoSaveInterval",value:function(){var e=this.get("auto_save_interval");return e&&!Number.isNaN(Number(e))?((e=Number(e))<60&&(e=60),1e3*e):null}},{key:"getMentionUrl",value:function(){var e=this.get("search_user_url");return this._joinCsrf(e)}},{key:"getImageUploadUrl",value:function(){return this.customUploadTypes&&this.customUploadTypes.includes("image")?"".concat(this._joinCsrf(this.customUploadUrl),"&type=image"):null}},{key:"getFileUploadUrl",value:function(){return this.customUploadTypes&&this.customUploadTypes.includes("attachment")?"".concat(this._joinCsrf(this.customUploadUrl),"&type=attachment"):null}},{key:"getVideoUploadUrl",value:function(){var e=this.get("upload_video_url");return e?this._joinCsrf(e):null}},{key:"getVideoUploadStatusUrl",value:function(){var e=this.get("upload_video_status_url");return e?this._joinCsrf(e):null}},{key:"_joinCsrf",value:function(e){var t=e.includes("?")?"&":"?";return"".concat(e).concat(t).concat(this._getCustomCsrf())}},{key:"_getCustomCsrf",value:function(){var e=this.get("upload_csrf_token_field"),t=this.get("upload_csrf_token_value");return e?"".concat(e,"=").concat(encodeURIComponent(t)):""}},{key:"isExtremeMode",value:function(){return"extreme"===this.editorMode}}])&&o(e.prototype,t),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r}();u.isServify=function(){var e=new URLSearchParams(window.location.search).get("from");if(!e)return!1;try{if(new URL(e).searchParams.get(i))return!0}catch(e){}return!1},u.SERVIFY_TAG_SRT=i,t.a=u},4220:function(e,t,r){"use strict";var n=r(63),o="KnowledgePieGuide-module_wrapper_McOcd",a="KnowledgePieGuide-module_close_Hta-f",i="KnowledgePieGuide-module_breathBorder_JnuNa",u=(r(227),r(101)),c=(r(40),r(9)),l=r(0),s=r(323),f=r(1646),d="index-module_container_YifTz",p="index-module_titleContainer_E19Ts",m="index-module_content_u6ksX",y="index-module_close_xIF4s",h=function(e){var t=e.onReadGuide,r=e.sign,n=e.visible,o=e.arrowPointAtCenter,a=e.placement;return l.createElement(u.a,{overlayClassName:d,arrowPointAtCenter:o,destroyTooltipOnHide:!0,autoAdjustOverflow:!0,getPopupContainer:function(){return document.querySelector("#dragBarContainer")},title:l.createElement("div",{className:p},l.createElement("div",{className:m},l.createElement(s.a,{variant:"caption",mt:4,mb:4},__("知识库全新升级，来看看吧"))),l.createElement(c.a,{onClick:t,icon:l.createElement(f.default,{width:14,height:14}),type:"text",className:y})),placement:a,visible:n,align:{targetOffset:[0,4]}},r)},b={FEATURES:[{area:"GROUP_PAGE",enable:!0,type:"custom",tip_id:"feature_group_introduce",tip:__("功能说明"),createdAt:"2022-09-20"},{area:"WIKI_PAGE",enable:!0,type:"custom",tip_id:"feature_org_wiki_introduce",tip:__("功能说明"),createdAt:"2022-09-20"},{area:"GROUP_PAGE",enable:!0,type:"custom",tip_id:"feature_group_introduce",tip:__("功能说明"),createdAt:"2022-10-27"},{area:"GARDEN_PAGE",enable:!0,type:"custom",tip_id:"feature_garden_introduce",tip:__("功能说明"),createdAt:"2022-11-17"},{area:"DASHBOARD_BOOK_MENU",type:"custom",enable:!0,tip_id:"desktop_online_book_entry_tip",customRender:h,placement:"right",containerSelector:'[data-feature-guide-container="desktop_online_book_entry_tip"]',readTrigger:["click"],createdAt:"2023-06-26",styleFix:function(e){e.style.position="absolute",e.style.transform="translateY(-21px)",e.style.left="50px",e.style.zIndex=4},closeGuide:function(e){e.target.closest(".larkui-feature-guide")&&(e.preventDefault(),e.stopPropagation())}},{area:"DASHBOARD_BOOK_MENU_COLLAPSED",type:"custom",enable:!0,tip_id:"desktop_online_book_entry_tip_isCollapsed",customRender:h,placement:"right",containerSelector:'[data-feature-guide-container="desktop_online_book_entry_tip_isCollapsed"]',readTrigger:["click"],createdAt:"2023-06-26",styleFix:function(e){e.style.position="absolute",e.style.left="17px",e.style.top="-30px",e.style.zIndex=4},closeGuide:function(e){e.target.closest(".larkui-feature-guide")&&(e.preventDefault(),e.stopPropagation())}},{area:"DASHBOARD_QUICKSTART",enable:!0,type:"custom",tip_id:"knowledge_pie_ai_doc_create",customRender:function(){return React.createElement(React.Fragment,null,React.createElement("div",{className:o},__("新增「 AI 帮你写 」功能帮助你提供高效的AI创作体验"),React.createElement(n.b,{name:"delete",size:16,className:a})),React.createElement("div",{className:i}))},placement:"bottom",containerSelector:'[data-feature-guide-container="knowledge_pie_ai_doc_create"]',readTrigger:["click"],createdAt:"2024-08-24",styleFix:function(e){e.style.position="absolute",e.style.left="-225px",e.style.top="20px",e.style.zIndex=4}},{area:"ADD_BUTTON_MENU",enable:!0,type:"mini",tip_id:"knowledge_pie_ai_doc_create_menu_item",tip:__("新增「 AI 帮你写 」功能帮助你提供高效的AI创作体验"),placement:"bottom",createdAt:"2024-08-24"}]},v=r(47),g=r(190),_=b.FEATURES,w={readLiteFeatureGuide:function(e){if("function"==typeof navigator.sendBeacon){var t=new URLSearchParams;t.set("ctoken",Object(g.a)(window)),t.set("type",e.tip_id),navigator.sendBeacon("/api/mine/read_guide?".concat(t.toString()))}else v.a.mine.readGuide({type:e.tip_id});var r=e.containerSelector&&document.querySelector(e.containerSelector);if(r){var n=r.querySelector(".larkui-feature-guide");if(!n)return;n.style.display="none"}},readMiniFeatureGuide:function(e,t){var r=e.tip_id;v.a.mine.readGuide({type:r}),t({type:"guide/readFeatureGuide",payload:{tip_id:r}})},findFeatureGuide:function(e){var t=e.tip_id,r=e.type;return _.find((function(e){return e.tip_id===t&&e.type===r}))},needDisplayGuide:function(e){if("#guide"===window.location.hash)return!0;var t=window.appData.readTip;return!t||!t[e]}};w.FEATURES=_;t.a=w},4341:function(e,t,r){"use strict";r.d(t,"a",(function(){return x}));const n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function o(e,t,r){const n=r[0];if(null!=t&&e>=t)throw new Error(e+" >= "+t);if(e.slice(-1)===n||t&&t.slice(-1)===n)throw new Error("trailing zero");if(t){let a=0;for(;(e[a]||n)===t[a];)a++;if(a>0)return t.slice(0,a)+o(e.slice(a),t.slice(a),r)}const a=e?r.indexOf(e[0]):0,i=null!=t?r.indexOf(t[0]):r.length;if(i-a>1){return r[Math.round(.5*(a+i))]}return t&&t.length>1?t.slice(0,1):r[a]+o(e.slice(1),null,r)}function a(e){if(e.length!==i(e[0]))throw new Error("invalid integer part of order key: "+e)}function i(e){if(e>="a"&&e<="z")return e.charCodeAt(0)-"a".charCodeAt(0)+2;if(e>="A"&&e<="Z")return"Z".charCodeAt(0)-e.charCodeAt(0)+2;throw new Error("invalid order key head: "+e)}function u(e){const t=i(e[0]);if(t>e.length)throw new Error("invalid order key: "+e);return e.slice(0,t)}function c(e,t){if(e==="A"+t[0].repeat(26))throw new Error("invalid order key: "+e);const r=u(e);if(e.slice(r.length).slice(-1)===t[0])throw new Error("invalid order key: "+e)}function l(e,t){a(e);const[r,...n]=e.split("");let o=!0;for(let e=n.length-1;o&&e>=0;e--){const r=t.indexOf(n[e])+1;r===t.length?n[e]=t[0]:(n[e]=t[r],o=!1)}if(o){if("Z"===r)return"a"+t[0];if("z"===r)return null;const e=String.fromCharCode(r.charCodeAt(0)+1);return e>"a"?n.push(t[0]):n.pop(),e+n.join("")}return r+n.join("")}function s(e,t,r=n){if(null!=e&&c(e,r),null!=t&&c(t,r),null!=e&&null!=t&&e>=t)throw new Error(e+" >= "+t);if(null==e){if(null==t)return"a"+r[0];const e=u(t),n=t.slice(e.length);if(e==="A"+r[0].repeat(26))return e+o("",n,r);if(e<t)return e;const i=function(e,t){a(e);const[r,...n]=e.split("");let o=!0;for(let e=n.length-1;o&&e>=0;e--){const r=t.indexOf(n[e])-1;-1===r?n[e]=t.slice(-1):(n[e]=t[r],o=!1)}if(o){if("a"===r)return"Z"+t.slice(-1);if("A"===r)return null;const e=String.fromCharCode(r.charCodeAt(0)-1);return e<"Z"?n.push(t.slice(-1)):n.pop(),e+n.join("")}return r+n.join("")}(e,r);if(null==i)throw new Error("cannot decrement any more");return i}if(null==t){const t=u(e),n=e.slice(t.length),a=l(t,r);return null==a?t+o(n,null,r):a}const i=u(e),s=e.slice(i.length),f=u(t),d=t.slice(f.length);if(i===f)return i+o(s,d,r);const p=l(i,r);if(null==p)throw new Error("cannot increment any more");return p<t?p:i+o(s,null,r)}var f=r(4120),d=r(47),p=r(133),m=r(312);function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function h(){h=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof g?t:g,i=Object.create(a.prototype),u=new N(n||[]);return o(i,"_invoke",{value:S(e,r,u)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",p="suspendedYield",m="executing",b="completed",v={};function g(){}function _(){}function w(){}var E={};l(E,i,(function(){return this}));var O=Object.getPrototypeOf,x=O&&O(O(C([])));x&&x!==r&&n.call(x,i)&&(E=x);var A=w.prototype=g.prototype=Object.create(E);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function r(o,a,i,u){var c=f(e[o],e,a);if("throw"!==c.type){var l=c.arg,s=l.value;return s&&"object"==y(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,u)}),(function(e){r("throw",e,i,u)})):t.resolve(s).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,u)}))}u(c.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function S(t,r,n){var o=d;return function(a,i){if(o===m)throw Error("Generator is already running");if(o===b){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var u=n.delegate;if(u){var c=P(u,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=b,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var l=f(t,r,n);if("normal"===l.type){if(o=n.done?b:p,l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=b,n.method="throw",n.arg=l.arg)}}}function P(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,P(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function C(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(y(t)+" is not iterable")}return _.prototype=w,o(A,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:_,configurable:!0}),_.displayName=l(w,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,l(e,c,"GeneratorFunction")),e.prototype=Object.create(A),e},t.awrap=function(e){return{__await:e}},k(T.prototype),l(T.prototype,u,(function(){return this})),t.AsyncIterator=T,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new T(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(A),l(A,c,"Generator"),l(A,i,(function(){return this})),l(A,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=C,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return u.type="throw",u.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],u=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),L(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:C(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function b(e,t,r,n,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,o)}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,E(n.key),n)}}function w(e,t,r){return(t=E(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E(e){var t=function(e,t){if("object"!=y(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==y(t)?t:t+""}var O=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),w(this,"_manifests",[]),w(this,"_assistants",[]),w(this,"_currentAssistant",void 0),w(this,"_listeners",[]),w(this,"_contextData",void 0),w(this,"_visibility",f.e.Invisible),w(this,"_initializedAssistants",[])},t=[{key:"manifests",get:function(){return this._manifests}},{key:"currentAssistant",get:function(){return this._currentAssistant}},{key:"isExpanded",get:function(){return this._visibility===f.e.Expanded}},{key:"isCollapsed",get:function(){return this._visibility===f.e.Collapsed}},{key:"isInvisible",get:function(){return this._visibility===f.e.Invisible}},{key:"visibility",get:function(){return this._visibility}},{key:"assistants",get:function(){return this._assistants.sort((function(e,t){return e.priority>t.priority?1:-1}))}},{key:"rightBarAssistants",get:function(){var e=this;return this.assistants.filter((function(t){var r,n;return!(e._contextData&&null!==(r=t.provider)&&void 0!==r&&null!==(n=r.isInvisibility)&&void 0!==n&&n.call(r,g(g({},e._contextData),{},{target:t.target})))}))}},{key:"first",get:function(){var e;return null===(e=this.rightBarAssistants)||void 0===e?void 0:e[0]}},{key:"switchVisibility",value:function(e){this._visibility!==e&&(this._visibility=e,this.notifyListener((function(t){var r;return null===(r=t.onVisibilityChanged)||void 0===r?void 0:r.call(t,e)})))}},{key:"switchExpand",value:function(){this.initCurrentAssistant(),this.switchVisibility(f.e.Expanded)}},{key:"switchCollapsed",value:function(){this.switchVisibility(f.e.Collapsed)}},{key:"switchInvisible",value:function(){this.switchVisibility(f.e.Invisible)}},{key:"addListener",value:function(e){var t=this;return this._listeners.push(e),function(){return t.removeListener(e)}}},{key:"removeListener",value:function(e){this._listeners=this._listeners.filter((function(t){return t!==e}))}},{key:"notifyListener",value:function(e){this._listeners.forEach(e)}},{key:"switchAssistant",value:function(e){var t,r,n;if(this._contextData){var o,a,i=this.getAssistantById(e);i&&(this.setCurrentAssistant(i),null!==(t=i.provider)&&void 0!==t&&null!==(r=t.isEnable)&&void 0!==r&&r.call(t,g(g({},this._contextData),{},{target:i.target}))&&(this._initializedAssistants.indexOf(i)>-1?null===(o=i.provider)||void 0===o||null===(a=o.onContextDataChanged)||void 0===a||a.call(o,g(g({},this._contextData),{},{target:i.target})):(null===(n=i.provider)||void 0===n||n.initialize(g(g({},this._contextData),{},{target:i.target})),this._initializedAssistants.push(i))))}}},{key:"getAssistantById",value:function(e){return this._assistants.find((function(t){return t.id===e}))}},{key:"getAssistantsByType",value:function(e){return this._assistants.filter((function(t){return t.type===e}))}},{key:"getAssistantByTargetId",value:function(e){return this._assistants.find((function(t){var r;return(null===(r=t.target)||void 0===r?void 0:r.id)===e}))}},{key:"setCurrentAssistant",value:function(e){this._currentAssistant!==e&&(this._currentAssistant=e,p.a.set(f.a,e.id),this.notifyListener((function(t){var r;return null===(r=t.onActivateAssistantChanged)||void 0===r?void 0:r.call(t,e)})))}},{key:"updateContext",value:function(e){var t,r;this._contextData=e;var n=this._currentAssistant;n&&null!==(t=n.provider)&&void 0!==t&&null!==(r=t.isEnable)&&void 0!==r&&r.call(t,g(g({},e),{},{target:n.target}))&&this.switchAssistant(n.id)}},{key:"removeAssistant",value:function(e,t){var r=this.getAssistantById(e)||this.getAssistantByTargetId(e);if(e=(null==r?void 0:r.id)||e,r){if(t){var n,o,a=this._assistants.indexOf(r);-1!==a&&(this._assistants.splice(a,1),null===(n=r.provider)||void 0===n||null===(o=n.destroy)||void 0===o||o.call(n))}this._assistants=this._assistants.filter((function(t){return t.id!==e})),this.currentAssistant===r&&this.first&&this.switchAssistant(this.first.id),this.notifyListener((function(e){var t;return null===(t=e.onAssistantsChanged)||void 0===t?void 0:t.call(e)})),this.notifyListener((function(e){var t;return null===(t=e.onManifestsChanged)||void 0===t?void 0:t.call(e)}))}}},{key:"addManifest",value:function(e){this._manifests.push(e),this.notifyListener((function(e){var t;return null===(t=e.onManifestsChanged)||void 0===t?void 0:t.call(e)}))}},{key:"addAssistant",value:function(e){this._assistants.find((function(t){return t.id===e.id||t.label===e.label&&t.icon===e.icon}))||(this._assistants.push(e),this.notifyListener((function(e){var t;return null===(t=e.onAssistantsChanged)||void 0===t?void 0:t.call(e)})),this.notifyListener((function(e){var t;return null===(t=e.onManifestsChanged)||void 0===t?void 0:t.call(e)})))}},{key:"initCurrentAssistant",value:function(){if(0!==this._assistants.length){var e,t=parseInt(p.a.get(f.a)||-1,10);this.getAssistantById(t)?this.switchAssistant(t):this.switchAssistant((null===(e=this.first)||void 0===e?void 0:e.id)||-1)}}},{key:"reorderAssistants",value:(n=h().mark((function e(t,r,n){var o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.priority=s(r,n),this.notifyListener((function(e){var t;return null===(t=e.onAssistantsChanged)||void 0===t?void 0:t.call(e)})),!(t.id<0)){e.next=7;break}return e.next=5,d.a.mine.superSidebarProvider.create({type:t.type,priority:t.priority});case 5:o=e.sent,t.id=o.id;case 7:return e.next=9,d.a.mine.superSidebarProvider.update({id:t.id,priority:t.priority});case 9:case"end":return e.stop()}}),e,this)})),o=function(){var e=this,t=arguments;return new Promise((function(r,o){var a=n.apply(e,t);function i(e){b(a,r,o,i,u,"next",e)}function u(e){b(a,r,o,i,u,"throw",e)}i(void 0)}))},function(e,t,r){return o.apply(this,arguments)})},{key:"getLatestPriority",value:function(){var e;return s(null===(e=this.assistants.at(-1))||void 0===e?void 0:e.priority,null)}},{key:"getAssistantByType",value:function(e){return this._assistants.find((function(t){return t.type===e}))}},{key:"switchAssistantByType",value:function(e){var t=this.getAssistantByType(e);t&&this.switchAssistant(t.id)}}],t&&_(e.prototype,t),r&&_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r,n,o}(),x=new O;window.appData.isYuque&&m.a.listen((function(){x.switchInvisible()}))},4365:function(e,t,r){"use strict";var n=r(47),o={epv:function(e){var t=e.type,r=e.id;n.a.logs.activity({type:t,action:"epv",id:r})}};t.a=o},44:function(e,t,r){"use strict";r(1462);var n=r(710);r(175);t.a=n.a},4420:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return a}));var n=r(1375),o=function(e,t){if(t)return"/api/filetransfer/images?url=".concat(encodeURIComponent(e),"&sign=").concat(Object(n.c)(e));try{var r=new URL(e);return"cdn.yuque.com"===r.hostname&&(r.hostname="cdn.nlark.com"),r.toString()}catch(e){}return function(e){return e&&window&&window.appData&&window.appData.settings&&window.appData.settings.image_proxy_root?e.replace(/^https:\/\/intranetproxy\.alipay\.com\/skylark/,window.appData.settings.image_proxy_root):e}(e)};function a(e){return new Promise((function(t){var r=new FileReader;r.addEventListener("load",(function(){t(r.result)})),r.readAsDataURL(e)}))}},4450:function(e,t,r){"use strict";r.d(t,"a",(function(){return b}));var n=r(0),o=r.n(n),a=r(74),i=r(350),u=r(594);function c(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var s=i.a.LOCAL_DOC_EXT_PAID,f=i.a.FILE_EXT_PAID,d=i.a.IMAGE_EXT_PAID,p=i.a.VIDEO_EXT_PAID,m=i.a.AUDIO_EXT_PAID,y=[].concat(c(s),c(f),c(d),c(p),c(m)),h=[].concat(c(f),c(d));function b(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=window.appData||{},i=n.isYuque,c=n.organization,l=n.group,s=void 0===l?{}:l,f=n.me,d=void 0===f?{}:f,p=null==c?void 0:c.id,m=__("该附件格式为付费格式，购买会员后可上传"),b=__("购买会员");if(!i||Object(u.isPaid)()||!(r?h:y).includes(".".concat(e)))return __("不支持上传该类型文件");if(p){var v;if(!(null==c||null===(v=c.abilities)||void 0===v?void 0:v.destroy))return __("标准版空间尚不支持该附件格式，请联系管理员升级专业版或旗舰版后使用");m=__("标准版空间尚不支持该附件格式，请升级专业版或旗舰版后使用"),b=__("立即升级")}if("Group"===s.type&&!p)return __("暂不支持此类型的格式");if(!t&&s.id!==d.id&&!p)return __("该附件格式为付费格式，联系知识库所有者购买会员后可上传");var g="pay_source=file_ext";window.openExternalLink&&(g+="&pay_referer=desktop_app");var _=c?"/r/organizations/dashboard/cashier?action=buy&targetLevel=5&paySource=".concat(a.LIMIT_SCENE.file_ext):"/settings/member?".concat(g,"#renew");return o.a.createElement("span",{},[m,o.a.createElement("a",{style:{marginLeft:5},rel:"noreferrer",href:_,target:"_blank",onClick:function(e){window.openExternalLink&&(window.openExternalLink(_,!0),e.preventDefault())}},[b])])}},4611:function(e,t,r){"use strict";var n={};r.r(n),r.d(n,"show",(function(){return y})),r.d(n,"create",(function(){return b})),r.d(n,"update",(function(){return g})),r.d(n,"remove",(function(){return w})),r.d(n,"restore",(function(){return O})),r.d(n,"clone",(function(){return A}));var o={};r.r(o),r.d(o,"create",(function(){return L})),r.d(o,"update",(function(){return C})),r.d(o,"remove",(function(){return M}));var a={};r.r(a),r.d(a,"create",(function(){return U})),r.d(a,"update",(function(){return G})),r.d(a,"remove",(function(){return V})),r.d(a,"moveAfter",(function(){return W}));var i={};r.r(i),r.d(i,"show",(function(){return $})),r.d(i,"create",(function(){return te})),r.d(i,"update",(function(){return ne})),r.d(i,"remove",(function(){return ae})),r.d(i,"restore",(function(){return ue})),r.d(i,"getContent",(function(){return le})),r.d(i,"putContent",(function(){return fe})),r.d(i,"importRecords",(function(){return pe}));var u={};r.r(u),r.d(u,"update",(function(){return ge})),r.d(u,"bulkUpdate",(function(){return we}));var c={};r.r(c),r.d(c,"create",(function(){return Te})),r.d(c,"update",(function(){return Pe})),r.d(c,"remove",(function(){return Le})),r.d(c,"restore",(function(){return Ce})),r.d(c,"setActive",(function(){return Me})),r.d(c,"moveAfter",(function(){return De}));var l={};r.r(l),r.d(l,"rollback",(function(){return ze}));var s=r(1);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function d(){d=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof g?t:g,i=Object.create(a.prototype),u=new N(n||[]);return o(i,"_invoke",{value:S(e,r,u)}),i}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var m="suspendedStart",y="suspendedYield",h="executing",b="completed",v={};function g(){}function _(){}function w(){}var E={};l(E,i,(function(){return this}));var O=Object.getPrototypeOf,x=O&&O(O(C([])));x&&x!==r&&n.call(x,i)&&(E=x);var A=w.prototype=g.prototype=Object.create(E);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function r(o,a,i,u){var c=p(e[o],e,a);if("throw"!==c.type){var l=c.arg,s=l.value;return s&&"object"==f(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,u)}),(function(e){r("throw",e,i,u)})):t.resolve(s).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,u)}))}u(c.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function S(t,r,n){var o=m;return function(a,i){if(o===h)throw Error("Generator is already running");if(o===b){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var u=n.delegate;if(u){var c=P(u,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===m)throw o=b,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var l=p(t,r,n);if("normal"===l.type){if(o=n.done?b:y,l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=b,n.method="throw",n.arg=l.arg)}}}function P(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,P(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var a=p(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function C(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(f(t)+" is not iterable")}return _.prototype=w,o(A,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:_,configurable:!0}),_.displayName=l(w,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,l(e,c,"GeneratorFunction")),e.prototype=Object.create(A),e},t.awrap=function(e){return{__await:e}},k(T.prototype),l(T.prototype,u,(function(){return this})),t.AsyncIterator=T,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new T(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(A),l(A,c,"Generator"),l(A,i,(function(){return this})),l(A,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=C,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return u.type="throw",u.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],u=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),L(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:C(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function p(e,t,r,n,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,o)}function m(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){p(a,n,o,i,u,"next",e)}function u(e){p(a,n,o,i,u,"throw",e)}i(void 0)}))}}function y(e){return h.apply(this,arguments)}function h(){return h=m(d().mark((function e(t){var r,n=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},"/api/modules/table/doc/TableController/show",e.abrupt("return",s.get("/api/modules/table/doc/TableController/show",t,r));case 3:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)}function b(e){return v.apply(this,arguments)}function v(){return v=m(d().mark((function e(t){var r,n=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},"/api/modules/table/doc/TableController/create",e.abrupt("return",s.post("/api/modules/table/doc/TableController/create",t,r));case 3:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}function g(e){return _.apply(this,arguments)}function _(){return _=m(d().mark((function e(t){var r,n=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},"/api/modules/table/doc/TableController/update",e.abrupt("return",s.put("/api/modules/table/doc/TableController/update",t,r));case 3:case"end":return e.stop()}}),e)}))),_.apply(this,arguments)}function w(e){return E.apply(this,arguments)}function E(){return E=m(d().mark((function e(t){var r,n=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},"/api/modules/table/doc/TableController/remove",e.abrupt("return",s.delete("/api/modules/table/doc/TableController/remove",t,r));case 3:case"end":return e.stop()}}),e)}))),E.apply(this,arguments)}function O(e){return x.apply(this,arguments)}function x(){return x=m(d().mark((function e(t){var r,n=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},"/api/modules/table/doc/TableController/restore",e.abrupt("return",s.post("/api/modules/table/doc/TableController/restore",t,r));case 3:case"end":return e.stop()}}),e)}))),x.apply(this,arguments)}function A(e){return k.apply(this,arguments)}function k(){return k=m(d().mark((function e(t){var r,n=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},"/api/modules/table/doc/TableController/clone",e.abrupt("return",s.post("/api/modules/table/doc/TableController/clone",t,r));case 3:case"end":return e.stop()}}),e)}))),k.apply(this,arguments)}function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function S(){S=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof b?t:b,i=Object.create(a.prototype),u=new N(n||[]);return o(i,"_invoke",{value:k(e,r,u)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",p="suspendedYield",m="executing",y="completed",h={};function b(){}function v(){}function g(){}var _={};l(_,i,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(C([])));E&&E!==r&&n.call(E,i)&&(_=E);var O=g.prototype=b.prototype=Object.create(_);function x(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,u){var c=f(e[o],e,a);if("throw"!==c.type){var l=c.arg,s=l.value;return s&&"object"==T(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,u)}),(function(e){r("throw",e,i,u)})):t.resolve(s).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,u)}))}u(c.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function k(t,r,n){var o=d;return function(a,i){if(o===m)throw Error("Generator is already running");if(o===y){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var u=n.delegate;if(u){var c=P(u,n);if(c){if(c===h)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var l=f(t,r,n);if("normal"===l.type){if(o=n.done?y:p,l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=y,n.method="throw",n.arg=l.arg)}}}function P(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,P(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function C(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(T(t)+" is not iterable")}return v.prototype=g,o(O,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:v,configurable:!0}),v.displayName=l(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,l(e,c,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(A.prototype),l(A.prototype,u,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(O),l(O,c,"Generator"),l(O,i,(function(){return this})),l(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=C,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return u.type="throw",u.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],u=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),L(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:C(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}function P(e,t,r,n,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,o)}function j(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){P(a,n,o,i,u,"next",e)}function u(e){P(a,n,o,i,u,"throw",e)}i(void 0)}))}}function L(e){return N.apply(this,arguments)}function N(){return N=j(S().mark((function e(t){var r,n=arguments;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},"/api/modules/table/doc/TableFieldController/create",e.abrupt("return",s.post("/api/modules/table/doc/TableFieldController/create",t,r));case 3:case"end":return e.stop()}}),e)}))),N.apply(this,arguments)}function C(e){return I.apply(this,arguments)}function I(){return I=j(S().mark((function e(t){var r,n=arguments;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},"/api/modules/table/doc/TableFieldController/update",e.abrupt("return",s.put("/api/modules/table/doc/TableFieldController/update",t,r));case 3:case"end":return e.stop()}}),e)}))),I.apply(this,arguments)}function M(e){return R.apply(this,arguments)}function R(){return R=j(S().mark((function e(t){var r,n=arguments;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},"/api/modules/table/doc/TableFieldController/remove",e.abrupt("return",s.delete("/api/modules/table/doc/TableFieldController/remove",t,r));case 3:case"end":return e.stop()}}),e)}))),R.apply(this,arguments)}function D(e){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(e)}function B(){B=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof b?t:b,i=Object.create(a.prototype),u=new j(n||[]);return o(i,"_invoke",{value:k(e,r,u)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",p="suspendedYield",m="executing",y="completed",h={};function b(){}function v(){}function g(){}var _={};l(_,i,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(L([])));E&&E!==r&&n.call(E,i)&&(_=E);var O=g.prototype=b.prototype=Object.create(_);function x(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,u){var c=f(e[o],e,a);if("throw"!==c.type){var l=c.arg,s=l.value;return s&&"object"==D(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,u)}),(function(e){r("throw",e,i,u)})):t.resolve(s).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,u)}))}u(c.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function k(t,r,n){var o=d;return function(a,i){if(o===m)throw Error("Generator is already running");if(o===y){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var u=n.delegate;if(u){var c=T(u,n);if(c){if(c===h)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var l=f(t,r,n);if("normal"===l.type){if(o=n.done?y:p,l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=y,n.method="throw",n.arg=l.arg)}}}function T(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,T(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function L(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(D(t)+" is not iterable")}return v.prototype=g,o(O,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:v,configurable:!0}),v.displayName=l(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,l(e,c,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(A.prototype),l(A.prototype,u,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(O),l(O,c,"Generator"),l(O,i,(function(){return this})),l(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=L,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return u.type="throw",u.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],u=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:L(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}function Y(e,t,r,n,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,o)}function F(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){Y(a,n,o,i,u,"next",e)}function u(e){Y(a,n,o,i,u,"throw",e)}i(void 0)}))}}function U(e){return z.apply(this,arguments)}function z(){return z=F(B().mark((function e(t){var r,n=arguments;return B().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},"/api/modules/table/doc/TableFieldOptionController/create",e.abrupt("return",s.post("/api/modules/table/doc/TableFieldOptionController/create",t,r));case 3:case"end":return e.stop()}}),e)}))),z.apply(this,arguments)}function G(e){return q.apply(this,arguments)}function q(){return q=F(B().mark((function e(t){var r,n=arguments;return B().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},"/api/modules/table/doc/TableFieldOptionController/update",e.abrupt("return",s.put("/api/modules/table/doc/TableFieldOptionController/update",t,r));case 3:case"end":return e.stop()}}),e)}))),q.apply(this,arguments)}function V(e){return K.apply(this,arguments)}function K(){return K=F(B().mark((function e(t){var r,n=arguments;return B().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},"/api/modules/table/doc/TableFieldOptionController/remove",e.abrupt("return",s.delete("/api/modules/table/doc/TableFieldOptionController/remove",t,r));case 3:case"end":return e.stop()}}),e)}))),K.apply(this,arguments)}function W(e){return H.apply(this,arguments)}function H(){return H=F(B().mark((function e(t){var r,n=arguments;return B().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},"/api/modules/table/doc/TableFieldOptionController/moveAfter",e.abrupt("return",s.put("/api/modules/table/doc/TableFieldOptionController/moveAfter",t,r));case 3:case"end":return e.stop()}}),e)}))),H.apply(this,arguments)}function Q(e){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q(e)}function Z(){Z=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof b?t:b,i=Object.create(a.prototype),u=new j(n||[]);return o(i,"_invoke",{value:k(e,r,u)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",p="suspendedYield",m="executing",y="completed",h={};function b(){}function v(){}function g(){}var _={};l(_,i,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(L([])));E&&E!==r&&n.call(E,i)&&(_=E);var O=g.prototype=b.prototype=Object.create(_);function x(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,u){var c=f(e[o],e,a);if("throw"!==c.type){var l=c.arg,s=l.value;return s&&"object"==Q(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,u)}),(function(e){r("throw",e,i,u)})):t.resolve(s).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,u)}))}u(c.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function k(t,r,n){var o=d;return function(a,i){if(o===m)throw Error("Generator is already running");if(o===y){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var u=n.delegate;if(u){var c=T(u,n);if(c){if(c===h)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var l=f(t,r,n);if("normal"===l.type){if(o=n.done?y:p,l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=y,n.method="throw",n.arg=l.arg)}}}function T(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,T(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function L(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(Q(t)+" is not iterable")}return v.prototype=g,o(O,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:v,configurable:!0}),v.displayName=l(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,l(e,c,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(A.prototype),l(A.prototype,u,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(O),l(O,c,"Generator"),l(O,i,(function(){return this})),l(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=L,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return u.type="throw",u.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],u=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:L(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}function X(e,t,r,n,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,o)}function J(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){X(a,n,o,i,u,"next",e)}function u(e){X(a,n,o,i,u,"throw",e)}i(void 0)}))}}function $(e){return ee.apply(this,arguments)}function ee(){return ee=J(Z().mark((function e(t){var r,n=arguments;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},"/api/modules/table/doc/TableRecordController/show",e.abrupt("return",s.get("/api/modules/table/doc/TableRecordController/show",t,r));case 3:case"end":return e.stop()}}),e)}))),ee.apply(this,arguments)}function te(e){return re.apply(this,arguments)}function re(){return re=J(Z().mark((function e(t){var r,n=arguments;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},"/api/modules/table/doc/TableRecordController/create",e.abrupt("return",s.post("/api/modules/table/doc/TableRecordController/create",t,r));case 3:case"end":return e.stop()}}),e)}))),re.apply(this,arguments)}function ne(e){return oe.apply(this,arguments)}function oe(){return oe=J(Z().mark((function e(t){var r,n=arguments;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},"/api/modules/table/doc/TableRecordController/update",e.abrupt("return",s.put("/api/modules/table/doc/TableRecordController/update",t,r));case 3:case"end":return e.stop()}}),e)}))),oe.apply(this,arguments)}function ae(e){return ie.apply(this,arguments)}function ie(){return ie=J(Z().mark((function e(t){var r,n=arguments;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},"/api/modules/table/doc/TableRecordController/remove",e.abrupt("return",s.delete("/api/modules/table/doc/TableRecordController/remove",t,r));case 3:case"end":return e.stop()}}),e)}))),ie.apply(this,arguments)}function ue(e){return ce.apply(this,arguments)}function ce(){return ce=J(Z().mark((function e(t){var r,n=arguments;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},"/api/modules/table/doc/TableRecordController/restore",e.abrupt("return",s.put("/api/modules/table/doc/TableRecordController/restore",t,r));case 3:case"end":return e.stop()}}),e)}))),ce.apply(this,arguments)}function le(e){return se.apply(this,arguments)}function se(){return se=J(Z().mark((function e(t){var r,n=arguments;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},"/api/modules/table/doc/TableRecordController/getContent",e.abrupt("return",s.post("/api/modules/table/doc/TableRecordController/getContent",t,r));case 3:case"end":return e.stop()}}),e)}))),se.apply(this,arguments)}function fe(e){return de.apply(this,arguments)}function de(){return de=J(Z().mark((function e(t){var r,n=arguments;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},"/api/modules/table/doc/TableRecordController/putContent",e.abrupt("return",s.put("/api/modules/table/doc/TableRecordController/putContent",t,r));case 3:case"end":return e.stop()}}),e)}))),de.apply(this,arguments)}function pe(e){return me.apply(this,arguments)}function me(){return me=J(Z().mark((function e(t){var r,n=arguments;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},"/api/modules/table/doc/TableRecordController/importRecords",e.abrupt("return",s.post("/api/modules/table/doc/TableRecordController/importRecords",t,r));case 3:case"end":return e.stop()}}),e)}))),me.apply(this,arguments)}function ye(e){return ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ye(e)}function he(){he=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof b?t:b,i=Object.create(a.prototype),u=new j(n||[]);return o(i,"_invoke",{value:k(e,r,u)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",p="suspendedYield",m="executing",y="completed",h={};function b(){}function v(){}function g(){}var _={};l(_,i,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(L([])));E&&E!==r&&n.call(E,i)&&(_=E);var O=g.prototype=b.prototype=Object.create(_);function x(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,u){var c=f(e[o],e,a);if("throw"!==c.type){var l=c.arg,s=l.value;return s&&"object"==ye(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,u)}),(function(e){r("throw",e,i,u)})):t.resolve(s).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,u)}))}u(c.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function k(t,r,n){var o=d;return function(a,i){if(o===m)throw Error("Generator is already running");if(o===y){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var u=n.delegate;if(u){var c=T(u,n);if(c){if(c===h)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var l=f(t,r,n);if("normal"===l.type){if(o=n.done?y:p,l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=y,n.method="throw",n.arg=l.arg)}}}function T(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,T(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function L(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(ye(t)+" is not iterable")}return v.prototype=g,o(O,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:v,configurable:!0}),v.displayName=l(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,l(e,c,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(A.prototype),l(A.prototype,u,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(O),l(O,c,"Generator"),l(O,i,(function(){return this})),l(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=L,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return u.type="throw",u.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],u=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:L(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}function be(e,t,r,n,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,o)}function ve(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){be(a,n,o,i,u,"next",e)}function u(e){be(a,n,o,i,u,"throw",e)}i(void 0)}))}}function ge(e){return _e.apply(this,arguments)}function _e(){return _e=ve(he().mark((function e(t){var r,n=arguments;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},"/api/modules/table/doc/TableRecordValueController/update",e.abrupt("return",s.put("/api/modules/table/doc/TableRecordValueController/update",t,r));case 3:case"end":return e.stop()}}),e)}))),_e.apply(this,arguments)}function we(e){return Ee.apply(this,arguments)}function Ee(){return Ee=ve(he().mark((function e(t){var r,n=arguments;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},"/api/modules/table/doc/TableRecordValueController/bulkUpdate",e.abrupt("return",s.put("/api/modules/table/doc/TableRecordValueController/bulkUpdate",t,r));case 3:case"end":return e.stop()}}),e)}))),Ee.apply(this,arguments)}function Oe(e){return Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oe(e)}function xe(){xe=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof b?t:b,i=Object.create(a.prototype),u=new j(n||[]);return o(i,"_invoke",{value:k(e,r,u)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",p="suspendedYield",m="executing",y="completed",h={};function b(){}function v(){}function g(){}var _={};l(_,i,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(L([])));E&&E!==r&&n.call(E,i)&&(_=E);var O=g.prototype=b.prototype=Object.create(_);function x(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,u){var c=f(e[o],e,a);if("throw"!==c.type){var l=c.arg,s=l.value;return s&&"object"==Oe(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,u)}),(function(e){r("throw",e,i,u)})):t.resolve(s).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,u)}))}u(c.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function k(t,r,n){var o=d;return function(a,i){if(o===m)throw Error("Generator is already running");if(o===y){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var u=n.delegate;if(u){var c=T(u,n);if(c){if(c===h)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var l=f(t,r,n);if("normal"===l.type){if(o=n.done?y:p,l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=y,n.method="throw",n.arg=l.arg)}}}function T(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,T(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function L(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(Oe(t)+" is not iterable")}return v.prototype=g,o(O,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:v,configurable:!0}),v.displayName=l(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,l(e,c,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(A.prototype),l(A.prototype,u,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(O),l(O,c,"Generator"),l(O,i,(function(){return this})),l(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=L,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return u.type="throw",u.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],u=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:L(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}function Ae(e,t,r,n,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,o)}function ke(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){Ae(a,n,o,i,u,"next",e)}function u(e){Ae(a,n,o,i,u,"throw",e)}i(void 0)}))}}function Te(e){return Se.apply(this,arguments)}function Se(){return Se=ke(xe().mark((function e(t){var r,n=arguments;return xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},"/api/modules/table/doc/TableViewController/create",e.abrupt("return",s.post("/api/modules/table/doc/TableViewController/create",t,r));case 3:case"end":return e.stop()}}),e)}))),Se.apply(this,arguments)}function Pe(e){return je.apply(this,arguments)}function je(){return je=ke(xe().mark((function e(t){var r,n=arguments;return xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},"/api/modules/table/doc/TableViewController/update",e.abrupt("return",s.put("/api/modules/table/doc/TableViewController/update",t,r));case 3:case"end":return e.stop()}}),e)}))),je.apply(this,arguments)}function Le(e){return Ne.apply(this,arguments)}function Ne(){return Ne=ke(xe().mark((function e(t){var r,n=arguments;return xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},"/api/modules/table/doc/TableViewController/remove",e.abrupt("return",s.delete("/api/modules/table/doc/TableViewController/remove",t,r));case 3:case"end":return e.stop()}}),e)}))),Ne.apply(this,arguments)}function Ce(e){return Ie.apply(this,arguments)}function Ie(){return Ie=ke(xe().mark((function e(t){var r,n=arguments;return xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},"/api/modules/table/doc/TableViewController/restore",e.abrupt("return",s.post("/api/modules/table/doc/TableViewController/restore",t,r));case 3:case"end":return e.stop()}}),e)}))),Ie.apply(this,arguments)}function Me(e){return Re.apply(this,arguments)}function Re(){return Re=ke(xe().mark((function e(t){var r,n=arguments;return xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},"/api/modules/table/doc/TableViewController/setActive",e.abrupt("return",s.put("/api/modules/table/doc/TableViewController/setActive",t,r));case 3:case"end":return e.stop()}}),e)}))),Re.apply(this,arguments)}function De(e){return Be.apply(this,arguments)}function Be(){return Be=ke(xe().mark((function e(t){var r,n=arguments;return xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},"/api/modules/table/doc/TableViewController/moveAfter",e.abrupt("return",s.put("/api/modules/table/doc/TableViewController/moveAfter",t,r));case 3:case"end":return e.stop()}}),e)}))),Be.apply(this,arguments)}function Ye(e){return Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ye(e)}function Fe(){Fe=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof b?t:b,i=Object.create(a.prototype),u=new j(n||[]);return o(i,"_invoke",{value:k(e,r,u)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",p="suspendedYield",m="executing",y="completed",h={};function b(){}function v(){}function g(){}var _={};l(_,i,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(L([])));E&&E!==r&&n.call(E,i)&&(_=E);var O=g.prototype=b.prototype=Object.create(_);function x(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,u){var c=f(e[o],e,a);if("throw"!==c.type){var l=c.arg,s=l.value;return s&&"object"==Ye(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,u)}),(function(e){r("throw",e,i,u)})):t.resolve(s).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,u)}))}u(c.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function k(t,r,n){var o=d;return function(a,i){if(o===m)throw Error("Generator is already running");if(o===y){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var u=n.delegate;if(u){var c=T(u,n);if(c){if(c===h)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var l=f(t,r,n);if("normal"===l.type){if(o=n.done?y:p,l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=y,n.method="throw",n.arg=l.arg)}}}function T(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,T(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function L(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(Ye(t)+" is not iterable")}return v.prototype=g,o(O,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:v,configurable:!0}),v.displayName=l(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,l(e,c,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(A.prototype),l(A.prototype,u,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(O),l(O,c,"Generator"),l(O,i,(function(){return this})),l(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=L,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return u.type="throw",u.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],u=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:L(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}function Ue(e,t,r,n,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,o)}function ze(e){return Ge.apply(this,arguments)}function Ge(){var e;return e=Fe().mark((function e(t){var r,n=arguments;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},e.abrupt("return",s.put("/api/modules/table/doc/TableVersionController/rollback",t,r));case 3:case"end":return e.stop()}}),e)})),Ge=function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){Ue(a,n,o,i,u,"next",e)}function u(e){Ue(a,n,o,i,u,"throw",e)}i(void 0)}))},Ge.apply(this,arguments)}t.a={req:s,TableController:n,TableFieldController:o,TableFieldOptionController:a,TableRecordController:i,TableRecordValueController:u,TableViewController:c,TableVersionController:l}},464:function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return o}));var n=function(e){return e.NOTE="NOTE",e.BOOK="BOOK",e.DOC="DOC",e.GROUP="GROUP",e}({}),o=function(e){return e.PERSON="PERSON",e.ORG="ORG",e.PUBLIC_PAGE="PUBLIC_PAGE",e.INTERNAL="INTERNAL",e.INTERNAL_THREAD="INTERNAL_THREAD",e}({})},4641:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(0),o=r.n(n),a=r(74),i=r(1020),u=r(594);function c(e){var t=window.appData||{},r=t.isYuque,n=t.organization,c=t.group,l=void 0===c?{}:c,s=t.me,f=void 0===s?{}:s,d=null==n?void 0:n.id;if(!r||Object(u.isPaid)())throw new Error("should not be show this");var p=!(i.a.isAlipayApp()||i.a.isAndroid()||i.a.isIOS()||i.a.isDingtalk()||i.a.getMobileAppVersion());if(d){var m,y=null==n||null===(m=n.abilities)||void 0===m?void 0:m.destroy;if(y&&p){var h="/r/organizations/dashboard/cashier?action=renew&paySource=".concat(a.LIMIT_SCENE.file_embed);return void e(o.a.createElement("span",{},[__("升级为付费版空间后可嵌入文件"),o.a.createElement("a",{style:{marginLeft:5},rel:"noreferrer",href:h,target:"_blank",onClick:function(e){window.openExternalLink&&(window.openExternalLink(h,!0),e.preventDefault())}},[__("立即升级")])]))}return e(y?__("升级为付费版空间后可嵌入文件"):__("联系管理员升级为付费版空间后可嵌入文件"))}if(window.appData.group&&l.id!==f.id)return e(__("联系知识库所有者购买会员后可嵌入文件"));if(p){var b="pay_source=file_embed";window.openExternalLink&&(b+="&pay_referer=desktop_app");var v="/settings/member?".concat(b,"#renew");return e(o.a.createElement("span",{},[__("购买会员后可嵌入文件"),o.a.createElement("a",{style:{marginLeft:5},rel:"noreferrer",href:v,target:"_blank",onClick:function(e){window.openExternalLink&&(window.openExternalLink(v,!0),e.preventDefault())}},[__("购买会员")])]))}return e(__("购买会员后可嵌入文件"))}},4795:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"c",(function(){return y})),r.d(t,"b",(function(){return h}));var n=r(258),o={PUBLISH:"yuque_sdk_publish",PUBLISH_CALLBACK:"yuque_sdk_publish_callback",RESIZE_CALLBACK:"yuque_sdk_resize_callback",CONNECT:"yuque_sdk_connect",DISCONNECT:"yuque_sdk_disconnect",FULLSCREEN_CALLBACK:"yuque_sdk_fullscreen_callback",SAVE_CALLBACK:"yuque_sdk_save_callback",SET_VALUE:"yuque_sdk_set_value",GET_VALUE:"yuque_sdk_get_value",GET_VALUE_CALLBACK:"yuque_sdk_get_value_callback",INSERT_VALUE:"yuque_sdk_insert_value",CHANGE_CALLBACK:"yuque_sdk_change_callback",SET_TITLE_VALUE:"yuque_sdk_set_title_value",GET_TITLE_VALUE:"yuque_sdk_get_title_value",GET_TITLE_VALUE_CALLBACK:"yuque_sdk_get_title_value_callback",SAVE_TITLE_CALLBACK:"yuque_sdk_save_title_callback",TITLE_CHANGE_CALLBACK:"yuque_sdk_title_change_callback",SCROLL_TO:"yuque_sdk_scroll_to",DOC_LOADED_CALLBACK:"yuque_sdk_doc_loaded_callback",UNLOCK:"yuque_sdk_unlock",UNLOCK_CALLBACK:"yuque_sdk_unlock_callback",RESET:"yuque_sdk_reset",RESET_CALLBACK:"yuque_sdk_reset_callback",LOAD_CALLBACK:"yuque_sdk_load_callback"};function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function u(e,t,r){return t=l(t),function(e,t){if(t&&("object"==a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,c()?Reflect.construct(t,r||[],l(e).constructor):t.apply(e,r))}function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(c=function(){return!!e})()}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function f(e,t,r){return(t=d(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}var p=0,m=new(function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),f(e=u(this,t),"init",(function(t){e.url=document.location.href,e.target=t,e._postMessageToParent({type:o.CONNECT,url:e.url}),window.addEventListener("message",e.handleMessage,!1),window.addEventListener("unload",e.handleUnload,!1)})),f(e,"handleMessage",(function(t){("string"==typeof t.data?JSON.parse(t.data):t.data).type===o.CONNECT&&(e._postMessageToParent({type:o.CONNECT,url:e.url}),window.removeEventListener("message",e.handleMessage,!1))})),f(e,"handleUnload",(function(){e._postMessageToParent({type:o.DISCONNECT,url:e.url})})),f(e,"_postMessageToParent",(function(t){e.target&&e.target.postMessage(JSON.stringify(t),"*")})),f(e,"postMessage",(function(t,r){var n={type:t,message:r,messageId:++p,url:e.url};e._postMessageToParent(n)})),f(e,"handleMessage",(function(t){return e.emit("message",t)})),f(e,"destroy",(function(){window.removeEventListener("message",e.handleMessage,!1),window.removeEventListener("unload",e.handleUnload,!1)})),e.ready=!1,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(t,e),r=t,n&&i(r.prototype,n),a&&i(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,a}(r.n(n).a));window&&window.parent&&window.self!==window.top&&(m.init(window.parent),window.addEventListener("message",(function(e){try{var t="string"==typeof e.data?JSON.parse(e.data):e.data;m.handleMessage(t)}catch(e){console&&console.error(e)}})));var y=function(e,t){return m.postMessage(e,t)},h=function(e){return m.on("message",e),function(){m.off("message",e)}}},495:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(0);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,u=[],c=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){switch(t.type){case"init":return{response:null,error:null,loading:!0};case"success":return{response:t.response,error:null,loading:!1};case"error":return{response:null,error:t.error,loading:!1};default:return{response:null,error:null,loading:!1}}}function u(e){var t=Object(n.useRef)(0),r=o(Object(n.useReducer)(i,{response:null,loading:!1,error:null}),2),a=r[0],u=r[1];return{data:a.response,loading:a.loading,request:function(r,n){var o=++t.current;return u({type:"init"}),e(r,n).then((function(e){return o===t.current&&u({type:"success",response:e}),e})).catch((function(e){if(u({type:"error",error:e}),null!=n&&n.ignoreGlobalMessage)throw e;console.error(e)}))},error:a.error}}},5064:function(e,t,r){"use strict";r.d(t,"a",(function(){return y}));var n=r(0),o=r.n(n),a=r(78),i=r.n(a),u=r(251),c=r(4043),l={textEditor:"LakeTableTextEditor-module_textEditor_zYDRc"};function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p(n.key),n)}}function d(e,t,r){return(t=p(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}var m=Object(u.b)((function(){return Promise.all([r.e(5),r.e(6),r.e(0),r.e(1),r.e(1396)]).then(r.bind(null,4529))}),{suspense:!0});function y(e,t,r,n){var a={id:e,type:t};return function(){return u=function i(u,l){var s=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),d(this,"engine",null),d(this,"el",null),d(this,"options",null),d(this,"_ref",o.a.createRef()),d(this,"_editor",null),d(this,"_buildEditor",(function(){var o=s,i={target:a,book:r,group:n,belong:{id:e,type:t},searchScope:s.options.currentUser.login,scrollNode:function(){var e;return null===(e=o.el)||void 0===e?void 0:e.closest(".lakex-table-expand-record-form")}};return new c.h(i)})),this.el=u,this.options=l,this.init()},s=[{key:"setContent",value:function(e){var t,r=this;null===(t=this._editor)||void 0===t||t.setValue(e.source),setTimeout((function(){r.blur()}),0)}},{key:"getDefault",value:function(){return{format:"lake",html:"",source:""}}},{key:"getContent",value:function(){var e,t;return{format:"lake",html:(null===(e=this._editor)||void 0===e?void 0:e.getHtml())||"",source:(null===(t=this._editor)||void 0===t?void 0:t.getValue())||""}}},{key:"blur",value:function(){this._editor.getEngine().renderer.domRootNode.blur()}},{key:"onFocus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};this._editor.getEngine().on("focusstatuschange",(function(t){if(t)return"boolean"==typeof t?e(t):void(null!=t.focused&&e(t.focused))}))}},{key:"init",value:function(){var e=this;this._editor=this._buildEditor(),i.a.render(o.a.createElement("div",{className:l.textEditor},o.a.createElement(m,{editor:this._editor,placeholder:{tip:__("点击输入正文内容")},onLoad:function(t){var r,n;e.engine=t,null===(r=(n=e.options).onLoad)||void 0===r||r.call(n,e),e.blur()},onChange:this.options.onChange})),this.el)}},{key:"destroy",value:function(){i.a.unmountComponentAtNode(this.el)}}],s&&f(u.prototype,s),p&&f(u,p),Object.defineProperty(u,"prototype",{writable:!1}),u;var u,s,p}()}},5202:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function a(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:t+""}var i=function(){return e=function e(){var t,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=this,n=null,(r=a(r="_lakexDocViewer"))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n},(t=[{key:"_loadLakexEditor",value:function(){return Promise.resolve().then(r.bind(null,4038))}},{key:"_isPreloadPath",value:function(){var e,t,r=null===(e=window)||void 0===e||null===(t=e.location)||void 0===t?void 0:t.pathname;return!(!r||!["/dashboard","/r/templates","/dashboard/explore"].some((function(e){return r.startsWith(e)})))}},{key:"getLakexEditor",value:function(){var e=this;return this._lakexDocViewer?this._lakexDocViewer:this._loadLakexEditor().then((function(t){return e._lakexDocViewer=t,e._lakexDocViewer}))}},{key:"smartLoadLakexEditor",value:function(e){var t=window.appData,r=t.book,n=t.doc;("Doc"===(null==n?void 0:n.type)||Array.isArray(null==r?void 0:r.toc)&&r.toc.some((function(e){return"DOC"===e.type}))&&n||e||this._isPreloadPath())&&(console.time("smartLoadLakexEditor"),this._loadLakexEditor().then((function(){console.timeEnd("smartLoadLakexEditor")})))}}])&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();t.a=new i},5486:function(e,t,r){"use strict";r.d(t,"b",(function(){return A}));r(53);var n=r(12),o=(r(48),r(11)),a=r(0),i=r.n(a),u=r(6),c=r.n(u),l=r(4795),s=r(1250),f=r(308),d=r(4218),p=r(974),m=r(47);function y(){y=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),u=new N(n||[]);return o(i,"_invoke",{value:S(e,r,u)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",p="suspendedYield",m="executing",h="completed",b={};function v(){}function g(){}function w(){}var E={};l(E,i,(function(){return this}));var O=Object.getPrototypeOf,x=O&&O(O(C([])));x&&x!==r&&n.call(x,i)&&(E=x);var A=w.prototype=v.prototype=Object.create(E);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function r(o,a,i,u){var c=f(e[o],e,a);if("throw"!==c.type){var l=c.arg,s=l.value;return s&&"object"==_(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,u)}),(function(e){r("throw",e,i,u)})):t.resolve(s).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,u)}))}u(c.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function S(t,r,n){var o=d;return function(a,i){if(o===m)throw Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var u=n.delegate;if(u){var c=P(u,n);if(c){if(c===b)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var l=f(t,r,n);if("normal"===l.type){if(o=n.done?h:p,l.arg===b)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=h,n.method="throw",n.arg=l.arg)}}}function P(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,P(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),b;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,b;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,b):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,b)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function C(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(_(t)+" is not iterable")}return g.prototype=w,o(A,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:g,configurable:!0}),g.displayName=l(w,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,l(e,c,"GeneratorFunction")),e.prototype=Object.create(A),e},t.awrap=function(e){return{__await:e}},k(T.prototype),l(T.prototype,u,(function(){return this})),t.AsyncIterator=T,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new T(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(A),l(A,c,"Generator"),l(A,i,(function(){return this})),l(A,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=C,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return u.type="throw",u.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],u=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),L(r),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:C(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),b}},t}function h(e,t,r,n,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,o)}function b(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){h(a,n,o,i,u,"next",e)}function u(e){h(a,n,o,i,u,"throw",e)}i(void 0)}))}}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,u=[],c=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function w(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,E(n.key),n)}}function E(e){var t=function(e,t){if("object"!=_(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_(t)?t:t+""}var O=new d.a,x=new(function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.MESSAGE_TYPES=l.a},(t=[{key:"_postContentMessage",value:function(e,t){t={status:"success",message:"ok",data:t},Object(l.c)(e,t)}},{key:"getTitle",value:function(e){this._postContentMessage(l.a.GET_TITLE_VALUE_CALLBACK,e)}}])&&w(e.prototype,t),r&&w(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r}());function A(e,t){return t===__("无标题")||t===p.a.getDefaultTitle(e)}function k(e){var t,r=v(Object(a.useState)(e.title),2),u=r[0],c=r[1],f=Object(a.useRef)(u),d=Object(a.useRef)(!1),h=v(Object(a.useState)(!1),2),g=h[0],_=h[1],w=function(){var t=b(y().mark((function t(r){return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.a.docs.updateMeta({id:e.doc_id,title:r});case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),o.a.warn("save title failed");case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}(),E=function(t){return A(e.type,t)},k=function(){var t=b(y().mark((function t(r){var n;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.templateId,t.prev=1,t.next=4,Object(s.m)(n,r);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),o.a.warn("save title failed");case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}(),T=function(){var t=b(y().mark((function t(r){var n;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.isDoc,!g){t.next=3;break}return t.abrupt("return");case 3:if(e.onSave(r),c(r),O.saveToServer){t.next=7;break}return t.abrupt("return");case 7:if(_(!0),!n){t.next=13;break}return t.next=11,w(r);case 11:t.next=15;break;case 13:return t.next=15,k(r);case 15:_(!1),d.current=!1;case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return t=null===u?E(e.title)?"":e.title:u,Object(a.useEffect)((function(){var t=!1,r=Object(l.b)((function(r){r.type===l.a.GET_TITLE_VALUE?x.getTitle(u):r.type===l.a.SET_TITLE_VALUE&&(c(r.message),e.onChange(r.message,t),t=!0)}));return function(){r()}})),e.onReady&&e.onReady({setTitle:c}),Object(a.useEffect)((function(){return function(){!function(){if(d.current){var t=f.current,r=e.isDoc;if(!O.saveToServer)return;r?w(t):k(t)}}()}}),[]),i.a.createElement("div",{"data-testid":"title-editor",className:"lake-title-editor",style:e.style},i.a.createElement(n.a.TextArea,{"data-testid":"input",className:"lake-title",autoFocus:!O.hideTitleEditor&&E(e.title),value:t,placeholder:__("请输入标题"),onFocus:function(t){var r;E(u)&&c(""),null==e||null===(r=e.onFocus)||void 0===r||r.call(e)},onChange:function(t){var r=t.target.value;f.current=r,d.current=!0,c(r),e.onChange(r)},onKeyDown:function(t){13===(t.keyCode||t.which)&&(t.target.blur(),t.preventDefault(),e.onChangeEnd&&e.onChangeEnd())},onBlur:function(){var t=u||e.title;t=t.trim(),null==e||e.onBlur(),""===t&&(t=p.a.getDefaultTitle(e.type),c(null)),t===e.title&&e.onSave(t),d.current&&T(t)},spellCheck:"false",tabIndex:e.tabIndex,maxLength:128,rows:1,autoSize:!0}))}k.defaultProps={isDoc:!0,onSave:function(){},onChange:function(){},onFocus:function(){},onBlur:function(){}},k.propTypes={doc_id:c.a.number,title:c.a.string.isRequired,onSave:c.a.func,onChange:c.a.func,onChangeEnd:c.a.func,onReady:c.a.func,onFocus:c.a.func,onBlur:c.a.func,tabIndex:c.a.number,isDoc:c.a.bool,templateId:c.a.number,style:c.a.object,type:c.a.string};t.a=Object(f.b)(k)},563:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(76),o=r(801),a=r(139);function i(e){if(e.symbol){var t=a.e.URL_TYPE_LIST,r=a.e.LEGACY_URL_TYPE_LIST,n=a.e.ICON_TYPE_LIST,o=a.e.LEGACY_ICON_TYPE_LIST,i=a.e.BOOK_ICON_TYPE_MAP;if(Object.keys(i).includes(e.symbol))return i[e.symbol];if("url"===e.type){if(r.includes(e.symbol))return t[r.findIndex((function(t){return t===e.symbol}))||0];if(t.includes(e.symbol))return e.symbol}else if("icon"===e.type){if(o.includes(e.symbol))return n[o.findIndex((function(t){return t===e.symbol}))||0];if(n.includes(e.symbol))return e.symbol}}}var u={book:function(e){var t=(e.type||"").toLowerCase();return a.a[t]||a.a.default},user:function(e){var t=e.scene||"";return e.avatar?null:a.h[t]||null},doc:function(e){return"Thread"===e.type?this.thread(e):a.c[e.type.toLowerCase()]||null},template:function(e){return"lakesheet"===e.format?u.doc({type:"Sheet"}):"lake"===e.format?u.doc({type:"Doc"}):"lakemind"===e.format?u.doc({type:"Mind"}):"lakeboard"===e.format?u.doc({type:"Board"}):"lakeshow"===e.format?u.doc({type:"Show"}):"laketable"===e.format?u.doc({type:"Table"}):void 0},thread:function(e){var t=e.sub_type||"";return e.view_status===n.VIEW_STATUS.archive?"thread-archive":a.g[t.toLowerCase()]||a.g.default},resource:function(e){return Object(o.getFileIcon)(e)},artboardGroup:function(){return a.c.artboardgroup},docVersion:function(e){return a.b[e.format]},recycle:function(e){var t=e.target_type,r=e.params;if(!t||!r)return null;if("User"===t)return u.user(r.group)||a.h.default;if("Note"===t)return a.c.note;if("Issue"===t)return a.c.issue;if("ArtboardGroup"===t)return a.c.artboardgroup;if("Artboard"===t)return a.c.artboard;var n=t.toLowerCase();return u[n]&&r[n]?u[n](r[n]):null},action:function(e){var t=e.target_type,r=e.action_option;if(e.target&&e.target.book_icon){var n=i(e.target.book_icon);if(n)return n}if("Doc"===t){var c=this._entityTypeOfAction(e);return c&&a.c[c]}if("Book"===t){if(e.target)return u.book(e.target);var l=this._entityTypeOfAction(e);return l&&a.c[l]}return"User"===t&&e.target?u.user(e.target):"Resource"===t?Object(o.getFileIcon)({type:"file",ext:r}):"ArtboardGroup"===t?a.c.artboardgroup:"DocVersion"===t&&e.target?u.docVersion(e.target):"ActionTag"===t?a.c.actiontag:null},_entityTypeOfAction:function(e){var t=e.action_option.split("_"),r=null;return t.length>=1&&(r=t[t.length-1]),r},userActionLog:function(e){var t=e.target_type,r=e.subject_type;if("Book"===t)return e.target?u.book(e.target):a.a.default;if("User"===t)return a.h.default;if("Resource"===t)return u.resource({type:"file",ext:e.fileExt});var n="";return"Design"===r?n=a.c.artboardgroup:"Sheet"===r?n=a.c.sheet:"Table"===r?n=a.c.table:"Doc"===r?n=a.c.doc:"Thread"===r?n=a.c.thread:"Mind"===r?n=a.c.mind:"Board"===r?n=a.c.board:"Show"===r&&(n=a.c.show),n}},c={getName:function(e,t){if(!e||!t)return null;if(e=e.charAt(0).toLowerCase()+e.slice(1),t.book_icon){var r=i(t.book_icon);if(r)return r}if("resource"===e){var n="file";return"folder"===t.type&&(n="folder"),u.resource({type:n,ext:t.ext,name:t.title||t.name})}return u[e]?u[e](t):null},getStyle:function(e){if(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).size,r=void 0===t?24:t;return{width:"".concat(r,"px"),height:"".concat(r,"px")}}},getSelectorIcons:function(){return a.e},getSymbolName:i,getColor:function(e){if(e&&e.color)return e.color}};t.b=c},565:function(e,t,r){"use strict";r(227);var n=r(101),o=r(0),a=r.n(o),i=r(1225);t.a=function(e){var t=e.placement,r=void 0===t?"bottom":t,o=e.className,u=e.useTip,c=e.time,l=e.disableYear,s=i.default.format(c,{disableYear:l});return u?a.a.createElement(n.a,{title:i.default.format(c,{full:!0}),placement:r},a.a.createElement("span",{className:o},s)):a.a.createElement("span",{className:o},s)}},5829:function(e,t,r){"use strict";r.r(t);r(48);var n=r(11),o=r(0),a=r.n(o),i=r(6),u=r.n(i),c=r(60),l=r.n(c),s=r(258),f=r.n(s),d=r(424),p=r.n(d),m=r(4038),y=r(64),h=r.n(y),b=r(840),v=r(4192),g=r(3514),_=r(4450),w=r(4641),E=r(4365),O=r(1226),x=r(4220),A=r(4420),k=r(47),T=r(4611),S=r(133),P=r(34),j=r(5486),L=(r(800),r(381)),N=r(1660),C=r(63),I={heading:"ThemeEditor-module_heading_c+-D6",dropdown:"ThemeEditor-module_dropdown_GqWMH",dropdownOverlay:"ThemeEditor-module_dropdownOverlay_LaRn-",themeOption:"ThemeEditor-module_themeOption_KY+3B",checked:"ThemeEditor-module_checked_2rWpv",divide:"ThemeEditor-module_divide_fXBGa",optionItem:"ThemeEditor-module_optionItem_HedYi",title:"ThemeEditor-module_title_N2+yz",desc:"ThemeEditor-module_desc_s2GVR",menu:"ThemeEditor-module_menu_73+4Q"};function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,u=[],c=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return R(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?R(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var D=[{id:"classic",title:__("经典优雅"),desc:__("疏密有度")},{id:"traditional",title:__("传统紧凑"),desc:__("排版紧密")}],B=[{id:"fixed",title:__("标准页宽"),desc:__("适合文本展示")},{id:"adapt",title:__("超宽显示"),desc:__("适合超宽表格")}];function Y(e){var t=e.options,r=e.selected,n=e.onSelect;return a.a.createElement("ul",null,t.map((function(e){return a.a.createElement("li",{key:e.id},e.id===r&&a.a.createElement("div",{className:I.checked},a.a.createElement(C.b,{name:"check",width:12,height:12})),a.a.createElement("div",{"data-option":e.id,className:I.optionItem,onClick:function(){n(e.id)}},a.a.createElement("p",{className:I.title},e.title),a.a.createElement("p",{className:I.desc},e.desc)))})))}function F(e){var t=new URLSearchParams(window.location.search),r=!t.get("viewport")||t.get("viewport")!==e.viewport,n=M(Object(o.useState)(e.viewport),2),i=n[0],u=n[1],c=M(Object(o.useState)(e.typography),2),l=c[0],s=c[1];return e.onReady&&e.onReady({setTypography:s}),a.a.createElement(L.a,{className:I.dropdown,overlayClassName:I.dropdownOverlay,trigger:["click"],overlay:a.a.createElement("div",{"data-testid":"lake-theme-editor-panel"},r&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:I.themeOption,"data-testid":"viewport-selector"},a.a.createElement("p",{className:I.heading},__("页面宽度")),a.a.createElement(Y,{options:B,selected:i,onSelect:function(t){u(t),e.onConfigChange("viewport",t)}})),a.a.createElement("div",{className:I.divide})),a.a.createElement("div",{className:I.themeOption,"data-testid":"typography-selector"},a.a.createElement("p",{className:I.heading},__("排版风格")),a.a.createElement(Y,{options:D,selected:l,onSelect:function(t){s(t),e.onConfigChange("typography",t)}})))},a.a.createElement("span",{"data-testid":"lake-theme-editor-entry"},__("页面设置"),a.a.createElement(N.default,{style:{fontSize:"10px",marginLeft:"6px"}})))}F.propTypes={typography:u.a.string.isRequired,viewport:u.a.string.isRequired,onConfigChange:u.a.func.isRequired};var U=F,z=r(5064),G=r(986),q=r(4341),V=r(4120);function K(e){return K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K(e)}function W(e){return function(e){if(Array.isArray(e))return H(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return H(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?H(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(r),!0).forEach((function(t){re(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function X(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ne(n.key),n)}}function J(e,t,r){return t=ee(t),function(e,t){if(t&&("object"==K(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,$()?Reflect.construct(t,r||[],ee(e).constructor):t.apply(e,r))}function $(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return($=function(){return!!e})()}function ee(e){return ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ee(e)}function te(e,t){return te=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},te(e,t)}function re(e,t,r){return(t=ne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ne(e){var t=function(e,t){if("object"!=K(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=K(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==K(t)?t:t+""}var oe=l()("editor:lake"),ae=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),re(r=J(this,t,[e]),"onSaveTitle",(function(e){oe("title saved, focus to engine"),r.props.onSaveTitle(e)})),re(r,"onTitleChangeEnd",(function(){r.engine.focus(!0)})),re(r,"onEngineLoaded",(function(e,t){r.engine=e,r.props.onLoad(e,t),r.ocrListenerRemover=g.a.onEditorEngineLoaded(e,"DocEditor"),e.on("selfChange",r.onChange),e.on("save",r.onSave),e.on("typographyChange",(function(){r.props.onThemeChange("typography")})),e.on("layoutChange",(function(){r.props.onThemeChange("viewport")})),e.on("paragraphSpacingChange",(function(){r.props.onThemeChange("paragraphSpacing")})),e.on("defaultFontsizeChange",(function(){r.props.onThemeChange("defaultFontsize")})),e.on("unSupportFileUpload",(function(e){var t;n.a.warning(Object(_.a)(null==e||null===(t=e.extName)||void 0===t?void 0:t.toLowerCase()))})),e.on("clickEmbedButton",(function(){Object(w.a)(n.a.warning.bind(n.a))})),e.on("aiReadLink",(function(e){!function(e){if(window.appData.canUseAiReading){var t=q.a.getAssistantByType(G.a.ReadAssistant);null!=t&&t.provider&&(q.a.switchAssistantByType(G.a.ReadAssistant),q.a.switchVisibility(V.e.Expanded),t.provider.datasource.readLink(e))}}(e)})),e.onPluginEvent("openCorrectionSidebar",(function(){var t;null!==(t=window.appData.settings)&&void 0!==t&&null!==(t=t.text_correction_config)&&void 0!==t&&t.enable&&(P.c?e.execCommand("correctSelection","fullDoc")&&n.a.success(__("正在智能纠错中...")):function(){var e;if(null!==(e=window.appData.settings)&&void 0!==e&&null!==(e=e.text_correction_config)&&void 0!==e&&e.enable){var t=q.a.getAssistantByType(G.a.CorrectionAssistant);null!=t&&t.provider&&(q.a.switchAssistantByType(G.a.CorrectionAssistant),q.a.switchVisibility(V.e.Expanded),t.provider.datasource.correctFullDoc())}}())})),e.onPluginEvent("openArrangementSidebar",(function(){var e;null!==(e=window.appData.settings)&&void 0!==e&&null!==(e=e.ai_doc_arrangement_config)&&void 0!==e&&e.enable&&!P.c&&function(){var e;if(null!==(e=window.appData.settings)&&void 0!==e&&null!==(e=e.ai_doc_arrangement_config)&&void 0!==e&&e.enable){var t=q.a.getAssistantByType(G.a.ArrangementAssistant);null!=t&&t.provider&&(q.a.switchAssistantByType(G.a.ArrangementAssistant),q.a.switchVisibility(V.e.Expanded))}}()})),e.on("userAction",(function(t){k.a.logs.editorUserAction(Z({editor:"lakexTextEditor",uuid:e.id},t),{ignoreGlobalMessage:!0})}));var o=r.props.doc;r.props.focusOnLoaded&&null!=o&&o.title&&!Object(j.b)(o.type,o.title)&&r.engine.on("document.ready",(function(){r.engine.focus()}))})),re(r,"onChange",(function(){r.change(),r.autoSave()})),re(r,"onSave",(function(){r.props.onSave()})),re(r,"onTitleEditorReady",(function(e){r.titleEditor=e})),re(r,"onThemeEditorReady",(function(e){r.themeEditor=e})),re(r,"onThemeConfigChange",(function(e,t){oe("theme config change",{type:e,value:t});var n={};n[e]=t,r.state[e]!==t&&(r.setState(n,(function(){"viewport"===e?r.engine.execCommand("layout",t):r.engine.execCommand(e,t),r.props.onThemeChange(e,t)})),"viewport"===e&&setTimeout((function(){window.dispatchEvent(new Event("resize"))}),100))})),r.editorRef=a.a.createRef(),r.state={viewport:e.viewport||h.a.VIEWPORT.fixed,typography:e.typography||h.a.TYPOGRAPHY.traditional,resourceModalContainer:null,cardData:null},r.engine=null,r.ocrListenerRemover=null,r.autoSave=p()((function(){oe("trigger auto save after stop editing"),e.onAutoSave()}),e.autoSaveInterval||6e4),r.change=p()((function(){oe("trigger auto save after stop editing"),e.onChange()}),100),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&te(e,t)}(t,e),r=t,(o=[{key:"componentDidMount",value:function(){var e;oe("editor initialized use value: ",this.props.defaultValue),E.a.epv({type:"Doc",id:this.props.doc_id});var t=this.buildOptions(),r=Object(m.createMajorEditor)(this.editorRef.current,t),n=null===(e=t.collaboration)||void 0===e?void 0:e.collab;this.onEngineLoaded(r,n),document.body.style.overscrollBehaviorX="none",document.body.style.overflowY="hidden"}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.title!==e.title&&this.titleEditor&&this.titleEditor.setTitle(e.title)}},{key:"componentWillUnmount",value:function(){var e;document.body.style.overscrollBehaviorX="",document.body.style.overflowY="",this.autoSave.cancel(),this.change.cancel(),null===(e=this.ocrListenerRemover)||void 0===e||e.call(this),this.engine.off("selfChange",this.onChange)}},{key:"isCollabMode",value:function(e){return!!e&&e.includes("Collab")}},{key:"buildOptions",value:function(){var e,t,r,n=this,o=this.props,i=o.doc_id,u=o.doc,c=o.book,l=o.group,s=o.meta,d=o.editMode,p=o.isDoclet,m=o.placeholder,y=o.getDefaultSuggestions,h=o.onBeforeRenderImage,g=o.sidePanelManager,_=o.editType,w=void 0===_?null===(e=window.appData)||void 0===e||null===(e=e.matchCondition)||void 0===e?void 0:e.editType:_,E=o.cardBlacklist,A=this.isCollabMode(w),L=v.a.buildOptions({role:null==s?void 0:s.role,target_type:p?"Doclet":"Doc",target_id:i,layout:this.state.viewport,typography:this.state.typography,isDesktop:P.c,image:{onBeforeRenderImage:h},disabledPlugins:Array.isArray(E)?W(E):[],placeholder:m,collab:new f.a,mention:{defaultList:y,onMentionSearch:o.onMentionSearch,multiTypes:!0},audio:{allowAudioPlayer:O.a.isAllowAudio(u,c,l)},tileRendering:this.isEnableTileRendering(A),virtualRendering:this.isEnableVirtualRendering(A),materialLibrary:{webProxy:k.a,storage:S.a},list:{enableDynamic:!0},dataTable:{webProxy:k.a,webSdk:T.a,doc:Z(Z({},u),{},{id:i,type:p?"Doclet":"Doc"}),book:c,group:l,abilities:u.abilities,canUseTableAi:window.appData.canUseAiWriting,maxRecordCount:b.CARD_MAX_RECORD_COUNT,mention:{defaultList:p?[]:y},content:{createLakeTableTextEditor:z.a}},ai:{docId:i},codeblock:{docId:i},globalSelectAll:o.globalSelectAll,correction:{streamCompletion:window.streamCompletion}});return d&&(L.editMode=!0,null!==(t=window.appData)&&void 0!==t&&t.isAntDingtalkUser&&(L.dingMention={api:"/api/notifications/send_by_dingtalk_chat",isAntDingTalkApi:"/api/ant_dingtalk/is_ant_dingtalk_user",docId:i,subjectType:"Doc"}),L.boardTips={read:function(){x.a.readLiteFeatureGuide({tip_id:"board_max_view_notice_tip"})},hasRead:1===(null===(r=window.appData)||void 0===r||null===(r=r.readTip)||void 0===r?void 0:r.board_max_view_notice_tip)}),L.sidebar={sidePanelManager:g},o.hideThemeEditor||L.header.push(a.a.createElement(U,{key:"lake-view-mode-editor",typography:this.state.typography,viewport:this.state.viewport,onConfigChange:this.onThemeConfigChange,onReady:this.onThemeEditorReady})),o.hideTitleEditor||L.header.push(a.a.createElement(j.a,{doc_id:o.doc_id,isDoc:!p,templateId:this.props.isDoclet?u.target_id:-1,onSave:function(e){return n.onSaveTitle(e)},onChange:o.onTitleChange,title:o.title,onChangeEnd:this.onTitleChangeEnd,onReady:this.onTitleEditorReady,key:o.title,tabIndex:1,style:o.hideThemeEditor&&{marginTop:33},type:u.type})),L}},{key:"isEnableTileRendering",value:function(e){var t=this.props,r=t.useEditorTileRendering,n=t.useEditorTileRenderingForOT;return!(!r||e&&!n)}},{key:"isEnableVirtualRendering",value:function(e){var t=this.props,r=t.useEditorVirtualRendering,n=t.useEditorVirtualRenderingForOT;return!(!r||e&&!n)}},{key:"render",value:function(){return a.a.createElement("div",{id:"lark-text-editor",className:"lakex-editor-wrapper"},a.a.createElement("div",{ref:this.editorRef,className:"lakex-editor-container"}))}}])&&X(r.prototype,o),i&&X(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(o.PureComponent);ae.defaultProps={hideTitleEditor:!1,onChange:function(e){},onTitleChange:function(e){},onAutoSave:function(){},onSaveTitle:function(){},onLoad:function(){},onThemeChange:function(){},cardBlacklist:[],useEditorTileRendering:!1,useEditorVirtualRendering:!1,useEditorTileRenderingForOT:!1,useEditorVirtualRenderingForOT:!1,onBeforeRenderImage:A.a},ae.propTypes={doc_id:u.a.number.isRequired,hideTitleEditor:u.a.bool,title:u.a.string,format:u.a.oneOf([h.a.FORMAT.ASL,h.a.FORMAT.LAKE,h.a.FORMAT.MARKDOWN,h.a.FORMAT.HTML]),defaultValue:u.a.string,autoSaveInterval:u.a.number,onChange:u.a.func,onSave:u.a.func,onTitleChange:u.a.func,onSaveTitle:u.a.func,onLoad:u.a.func,onAutoSave:u.a.func,getDefaultSuggestions:u.a.func,onMentionSearch:u.a.func,localVideo:u.a.object,allowMention:u.a.bool,allowResource:u.a.bool,ot:u.a.bool,meta:u.a.object,doc:u.a.object,book:u.a.object,group:u.a.object,viewport:u.a.string,typography:u.a.string,onThemeChange:u.a.func,sidebar:u.a.string,thirdPartyService:u.a.array,cardBlacklist:u.a.array,cardWhitelist:u.a.array,isDoclet:u.a.bool,placeholder:u.a.oneOfType([u.a.string,u.a.object]),focusOnLoaded:u.a.bool,useEditorTileRendering:u.a.bool,useEditorVirtualRendering:u.a.bool,useEditorTileRenderingForOT:u.a.bool,useEditorVirtualRenderingForOT:u.a.bool,onBeforeRenderImage:u.a.func,docDomain:u.a.string,globalSelectAll:u.a.bool,editMode:u.a.bool};t.default=ae},587:function(e,t,r){"use strict";r.d(t,"d",(function(){return m})),r.d(t,"c",(function(){return h})),r.d(t,"e",(function(){return b})),r.d(t,"b",(function(){return y})),r.d(t,"a",(function(){return p}));var n=r(0),o=r.n(n),a=r(6),i=r.n(a),u=(r(5),r(63)),c=r(87),l=r(960),s=(r(323),r(208));function f(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function p(e){var t,r,n=e.organization,a=e.department,i=e.className,u=null!=n&&n.id?[n.name]:[];null!=a&&null!==(t=a.dept_full_path)&&void 0!==t&&t.length&&(u=[].concat(f(u),f(null==a||null===(r=a.dept_full_path)||void 0===r?void 0:r.map((function(e){return e.name})))));var c=u.join(" - ");return o.a.createElement("span",{title:c,className:i},c)}function m(e){var t=e.organization,r=e.suffix,n=e.className;return o.a.createElement("span",{title:t.name,className:n},t.name," ",r)}function y(e){var t=e.organization;e.className;return o.a.createElement("a",{href:t.host,title:t.name},t.name)}function h(e){var t=e.src,r=e.size,n=e.radius,a=e.name,i=e.className,c=e.organization,s=t||(null==c?void 0:c.logo);return s?o.a.createElement(l.a,{src:s,size:r,radius:n||4,name:a,className:i}):o.a.createElement(u.b,{name:"icon-organization",width:r,radius:n||4,className:i})}function b(e){var t,r,n,a=e.className,i=e.organization,l=(t="en-us"===Object(s.d)(),r=c.a.isPro(i),n=c.a.isEnterprise(i),r?t?"icon-spacepayment-en":"spacepayment-pro":n?t?"en-spacepayment-business":"spacepayment-business":null);return l?o.a.createElement(u.b,{name:l,width:48,height:16,className:a}):null}p.propTypes={organization:i.a.any,department:i.a.any,className:i.a.string},m.propTypes={organization:i.a.object.isRequired,suffix:i.a.node,className:i.a.string},y.propTypes={organization:i.a.object.isRequired,className:i.a.string},h.propTypes={src:i.a.string,name:i.a.string,radius:i.a.oneOfType([i.a.string,i.a.number]),size:i.a.oneOfType([i.a.string,i.a.node]),className:i.a.string,organization:i.a.object},b.propTypes={className:i.a.string,organization:i.a.object},i.a.array.isRequired,i.a.string.isRequired,i.a.string,i.a.bool},591:function(e,t,r){"use strict";var n=r(960);r.d(t,"a",(function(){return n.a}))},708:function(e,t,r){"use strict";t.a={contactInfoTitle:"receipt-module_contactInfoTitle_+WTvl",receiptButtons:"receipt-module_receiptButtons_tBTuB",cancelButton:"receipt-module_cancelButton_1xXKN"}},711:function(e,t,r){"use strict";r(40);var n=r(9),o=(r(130),r(41)),a=(r(138),r(30)),i=(r(207),r(49)),u=(r(53),r(12)),c=r(0),l=r.n(c),s=r(6),f=r.n(s),d=r(708);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y(n.key),n)}}function y(e){var t=function(e,t){if("object"!=p(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==p(t)?t:t+""}function h(e,t,r){return t=v(t),function(e,t){if(t&&("object"==p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,b()?Reflect.construct(t,r||[],v(e).constructor):t.apply(e,r))}function b(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(b=function(){return!!e})()}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}var _=function(e){function t(e){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=h(this,t,[e]);var n=void 0===e.isFinished||!e.isFinished;return r.state={editing:n,btnLoading:!1},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(t,e),r=t,(c=[{key:"render",value:function(){var e,t,r=this,c=this.props.form,s=c.getFieldDecorator,f=c.getFieldValue,p=c.validateFields,m=c.resetFields,y=this.props,h=y.handleClickReceiptConfirm,b=y.handleApplyReceiptCancel,v=y.handleReceiptChange,g=y.data,_=y.isFinished,w=y.submitButtonText,E=!(null===(e=window.appData)||void 0===e||null===(e=e.me)||void 0===e||!e.isAdmin),O=!(null===(t=window.appData)||void 0===t||null===(t=t.me)||void 0===t||!t.isSecurityOperator),x=g||{},A=this.state,k=A.editing,T=A.btnLoading;return l.a.createElement(i.a,{layout:"vertical"},l.a.createElement(o.a,null,l.a.createElement(a.a,{span:24},l.a.createElement(i.a.Item,{label:__("发票抬头")},s("title",{initialValue:x.title,rules:[{required:!0,message:__("请填写{label}",{label:__("发票抬头")})},{validator:function(e,t,r){if(t){var n=f("tax_no");if(t.includes(n))return r(__("{label}填写有误",{label:__("发票抬头")}));if(t.length<4||/^\d+$/.test(t)||/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(t))return r(__("{label}填写有误",{label:__("发票抬头")}))}r()}}]})(l.a.createElement(u.a,{disabled:!k,maxLength:100,placeholder:__("请填写{label}",{label:__("发票抬头")})}))))),l.a.createElement(o.a,null,l.a.createElement(a.a,{span:11},l.a.createElement(i.a.Item,{label:__("税号")},s("tax_no",{initialValue:x.tax_no,rules:[{required:!0,message:__("请填写{label}",{label:__("税号")})},{validator:function(e,t,r){if(t&&!/^[0-9A-Za-z]{18}$/.test(t))return r(__("{label}填写有误",{label:__("税号")}));r()}}]})(l.a.createElement(u.a,{disabled:!k,maxLength:100,placeholder:__("请填写{label}",{label:__("税号")})})))),l.a.createElement(a.a,{push:2,span:11},l.a.createElement(i.a.Item,{label:__("公司注册电话")},s("telephone",{initialValue:x.telephone,rules:[{required:!0,message:__("请填写{label}",{label:__("公司注册电话")})},{validator:function(e,t,r){if(t){if(O&&t.indexOf("*")>=0)return r();if(!/^\+?[0-9\-\ ]{6,16}$/.test(t))return r(__("{label}填写有误",{label:__("公司注册电话")}))}r()}}]})(l.a.createElement(u.a,{disabled:!k,maxLength:100,placeholder:__("请填写{label}",{label:__("公司注册电话")})}))))),l.a.createElement(o.a,null,l.a.createElement(a.a,{span:11},l.a.createElement(i.a.Item,{label:__("开户行")},s("bank_name",{initialValue:x.bank_name,rules:[{required:!0,message:__("请填写{label}",{label:__("开户行")})},{validator:function(e,t,r){if(t){var n=f("tax_no"),o=f("bank_account"),a=f("address"),i=f("telephone");if(t.includes(n)||t.includes(o)||t.includes(a)||t.includes(i))return r(__("{label}填写有误",{label:__("开户行")}));if(t>35||/^\d+$/.test(t)||!/^[\u4e00-\u9fa5A-Za-z0-9（）() -\.]+$/.test(t))return r(__("{label}填写有误",{label:__("开户行")}))}r()}}]})(l.a.createElement(u.a,{disabled:!k,maxLength:100,placeholder:__("请填写{label}",{label:__("开户行")})})))),l.a.createElement(a.a,{push:2,span:11},l.a.createElement(i.a.Item,{label:__("银行账户")},s("bank_account",{initialValue:x.bank_account,rules:[{required:!0,message:__("请填写{label}",{label:__("银行账户")})},{validator:function(e,t,r){if(t){var n=f("tax_no"),o=f("telephone");if(t.includes(n)||t.includes(o))return r(__("{label}填写有误",{label:__("银行账户")}));if(!/^\d{8,28}$/.test(t))return r(__("{label}填写有误",{label:__("银行账户")}))}r()}}]})(l.a.createElement(u.a,{disabled:!k,maxLength:100,placeholder:__("请填写{label}",{label:__("银行账户")})}))))),l.a.createElement(o.a,null,l.a.createElement(a.a,{span:24},l.a.createElement(i.a.Item,{label:__("公司注册地址")},s("address",{initialValue:x.address,rules:[{required:!0,message:__("请填写{label}",{label:__("公司注册地址")})},{validator:function(e,t,r){if(t){var n=f("tax_no"),o=f("bank_name"),a=f("bank_account"),i=f("telephone");if(t.includes(n)||t.includes(o)||t.includes(a)||t.includes(i))return r(__("不允许包含{label1},{label2},{label3},{label4}",{label1:__("税号"),label2:__("开户行"),label3:__("银行账户"),label4:__("公司注册电话")}));if(t>40||/^\d+$/.test(t)||!/^[\u4e00-\u9fa5A-Za-z0-9（）() -\.]+$/.test(t))return r(__("{label}填写有误",{label:__("公司注册地址")}))}r()}}]})(l.a.createElement(u.a,{disabled:!k,maxLength:100,placeholder:__("请填写{label}",{label:__("公司注册地址")})}))))),l.a.createElement(o.a,null,l.a.createElement(a.a,{span:24,className:d.a.contactInfoTitle})),l.a.createElement(o.a,null,l.a.createElement(a.a,{span:11},l.a.createElement(i.a.Item,{label:__("联系人")},s("contact_name",{initialValue:x.contact_name,rules:[{required:!0,message:__("请填写{label}",{label:__("联系人")})},{validator:function(e,t,r){if(t&&!/^[\u4e00-\u9fa5]{2,10}$/.test(t)&&!/^[A-Za-z][A-Za-z\s\.]{1,48}[A-Za-z]$/.test(t))return r(__("{label}填写有误",{label:__("联系人")}));r()}}]})(l.a.createElement(u.a,{disabled:!k,maxLength:100,placeholder:__("请填写{label}",{label:__("联系人")})})))),l.a.createElement(a.a,{push:2,span:11},l.a.createElement(i.a.Item,{label:__("联系手机号")},s("contact_telephone",{initialValue:x.contact_telephone,rules:[{required:!0,message:__("请填写{label}",{label:__("联系手机号")})},{validator:function(e,t,r){if(t){if(O&&t.indexOf("*")>=0)return r();if(!/^\+?[0-9\-\ ]{6,16}$/.test(t))return r(__("{label}填写有误",{label:__("联系手机号")}))}r()}}]})(l.a.createElement(u.a,{disabled:!k,maxLength:100,placeholder:__("请填写{label}",{label:__("联系手机号")})}))))),l.a.createElement(o.a,null,l.a.createElement(a.a,{span:24},l.a.createElement(i.a.Item,{label:__("邮箱")},s("email",{initialValue:x.email,rules:[{required:!0,type:"email",message:__("请填写{label}",{label:__("邮箱")})},{validator:function(e,t,r){if(t){if(O&&t.indexOf("*")>=0)return r();if(!/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(t))return r(__("{label}填写有误",{label:__("邮箱")}))}r()}}]})(l.a.createElement(u.a,{disabled:!k,maxLength:100,placeholder:__("请填写{label}",{label:__("邮箱")})}))))),l.a.createElement(o.a,null,l.a.createElement(a.a,{span:24},l.a.createElement(i.a.Item,{label:__("联系地址")},s("detail_address",{initialValue:x.detail_address,rules:[{required:!E,message:__("请填写{label}",{label:__("联系地址")})},{validator:function(e,t,r){if(t&&(/^\d+$/.test(t)||!/^[\u4e00-\u9fa5A-Za-z0-9（）() -\.]+$/.test(t)))return r(__("{label}填写有误",{label:__("联系地址")}));r()}}]})(l.a.createElement(u.a,{disabled:!k,maxLength:100,placeholder:__("请填写{label}",{label:__("联系地址")})}))))),!_&&l.a.createElement(o.a,{className:d.a.receiptButtons},l.a.createElement(a.a,{span:24},l.a.createElement(n.a,{type:"primary",onClick:function(){return function(){if(!k)return r.setState({btnLoading:!0}),h(r.props,"special"),void r.setState({btnLoading:!1});p((function(e){e?r.setState({btnLoading:!1}):(v(!1),r.setState({editing:!1,btnLoading:!1}))}))}()},loading:T},k?__("下一步"):w||__("确认开票")),l.a.createElement(n.a,{className:d.a.cancelButton,onClick:function(){return function(){if(k)return b(),void m();v(!0),r.setState({editing:!0})}()}},k?__("取消"):__("返回修改")))))}}])&&m(r.prototype,c),s&&m(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,c,s}(l.a.PureComponent);_.propTypes={handleClickReceiptConfirm:f.a.func.isRequired,handleApplyReceiptCancel:f.a.func.isRequired,handleReceiptChange:f.a.func.isRequired,form:f.a.object.isRequired,data:f.a.object,isFinished:f.a.bool,submitButtonText:f.a.string},t.a=_},712:function(e,t,r){"use strict";r(40);var n=r(9),o=(r(130),r(41)),a=(r(138),r(30)),i=(r(207),r(49)),u=(r(53),r(12)),c=r(0),l=r.n(c),s=r(6),f=r.n(s),d=r(708);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y(n.key),n)}}function y(e){var t=function(e,t){if("object"!=p(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==p(t)?t:t+""}function h(e,t,r){return t=v(t),function(e,t){if(t&&("object"==p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,b()?Reflect.construct(t,r||[],v(e).constructor):t.apply(e,r))}function b(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(b=function(){return!!e})()}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}var _=function(e){function t(e){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=h(this,t,[e]);var n=void 0===e.isFinished||!e.isFinished;return r.state={editing:n,btnLoading:!1},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(t,e),r=t,(c=[{key:"render",value:function(){var e,t,r=this,c=this.props.form,s=c.getFieldDecorator,f=c.getFieldValue,p=c.validateFields,m=c.resetFields,y=this.props,h=y.handleClickReceiptConfirm,b=y.handleApplyReceiptCancel,v=y.handleReceiptChange,g=y.data,_=y.isFinished,w=y.submitButtonText,E=y.isOrganization,O=!(null===(e=window.appData)||void 0===e||null===(e=e.me)||void 0===e||!e.isAdmin),x=!(null===(t=window.appData)||void 0===t||null===(t=t.me)||void 0===t||!t.isSecurityOperator),A=g||{},k=this.state,T=k.editing,S=k.btnLoading;return l.a.createElement(i.a,{layout:"vertical"},l.a.createElement(o.a,null,l.a.createElement(a.a,{span:24},l.a.createElement(i.a.Item,{label:__("发票抬头")},s("title",{initialValue:A.title,rules:[{required:!0,message:__("请填写{label}",{label:__("发票抬头")})},{validator:function(e,t,r){if(t){var n=f("tax_no");if(t.includes(n))return r(__("{label}填写有误",{label:__("发票抬头")}));if(t.length<2||/^\d+$/.test(t)||/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(t))return r(__("{label}填写有误",{label:__("发票抬头")}))}r()}}]})(l.a.createElement(u.a,{disabled:!T,maxLength:100,placeholder:__("请填写{label}",{label:__("发票抬头")})}))))),l.a.createElement(o.a,null,l.a.createElement(a.a,{span:24},l.a.createElement(i.a.Item,{label:E?__("税号"):__("税号(选填)")},s("tax_no",{initialValue:A.tax_no,rules:[{required:!!E,message:E?__("国际商户可填18个零开具形式发票, 国内无法计税"):__("请填写{label}",{label:__("税号")})},{validator:function(e,t,r){if(t&&!/^[0-9A-Za-z]{18}$/.test(t))return r(__("{label}填写有误",{label:__("税号")}));r()}}]})(l.a.createElement(u.a,{disabled:!T,maxLength:100,placeholder:E?__("国际商户可填18个零开具形式发票, 国内无法计税"):__("请填写{label}",{label:__("税号")})}))))),l.a.createElement(o.a,null,l.a.createElement(a.a,{span:24,className:d.a.contactInfoTitle})),l.a.createElement(o.a,null,l.a.createElement(a.a,{span:11},l.a.createElement(i.a.Item,{label:__("联系人")},s("contact_name",{initialValue:A.contact_name,rules:[{required:!0,message:__("请填写{label}",{label:__("联系人")})},{validator:function(e,t,r){if(t&&!/^[\u4e00-\u9fa5]{2,10}$/.test(t)&&!/^[A-Za-z][A-Za-z\s\.]{1,48}[A-Za-z]$/.test(t))return r(__("{label}填写有误",{label:__("联系人")}));r()}}]})(l.a.createElement(u.a,{disabled:!T,maxLength:100,placeholder:__("请填写{label}",{label:__("联系人")})})))),l.a.createElement(a.a,{push:2,span:11},l.a.createElement(i.a.Item,{label:__("联系手机号")},s("contact_telephone",{initialValue:A.contact_telephone,rules:[{required:!0,message:__("请填写{label}",{label:__("联系手机号")})},{validator:function(e,t,r){if(t){if(x&&t.indexOf("*")>=0)return r();if(!/^\+?[0-9\-\ ]{6,16}$/.test(t))return r(__("{label}填写有误",{label:__("联系手机号")}))}r()}}]})(l.a.createElement(u.a,{disabled:!T,maxLength:100,placeholder:__("请填写{label}",{label:__("联系手机号")})}))))),l.a.createElement(o.a,null,l.a.createElement(a.a,{span:24},l.a.createElement(i.a.Item,{label:__("邮箱")},s("email",{initialValue:A.email,rules:[{required:!0,type:"email",message:__("请填写{label}",{label:__("邮箱")})},{validator:function(e,t,r){if(t){if(x&&t.indexOf("*")>=0)return r();if(!/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(t))return r(__("{label}填写有误",{label:__("邮箱")}))}r()}}]})(l.a.createElement(u.a,{disabled:!T,maxLength:100,placeholder:__("请填写{label}",{label:__("邮箱")})}))))),l.a.createElement(o.a,null,l.a.createElement(a.a,{span:24},l.a.createElement(i.a.Item,{label:__("联系地址")},s("detail_address",{initialValue:A.detail_address,rules:[{required:!O,message:__("请填写{label}",{label:__("联系地址")})},{validator:function(e,t,r){if(t&&(/^\d+$/.test(t)||!/^[\u4e00-\u9fa5A-Za-z0-9（）() -\.]+$/.test(t)))return r(__("{label}填写有误",{label:__("联系地址")}));r()}}]})(l.a.createElement(u.a,{disabled:!T,maxLength:100,placeholder:__("请填写{label}",{label:__("联系地址")})}))))),!_&&l.a.createElement(o.a,{className:d.a.receiptButtons},l.a.createElement(a.a,{span:24},l.a.createElement(n.a,{type:"primary",onClick:function(){return function(){if(!T)return r.setState({btnLoading:!0}),h(r.props),void r.setState({btnLoading:!1});p((function(e){e?r.setState({btnLoading:!1}):(v(!1),r.setState({editing:!1,btnLoading:!1}))}))}()},loading:S},T?__("下一步"):w||__("确认开票")),l.a.createElement(n.a,{className:d.a.cancelButton,onClick:function(){return function(){if(T)return b(),void m();v(!0),r.setState({editing:!0})}()}},T?__("取消"):__("返回修改")))))}}])&&m(r.prototype,c),s&&m(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,c,s}(l.a.PureComponent);_.propTypes={handleClickReceiptConfirm:f.a.func.isRequired,handleApplyReceiptCancel:f.a.func.isRequired,handleReceiptChange:f.a.func.isRequired,form:f.a.object.isRequired,data:f.a.object,isFinished:f.a.bool,submitButtonText:f.a.string,isOrganization:f.a.bool},t.a=_},795:function(e,t){let r;const n=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];t.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},t.getSymbolTotalCodewords=function(e){return n[e]},t.getBCHDigit=function(e){let t=0;for(;0!==e;)t++,e>>>=1;return t},t.setToSJISFunction=function(e){if("function"!=typeof e)throw new Error('"toSJISFunc" is not a valid function.');r=e},t.isKanjiModeEnabled=function(){return void 0!==r},t.toSJIS=function(e){return r(e)}},796:function(e,t,r){const n=r(1419),o=r(1420);t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!n.isValid(t))throw new Error("Invalid version: "+t);return t>=1&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]},t.getBestModeForData=function(e){return o.testNumeric(e)?t.NUMERIC:o.testAlphanumeric(e)?t.ALPHANUMERIC:o.testKanji(e)?t.KANJI:t.BYTE},t.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},t.isValid=function(e){return e&&e.bit&&e.ccBits},t.from=function(e,r){if(t.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+e)}}(e)}catch(e){return r}}},801:function(e,t,r){"use strict";function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var a=r(715),i=a.RAW_EXTNAMES,u=a.IMAGE_EXTNAMES,c=a.VIDEO_EXTNAMES,l=a.AUDIO_EXTNAMES,s=a.PRESENTATION_EXTNAMES,f=a.SHEET_EXTNAMES,d=a.MMAP_EXTNAMES,p=a.ZIP_EXTNAMES,m=a.ALLOW_RESOURCE_EDIT_EXTNAMES,y=r(193).FileUtils,h=r(125),b=r(126),v="#eef4fd",g="#eef7f1",_="#f5f2fb",w="#fef8ec",E="#fcf1ec";function O(e){return!!(e=e.toLowerCase()).endsWith(".mindnode.zip")||(!!e.endsWith(".xmind.zip")||(!!e.endsWith(".mpp.zip")||!!e.endsWith(".mmap.zip")))}function x(e){return y.getFileExtname(e)}function A(e,t){if(!t)return!1;switch(t.ext=t.ext?t.ext.toLowerCase():x(t),e){case"raw":return i.includes(t.ext);case"image":return u.includes(t.ext);case"video":return c.includes(t.ext);case"audio":return l.includes(t.ext);case"presentation":return s.includes(t.ext);case"sheet":return f.includes(t.ext);case"rp":return["rp","rplib"].includes(t.ext);case"zip":return p.includes(t.ext);case"mmap":return d.includes(t.ext);case"ppt":return["ppt","pptx"].includes(t.ext);case"office":return[].concat(n(h),n(b)).map((function(e){return e.substr(1)})).includes(t.ext);default:return t.ext===e}}function k(e){return A("image",e)}function T(e){return A("video",e)}function S(e){return A("audio",e)}function P(e){return A("presentation",e)}function j(e){return A("sheet",e)}function L(e){return A("sketch",e)}function N(e){return A("rp",e)}function C(e){return A("pdf",e)}e.exports={isPreviewableZipFiles:O,getExtname:x,getFilename:function(e){if(!e||!e.name)return"";var t=e.name,r=t.split(".");return r.pop(),O(t)&&r.pop(),r.join(".")},isRaw:function(e){return A("raw",e)},isImage:k,isVideo:T,isAudio:S,isPresentation:P,isSheet:j,isSketch:L,isRP:N,isPDF:C,isPpt:function(e){return A("ppt",e)},isOffice:function(e){return A("office",e)},getFileIcon:function(e){if("folder"===e.type)return"file-folder";var t=e.ext;return t=t?t.toLowerCase():x(e),k(e)?"file-image":T(e)?"file-video":S(e)?"file-audio":["doc","docx","dot","dotx"].includes(t)?"file-word":C(e)?"file-pdf":A("txt",e)?"file-txt":["pages","md","markdown","rtf"].includes(t)?"file-doc":A("numbers",e)?"file-numbers":["xls","xlsx","xlsm","xltx","xlt"].includes(t)?"file-excel":j(e)?"file-sheet":A("key",e)?"file-keynote":P(e)?"file-ppt":["xmind","xmind.zip"].includes(t)?"file-xmind":["mindnode","mindnode.zip"].includes(t)?"file-mindnode":A("mmap",e)?"file-mindmap":L(e)?"file-sketch":N(e)?"file-axure":A("psd",e)?"file-psd":A("ai",e)?"file-ai":A("graffle",e)?"file-graffle":A("zip",e)?"file-rar":A("lake",e)?"doc-type-default":A("lakesheet",e)?"doc-type-sheet":"file-default"},allowResourceEdit:function(e){var t=e.ext||x(e);return!!t&&m.includes(t.toLowerCase())},getFileBgColor:function(e){if("folder"===e.type)return v;var t=e.ext;return t=t?t.toLowerCase():"",k(e)?w:T(e)?_:S(e)||["doc","docx","dot","dotx"].includes(t)?v:C(e)?E:A("txt",e)||["pages","md","markdown","rtf"].includes(t)?v:A("numbers",e)||["xls","xlsx","xlsm","xltx","xlt"].includes(t)||j(e)?g:A("key",e)?v:P(e)||["xmind","xmind.zip"].includes(t)?E:["mindnode","mindnode.zip"].includes(t)||A("mmap",e)?_:L(e)?w:N(e)?_:A("psd",e)?v:A("ai",e)?w:A("graffle",e)?g:A("zip",e)?_:A("lake",e)?v:A("lakesheet",e)?g:v}}},803:function(e,t,r){"use strict";var n=r(87);t.a=n.a},815:function(e,t,r){e.exports=function(){"use strict";function e(e,t,r){(r=r||{}).childrenKeyName=r.childrenKeyName||"children";var n=e||[],o=[],a=0;do{var i=n.filter((function(e){return t(e,a)}))[0];if(!i)break;o.push(i),n=i[r.childrenKeyName]||[],a+=1}while(n.length>0);return o}return e}()},8389:function(e,t,r){"use strict";r.r(t);r(48);var n=r(11),o=r(0),a=r.n(o),i=r(6),u=r.n(i),c=r(60),l=r.n(c),s=r(4192),f=r(5202),d=r(4450),p=r(4641),m=r(4365);function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function h(){h=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof g?t:g,i=Object.create(a.prototype),u=new N(n||[]);return o(i,"_invoke",{value:S(e,r,u)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",p="suspendedYield",m="executing",b="completed",v={};function g(){}function _(){}function w(){}var E={};l(E,i,(function(){return this}));var O=Object.getPrototypeOf,x=O&&O(O(C([])));x&&x!==r&&n.call(x,i)&&(E=x);var A=w.prototype=g.prototype=Object.create(E);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function r(o,a,i,u){var c=f(e[o],e,a);if("throw"!==c.type){var l=c.arg,s=l.value;return s&&"object"==y(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,u)}),(function(e){r("throw",e,i,u)})):t.resolve(s).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,u)}))}u(c.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function S(t,r,n){var o=d;return function(a,i){if(o===m)throw Error("Generator is already running");if(o===b){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var u=n.delegate;if(u){var c=P(u,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=b,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var l=f(t,r,n);if("normal"===l.type){if(o=n.done?b:p,l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=b,n.method="throw",n.arg=l.arg)}}}function P(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,P(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function C(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(y(t)+" is not iterable")}return _.prototype=w,o(A,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:_,configurable:!0}),_.displayName=l(w,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,l(e,c,"GeneratorFunction")),e.prototype=Object.create(A),e},t.awrap=function(e){return{__await:e}},k(T.prototype),l(T.prototype,u,(function(){return this})),t.AsyncIterator=T,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new T(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(A),l(A,c,"Generator"),l(A,i,(function(){return this})),l(A,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=C,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return u.type="throw",u.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],u=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),L(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:C(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function b(e,t,r,n,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,o)}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,O(n.key),n)}}function g(e,t,r){return t=w(t),function(e,t){if(t&&("object"==y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,_()?Reflect.construct(t,r||[],w(e).constructor):t.apply(e,r))}function _(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_=function(){return!!e})()}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function E(e,t){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},E(e,t)}function O(e){var t=function(e,t){if("object"!=y(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==y(t)?t:t+""}var x=l()("editor:doc.h5"),A=function(e){function t(e){var r,o,i,u;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=g(this,t,[e]),o=r,u=function(e){r.engine=e;var t=new s.a(r.props.doc,e);r.props.onChange&&e.on("change",r.props.onChange),e.on("save",r.props.onSave),e.on("unSupportFileUpload",(function(e){var t;n.a.warning(Object(d.a)(null==e||null===(t=e.extName)||void 0===t?void 0:t.toLowerCase(),!0))})),e.on("clickEmbedButton",(function(){Object(p.a)(n.a.warning.bind(n.a))})),e.on("focusstatuschange",(function(e){var t,n;null===(t=r.props)||void 0===t||null===(n=t.onFocusStatusChange)||void 0===n||n.call(t,e)})),e.on("focusstatuschange",(function(e){var t,n;null===(t=r.props)||void 0===t||null===(n=t.onFocusStatusChange)||void 0===n||n.call(t,e)})),r.props.onLoad({engine:t}),m.a.epv({type:"Note"})},(i=O(i="onEngineLoaded"))in o?Object.defineProperty(o,i,{value:u,enumerable:!0,configurable:!0,writable:!0}):o[i]=u,r.editorRef=a.a.createRef(),r.state={},r.engine=null,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E(e,t)}(t,e),r=t,o=[{key:"componentDidMount",value:function(){x("editor init done."),this.start()}},{key:"componentWillUnmount",value:function(){this.engine=null}},{key:"start",value:(u=h().mark((function e(){var t,r,n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.getLakexEditor();case 2:t=e.sent,r=t.createNoteEditor,n=r(this.editorRef.current,this.props.buildOptions?this.props.buildOptions():this.props.options),this.onEngineLoaded(n);case 6:case"end":return e.stop()}}),e,this)})),c=function(){var e=this,t=arguments;return new Promise((function(r,n){var o=u.apply(e,t);function a(e){b(o,r,n,a,i,"next",e)}function i(e){b(o,r,n,a,i,"throw",e)}a(void 0)}))},function(){return c.apply(this,arguments)})},{key:"render",value:function(){return a.a.createElement("div",{ref:this.editorRef,className:"lakex-note-editor"})}}],o&&v(r.prototype,o),i&&v(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i,u,c}(o.PureComponent);A.defaultProps={onSave:function(){},onLoad:function(){}},A.propTypes={onChange:u.a.func.isRequired,onLoad:u.a.func,onSave:u.a.func,onFocusStatusChange:u.a.func,buildOptions:u.a.func},t.default=A},86:function(e,t,r){"use strict";r(1487);var n=r(976);r(278);t.a=n.a},87:function(e,t,r){"use strict";var n,o=r(324),a=r.n(o),i=r(20),u=r(97),c=r(311),l=r(427),s=r(74),f=r(133),d=r(47),p=r(50);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v(n.key),n)}}function h(e,t,r){return t&&y(e.prototype,t),r&&y(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function b(e,t,r){return(t=v(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e){var t=function(e,t){if("object"!=m(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==m(t)?t:t+""}var g,_=h((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function E(){E=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof b?t:b,i=Object.create(a.prototype),u=new N(n||[]);return o(i,"_invoke",{value:S(e,r,u)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",p="suspendedYield",m="executing",y="completed",h={};function b(){}function v(){}function g(){}var _={};l(_,i,(function(){return this}));var O=Object.getPrototypeOf,x=O&&O(O(C([])));x&&x!==r&&n.call(x,i)&&(_=x);var A=g.prototype=b.prototype=Object.create(_);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function r(o,a,i,u){var c=f(e[o],e,a);if("throw"!==c.type){var l=c.arg,s=l.value;return s&&"object"==w(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,u)}),(function(e){r("throw",e,i,u)})):t.resolve(s).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,u)}))}u(c.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function S(t,r,n){var o=d;return function(a,i){if(o===m)throw Error("Generator is already running");if(o===y){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var u=n.delegate;if(u){var c=P(u,n);if(c){if(c===h)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var l=f(t,r,n);if("normal"===l.type){if(o=n.done?y:p,l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=y,n.method="throw",n.arg=l.arg)}}}function P(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,P(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function C(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(w(t)+" is not iterable")}return v.prototype=g,o(A,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:v,configurable:!0}),v.displayName=l(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,l(e,c,"GeneratorFunction")),e.prototype=Object.create(A),e},t.awrap=function(e){return{__await:e}},k(T.prototype),l(T.prototype,u,(function(){return this})),t.AsyncIterator=T,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new T(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(A),l(A,c,"Generator"),l(A,i,(function(){return this})),l(A,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=C,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return u.type="throw",u.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],u=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),L(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:C(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}function O(e,t,r,n,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,o)}function x(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){O(a,n,o,i,u,"next",e)}function u(e){O(a,n,o,i,u,"throw",e)}i(void 0)}))}}function A(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=w(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=w(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==w(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}n=_,b(_,"getFeatureBelongsPayment",(function(e){var t=p.ORG_PRO_FEATURE[e],r=p.ORG_ENTERPRISE_FEATURE[e];return t?i.PAYMENT_TYPE.pro:r?i.PAYMENT_TYPE.enterprise:i.PAYMENT_TYPE.free})),b(_,"paymentCheck",(function(e,t){switch(n.getFeatureBelongsPayment(e)){case i.PAYMENT_TYPE.pro:return[i.PAYMENT_TYPE.enterprise,i.PAYMENT_TYPE.pro].includes(t);case i.PAYMENT_TYPE.enterprise:return i.PAYMENT_TYPE.enterprise===t;case i.PAYMENT_TYPE.free:default:return!0}}));var k={},T=A(A(A(A(A({},u.STATUS.applying,__("待审批")),u.STATUS.invited,__("待加入")),u.STATUS.imported,__("待加入")),u.STATUS.terminated,__("已离职")),u.STATUS.waiting,__("待处理")),S=A(A(A({},u.ROLE.owner,__("管理员")),u.ROLE.member,__("成员")),u.ROLE.outsourcer,__("外部联系人")),P=A(A(A({},i.PAYMENT_TYPE.free,__("标准版")),i.PAYMENT_TYPE.pro,__("专业版")),i.PAYMENT_TYPE.enterprise,__("旗舰版")),j={free:0,paid:1,welfare:2},L=A(A(A({},j.free,{name:__("免费版"),desc:__("50 人以下，享受基础权益"),testId:"mode-free"}),j.paid,{name:__("付费版"),desc:__("999 元/年/50 人 起"),testId:"mode-pro",help:{text:__("试用到期后可降为免费版继续使用。"),linkText:__("查看详细版本对比"),link:"/about/price#team"}}),j.welfare,{name:__("公益版"),desc:__("支持公益、教育、初创企业"),testId:"mode-welfare",help:{text:__("非营利性公益组织、教育机构及初创企业可申请免费使用付费版权益。"),linkText:__("查看版本介绍"),link:"/about/welfare"}}),N=A(A(A({},i.CERTIFICATION_TYPE.welfare,{name:__("公益组织"),desc:__("从事公益事业的非营利组织")}),i.CERTIFICATION_TYPE.education,{name:__("教育机构"),desc:__("公办或非营利的学校或机构")}),i.CERTIFICATION_TYPE.startup,{name:__("初创企业"),desc:__("创办三年内且小于 100 人")}),C=[{name:__("资质证明"),desc:__("需提供营业执照、事业单位法人证明或其他相关证明材料，支持jpg、jpeg、png、bmp 格式，大小不超过 5MB"),helpList:[{text:__("查看示例"),link:"https://www.yuque.com/yuque/rvzzxz/gf443f#b5fb6957"}]},{name:__("申请公函"),desc:__("申请函红色部分需要填写，签名需手写，支持jpg、jpeg、png、pdf、bmp 格式，大小不超过 5MB"),helpList:[{text:__("下载模板"),link:"https://gw.alipayobjects.com/os/bmw-prod/5e485a34-3b78-4248-9fe4-1d8607cfc53e.docx"},{text:__("查看帮助"),link:"https://www.yuque.com/yuque/rvzzxz/gf443f#b5fb6957"}]}],I=(A(A(A(A(A(A(A(A(A(A(g={},p.INTEREST_CODE.book_statistics,__("知识库统计可以查看知识库内容数据统计和阅读、点赞、评论等访问数据统计。")),p.INTEREST_CODE.book_security,__("知识库安全设置可设置文档水印等安全信息")),p.INTEREST_CODE.thirdpart_address,__("标准版空间不支持钉钉、企业微信通讯录绑定，请及时进行版本升级")),p.INTEREST_CODE.group_department,__("绑定部门后，部门成员访问该团队时将自动成为团队成员。")),p.INTEREST_CODE.organization_statistics,__("可查看贡献榜，查看导出成员和团队明细等空间统计信息。")),p.INTEREST_CODE.group_statistics,__("可查看贡献榜，查看导出成员和团队明细等团队统计信息。")),p.INTEREST_CODE.group_security_logs,__("记录团队内成员变更，内容创建、删除、分享、导出等信息，让行为可查询追溯。")),p.INTEREST_CODE.group_webhook,__("可通过 Webhook 向钉钉群等发送团队动态")),p.INTEREST_CODE.group_handover,__("团队管理员离职后，允许空间管理员接管团队，整理内容。")),p.INTEREST_CODE.open_ocr,__("升级专业版、旗舰版空间可享受识图搜索等功能优先体验权")),A(A(A(A(A(A(A(A(g,p.INTEREST_CODE.organization_security_operation_logs,__("记录空间内成员变更，内容创建、删除、分享、导出等信息，以供查询，升级付费版即可立即使用")),p.INTEREST_CODE.organization_security_visite_logs,__("展示空间最近访问记录，包括到访用户、时间、IP 地址、被访问地址信息，升级付费版即可立即使用")),p.INTEREST_CODE.open_api,__("记录空间内成员变更，内容创建、删除、分享、导出等信息，以供查询，升级付费版即可立即使用")),p.INTEREST_CODE.organization_security_warning,__("安全预警可以帮助管理员及时识别风险。支持高频操作（如导出、删除、分享等）、账号密码泄漏风险等预警设置")),p.INTEREST_CODE.outsourcer,__("外部联系人用于外部合作场景，管理员可将外部客户或合作伙伴添加为外部联系人。")),p.INTEREST_CODE.organization_security_share_logs,__("记录空间中所有分享行为，包括所有正在分享的文档或知识库内容，管理员可作统一管理，关闭不必要的分享")),p.INTEREST_CODE.organization_webhook,__("可通过 Webhook 向钉钉群等发送空间动态")),p.INTEREST_CODE.public_page,__("空间公开页适用于企业对外的帮助手册、更新日志、技术博客等面向互联网公开分享场景。"))),M={free:0,downgrade:1,vip:2,trial:3,expired:4},R=A(A(A({},M.free,{title:__("免费版空间"),guideText:__("试用付费版，享更多专属权益"),controlText:__("试用"),guideLink:"/r/organizations/dashboard/cashier?action=tryout"}),M.vip,{title:__("付费版空间"),guideText:__("续费"),guideLink:"/r/organizations/dashboard/cashier?action=renew"}),M.expired,{title:__("付费版空间"),guideText:__("付费"),guideLink:"/r/organizations/dashboard/cashier?action=renew"}),D="page_dashboard_org_wiki_redirect",B={isOwner:function(e){var t;return null==e||null===(t=e.abilities)||void 0===t?void 0:t.destroy},isOutsourcer:function(e){return!!e&&(e.abilities&&!e.abilities.read&&e.abilities.read_home)},isTopLevel:function(e){var t;return null==e||null===(t=e.owner)||void 0===t?void 0:t.isTopLevel},enableAddressbook:function(){if(!window.appData.isYuque)return!0;var e=window.appData.organization,t=void 0===e?{}:e;return!(!t||t.address_book_type!==i.ADDRESS_BOOK_TYPE.yuque)||!!window.appData.corp&&(!!this.isWeixin()||!this.isTeambition())},disableRegistry:function(e){return!!e&&!(!e.id||e.enable_registry)},isWeixin:function(){return window.appData.corp&&"weixin"===window.appData.corp.type},isDingtalk:function(){return window.appData.corp&&"dingtalk"===window.appData.corp.type},isTeambition:function(){return window.appData.corp&&"teambition"===window.appData.corp.type},isYuqueAddressBook:function(){var e=window.appData,t=e.organization,r=void 0===t?{}:t;return e.isYuque&&(null==r?void 0:r.address_book_type)===i.ADDRESS_BOOK_TYPE.yuque},enableContacts:function(){var e=window.appData,t=e.organization,r=void 0===t?{}:t;return e.isYuque&&[i.ADDRESS_BOOK_TYPE.dingtalk,i.ADDRESS_BOOK_TYPE.weixin,i.ADDRESS_BOOK_TYPE.yuque,i.ADDRESS_BOOK_TYPE.custom].includes(r.address_book_type)},isWeixinAddressBook:function(){var e=window.appData,t=e.organization,r=void 0===t?{}:t;return e.isYuque&&i.ADDRESS_BOOK_TYPE.weixin===r.address_book_type},userNameEditable:function(){var e=window.appData,t=e.organization,r=void 0===t?{}:t,n=e.isYuque;return this.isWeixinAddressBook()||this.isYuqueAddressBook()||n&&1!==r.corp_sync_name_enable},isInOrg:function(){var e=window.appData,t=e.organization,r=void 0===t?{}:t;return!(!e.isYuque||null==r||!r.id)},isExpired:function(e){return!!e&&(!B.isFree(e)&&new Date(e.expired_at)<Date.now())},isFree:function(e){return!e||e.payment_type===i.PAYMENT_TYPE.free},isTrial:function(e){return!(!e||B.isFree(e))&&e.trialStatus===l.TRIAL_STATUS.on},isWelfareOrg:function(e){return!B.isExpired(e)&&e.certification_type>i.CERTIFICATION_TYPE.normal},isPremium:function(e){return!!e&&(B.isPaidVersion(e)&&!B.isExpired(e))},isPaidVersion:function(e){var t=e.payment_type;return t===i.PAYMENT_TYPE.enterprise||t===i.PAYMENT_TYPE.pro},isPro:function(e){return!(!e||B.isExpired(e))&&e.payment_type===i.PAYMENT_TYPE.pro},isEnterprise:function(e){return!(!e||B.isExpired(e))&&e.payment_type===i.PAYMENT_TYPE.enterprise},getIconName:function(e){var t="icon-overpaid";return B.isPro(e)&&(t="icon-org-pro"),B.isEnterprise(e)&&(t="icon-org-enterprise"),t},buildOrgPayLink:function(e){var t=e.action,r=e.targetLevel,n=e.paySource,o=new URL("r/organizations/dashboard/cashier",window.location.origin);return t&&o.searchParams.set("action",t),r&&o.searchParams.set("targetLevel",r),n&&o.searchParams.set("paySource",n),o.toString()},canIndirectAddOrgMember:function(e){return x(E().mark((function t(){var r;return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(k[e.id]){t.next=4;break}return t.next=3,d.a.organizations.getPermissions({id:e.id});case 3:k[e.id]=t.sent;case 4:return r=k[e.id],t.abrupt("return",r&&r.indirect_add_org_member);case 6:case"end":return t.stop()}}),t)})))()},getMemberRoleName:function(e){return e===u.ROLE.owner?__("空间管理员"):e===u.ROLE.member?__("空间成员"):e===u.ROLE.outsourcer?__("外部联系人"):""},getPaymentAction:function(e){return i.PAYMENT_TYPE.free===e?__("升级付费版"):__("续费")},getPaymentActionGuide:function(e){return i.PAYMENT_TYPE.free===e?__("立即升级"):__("立即续费")},getPaymentFeatureDesc:function(e){return A(A({},i.PAYMENT_TYPE.pro,__("专业版、旗舰版空间专属功能")),i.PAYMENT_TYPE.enterprise,__("旗舰版空间专属功能"))[B.getFeatureBelongsPayment(e)]},getFeatureBelongsPayment:_.getFeatureBelongsPayment,paymentCheck:_.paymentCheck,getFeatureIntro:function(e){return I[e]},getCorpType:function(e){if(!e)return null;switch(c.TYPE[e.type]){case c.TYPE.dingtalk:case c.TYPE.dingtalk_selfcorp:return{addressBookName:__("钉钉通讯录"),corpName:__("钉钉")};case c.TYPE.teambition:case c.TYPE.aone_teambition:return{addressBookName:__("Teambition"),corpName:__("Teambition")};case c.TYPE.weixin:return{addressBookName:__("企业微信通讯录"),corpName:__("企业微信")};default:return null}},getStatusLabel:function(e){var t=e.status;return T[t]},getPaymentBoardStatus:function(e){var t,r=B.isFree(e),n=B.isExpired(e);if(!r&&n)return M.expired;switch(e.payment_type){case i.PAYMENT_TYPE.free:t=M.free;break;case i.PAYMENT_TYPE.enterprise:t=M.vip;break;default:t=M.free}return t},getInviteUrl:function(){var e=arguments;return x(E().mark((function t(){var r,n,o,a;return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.length>0&&void 0!==e[0]?e[0]:{},n=e.length>1&&void 0!==e[1]?e[1]:window.appData.organization,o=window.appData.defaultSpaceHost,a=null,null!=r&&r.token&&(a="".concat(o,"/r/organizations/").concat(n.login,"/join?token=").concat(r.token,"&source=org").concat(r.extraParams?"&extra=".concat(r.extraParams):"")),null==n||!n.id){t.next=10;break}return t.next=8,d.a.organizations.getCurrentCorp();case 8:t.sent&&(a=n.host);case 10:return t.abrupt("return",a);case 11:case"end":return t.stop()}}),t)})))()},getRule:function(e){var t=B.isPremium(e)?e.payment_type:i.PAYMENT_TYPE.free;return s.MEMBER_RULE.Organization[t]},getRuleSize:function(e,t){var r;return null===(r=B.getRule(e))||void 0===r?void 0:r[t]},getMonthMaxUploadSize:function(e,t){return B.isPremium(e)&&null!=t&&t.max_upload_size_month?null==t?void 0:t.max_upload_size_month:B.getRuleSize(e,s.LIMIT_RULE_CODE.max_resource_month_size)},orgWikiRedirect:{redirectToWiki:function(e,t,r){var n;if(null!=e&&e.id&&null!=t&&t.id&&r){var o="".concat(D,"_").concat(t.id,"_").concat(e.id);!f.a.get(o)&&(a()(e.created_at).isSameOrAfter(new Date("2022-10-12"))||a()(t.created_at).isSameOrAfter(new Date("2022-10-12")))&&null!=t&&null!==(n=t.abilities)&&void 0!==n&&n.read_wiki&&(f.a.set(o,!0),r.push({pathname:"/dashboard/org_wiki",hash:window.location.hash,search:window.location.search}))}},setRedirected:function(e,t){if(null!=e&&e.id&&null!=t&&t.id){var r="".concat(D,"_").concat(t.id,"_").concat(e.id);return f.a.set(r,!0),!0}}},getInterestLimitMsg:function(e,t,r){var n=A(A(A(A(A({},s.LIMIT_RULE_CODE.max_group_number,__("团队数量")),s.LIMIT_RULE_CODE.max_member,__("成员数量")),s.LIMIT_RULE_CODE.max_book_collaborator_number,__("协作人数")),s.LIMIT_RULE_CODE.max_doc_collaborator_number,__("协作人数")),s.LIMIT_RULE_CODE.max_resource_month_size,__("本月上传流量"))[e],o=B.getPayment(t),a=B.getInterestActionText(e,t,r);return __("".concat(n,"已达到").concat(o,"上限，").concat(a,"。"),{desc:n,payment:o,actionText:a})},getPayment:function(e){return B.isExpired(e)?B.PAYMENT_MAP[i.PAYMENT_TYPE.free]:B.PAYMENT_MAP[null==e?void 0:e.payment_type]},getInterestActionText:function(e,t,r){var n,o,a={owner:{upgrade:__("请及时进行版本升级"),renew:__("请及时进行版本续费"),expand:__("请及时增加席位")},member:{upgrade:__("请联系管理员进行版本升级"),renew:__("请联系管理员进行版本续费"),expand:__("请联系管理员增加席位")}},i={owner:{upgrade:__("请及时进行版本升级"),renew:__("请及时进行版本续费"),help:__("请及时联系语雀进行处理")},member:{upgrade:__("请联系管理员进行版本升级"),renew:__("请联系管理员进行版本续费"),help:__("请及时联系语雀进行处理")}},u=null==t||null===(n=t.abilities)||void 0===n?void 0:n.destroy,c=null==r||null===(o=r.owner)||void 0===o?void 0:o.isTopLevel,l=e===s.LIMIT_RULE_CODE.max_member,f=B.isExpired(t),d=B.isPremium(t),p=u?"owner":"member";return l?a[p][f?"renew":d?"expand":"upgrade"]:i[p][f?"renew":c?"help":"upgrade"]},genCreateFromKey:function(e){var t,r,n;if(null!==(t=window.appData)&&void 0!==t&&t.isDesktopApp)return e;var o=null===(r=window.location)||void 0===r||null===(n=r.pathname)||void 0===n?void 0:n.split("/").join("_").substring(0,50);return"_"===o?e:"".concat(e,":").concat(o)},ROLE_MAP:S,PAYMENT_BOARD_STATUS:M,PAYMENT_BOARD_STATUS_MAP:R,CREAT_MODE:j,CREAT_MODE_MAP:L,PAYMENT_MAP:P,CERTIFICATION_TYPE_MAP:N,CERTIFICATION_MATERIAL_LIST:C};t.a=B},958:function(e,t,r){"use strict";var n=r(242);r.d(t,"a",(function(){return n.c}))},963:function(e,t,r){"use strict";r(48);var n=r(11),o=r(0),a=r.n(o),i=r(6),u=r.n(i),c=r(20),l=r(87),s=(r(67),r(31)),f=r(5),d=r.n(f),p=r(157),m=r(74),y=(r(589),r(206)),h=(r(227),r(101)),b=(r(40),r(9)),v=(r(53),r(12)),g=(r(188),r(32)),_=r(14),w=r.n(_),E=r(1231),O=r.n(E),x=r(473),A=r(1415),k=r.n(A),T=r(84),S=r(63),P=r(1222),j=r(47),L=(r(310),r(115)),N="index-module_right_3Ce8Y",C="index-module_detailsWrapper_rnkfa",I="index-module_detailTitle_-gjun",M="index-module_details_E5fEt",R="index-module_detailRow_e7YNK",D="index-module_summary_TYNAM",B="index-module_left_m83qX",Y="index-module_summaryTitle_FTeFf",F="index-module_price_5CyQB",U="index-module_divider_Rppou",z=function(e){var t=e.totalAmount,r=e.discountAmount,n=e.details;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:C},a.a.createElement("div",{className:I},__("费用明细")),a.a.createElement("div",{className:M},(null==n?void 0:n.length)>0&&n.map((function(e){return a.a.createElement("div",{className:R},a.a.createElement("span",null,null==e?void 0:e.label),a.a.createElement("span",null,null==e?void 0:e.price))}))),a.a.createElement(L.a,{className:U}),a.a.createElement("div",{className:D},a.a.createElement("div",{className:B},a.a.createElement("div",{className:Y},__("总计")),a.a.createElement("span",{style:{fontSize:"14px"}},__("支持电子发票或专用发票开具"))),a.a.createElement("div",{className:N},a.a.createElement("span",{className:F},"¥",r||t)))))};z.propTypes={totalAmount:u.a.number,discountAmount:u.a.number,details:u.a.number};var G=z,q=(r(130),r(41)),V=(r(138),r(30)),K=r(427),W=r(803),H={paymentSelector:"index-module_paymentSelector_60wvq",paymentItem:"index-module_paymentItem_86B2e",header:"index-module_header_KM0S4",title:"index-module_title_87CwY",icon:"index-module_icon_sjp+e",paymentType:"index-module_paymentType_rBxoj",price:"index-module_price_n7XGL",priceNumber:"index-module_priceNumber_6EuVJ",priceUnit:"index-module_priceUnit_xqqPQ",oldMemberPrice:"index-module_oldMemberPrice_4QJhr",desc:"index-module_desc_5wzpx",active:"index-module_active_HZTq5",disable:"index-module_disable_+DYkl",tooltip:"index-module_tooltip_lMvUZ"};function Q(e){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q(e)}function Z(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=Q(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Q(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Q(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,u=[],c=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return J(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?J(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}w.a.extend(O.a);var $=Object(x.d)((function(e){return e}))((function(e){var t,r=e.className,n=e.actionType,i=e.paymentType,u=e.onPaymentChange,l=e.organization,s=n===c.PAY_MODAL_ACTION.upgrade,f=n===c.PAY_MODAL_ACTION.trial,p=n===c.PAY_MODAL_ACTION.renew,m=W.a.isExpired(l),y=window.appData.organization.memberPrice,b=(t=W.a.isFree(l)?null:l.payment_type,f?t?[t]:[c.PAYMENT_TYPE.pro,c.PAYMENT_TYPE.enterprise]:s?[c.PAYMENT_TYPE.enterprise]:[c.PAYMENT_TYPE.pro,c.PAYMENT_TYPE.enterprise]),v=X(Object(o.useState)(i),2),g=v[0],_=v[1],E=function(e){var t=Math.max(w()(l.expired_at).diff(Date.now(),"day"),1)<=T.MAX_ORG_ALLOW_DOWNGRADE_DAYS;return e===c.PAYMENT_TYPE.pro&&!t&&p&&W.a.isEnterprise(l)},O=Z(Z(Z(Z({},c.PAY_MODAL_ACTION.trial,__("选择适合你的空间版本")),c.PAY_MODAL_ACTION.buy,__("选择适合你的空间版本")),c.PAY_MODAL_ACTION.upgrade,__("版本升级")),c.PAY_MODAL_ACTION.renew,__("当前为{payment}，{memberCount}人，有效期至 {expiredAt}",{payment:W.a.PAYMENT_MAP[l.payment_type],memberCount:l.max_member,expiredAt:w()(l.expired_at).format("YYYY-MM-DD")}));return a.a.createElement("div",{className:d()(H.paymentSelector,r)},a.a.createElement("h4",null,m?O[c.PAY_MODAL_ACTION.buy]:O[n]),a.a.createElement(q.a,{className:H.paymentList,gutter:[8,0]},b.map((function(e,t){var r=T.ORG_AMOUNT_MAP[e],n=E(e),o=(null==l?void 0:l.trialStatus)===K.TRIAL_STATUS.on,i=W.a.isPremium(l),s=e===c.PAYMENT_TYPE.enterprise&&i&&!o?y:0,f=a.a.createElement("div",{className:d()(H.paymentItem,Z({},H.active,e===g),Z({},H.disable,n)),onClick:function(){return function(e){E(e)||(_(e),null==u||u(e))}(e)}},a.a.createElement("div",{className:H.header},a.a.createElement("div",{className:H.title},a.a.createElement(S.b,{name:r.icon,size:18}),a.a.createElement("span",{className:H.paymentType},W.a.PAYMENT_MAP[e])),a.a.createElement("div",{className:H.price},a.a.createElement("span",{className:H.priceNumber},"¥",s>0?s:r.price),a.a.createElement("span",{className:H.priceUnit},__("/人/年")))),s>0&&a.a.createElement("span",{className:H.oldMemberPrice},r.price,__("/人/年")));return a.a.createElement(V.a,{span:24/b.length,key:t},n?a.a.createElement(h.a,{title:a.a.createElement("div",{className:H.tooltip},a.a.createElement("span",null,__("旗舰版到期前 30 天开放选择")),a.a.createElement("a",{href:"https://www.yuque.com/yuque/ng1qth/member-privilege#p5KMh"},__("查看帮助"))),overlayInnerStyle:{display:"inline-block"}},f):f)}))))})),ee={row:"BuyModal-module_row_k9bGD",left:"BuyModal-module_left_U5aM7",right:"BuyModal-module_right_-+dqF",payModal:"BuyModal-module_payModal_RkJau",channel:"BuyModal-module_channel_aD1hq",payBtn:"BuyModal-module_payBtn_JujzZ",promoCode:"BuyModal-module_promoCode_IT7ha",tips:"BuyModal-module_tips_fuHYC",pricingContainer:"BuyModal-module_pricingContainer_tqVEA",pro:"BuyModal-module_pro_J6mfJ",enterprise:"BuyModal-module_enterprise_KQPTt",pricingLeft:"BuyModal-module_pricingLeft_X4ns6",payment:"BuyModal-module_payment_jheFG",icon:"BuyModal-module_icon_UPf-t",paymentDesc:"BuyModal-module_paymentDesc_7e1Uv",paymentCaption:"BuyModal-module_paymentCaption_sAndL",benefitItem:"BuyModal-module_benefitItem_4iuZe",iconWarpper:"BuyModal-module_iconWarpper_j2vhb",title:"BuyModal-module_title_aoygt",desc:"BuyModal-module_desc_nWmKR",pricingRight:"BuyModal-module_pricingRight_p54lJ",avatar:"BuyModal-module_avatar_SRhTt",termsContainer:"BuyModal-module_termsContainer_i187T",statsWrapper:"BuyModal-module_statsWrapper_ZDvF1",statsDesc:"BuyModal-module_statsDesc_1iKOA",compact:"BuyModal-module_compact_qVAW5",active:"BuyModal-module_active_SC0g+",settle:"BuyModal-module_settle_6sm-p",name:"BuyModal-module_name_bL3Ia",memberSizeInput:"BuyModal-module_memberSizeInput_xIYHO",errorMsg:"BuyModal-module_errorMsg_ZbqFE",footer:"BuyModal-module_footer_eF3uw"};function te(){return a.a.createElement("span",null,__("正在准备账户信息，请5分钟后再尝试，如一直未成功，请"),a.a.createElement("a",{href:"/feedbacks/new",target:"_blank"},__("联系语雀")),__("进行处理。"))}function re(e){return re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},re(e)}function ne(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=re(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=re(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==re(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oe(){oe=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof b?t:b,i=Object.create(a.prototype),u=new j(n||[]);return o(i,"_invoke",{value:k(e,r,u)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",p="suspendedYield",m="executing",y="completed",h={};function b(){}function v(){}function g(){}var _={};l(_,i,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(L([])));E&&E!==r&&n.call(E,i)&&(_=E);var O=g.prototype=b.prototype=Object.create(_);function x(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,u){var c=f(e[o],e,a);if("throw"!==c.type){var l=c.arg,s=l.value;return s&&"object"==re(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,u)}),(function(e){r("throw",e,i,u)})):t.resolve(s).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,u)}))}u(c.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function k(t,r,n){var o=d;return function(a,i){if(o===m)throw Error("Generator is already running");if(o===y){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var u=n.delegate;if(u){var c=T(u,n);if(c){if(c===h)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var l=f(t,r,n);if("normal"===l.type){if(o=n.done?y:p,l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=y,n.method="throw",n.arg=l.arg)}}}function T(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,T(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function L(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(re(t)+" is not iterable")}return v.prototype=g,o(O,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:v,configurable:!0}),v.displayName=l(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,l(e,c,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(A.prototype),l(A.prototype,u,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(O),l(O,c,"Generator"),l(O,i,(function(){return this})),l(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=L,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return u.type="throw",u.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],u=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:L(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}function ae(e,t,r,n,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,o)}function ie(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){ae(a,n,o,i,u,"next",e)}function u(e){ae(a,n,o,i,u,"throw",e)}i(void 0)}))}}function ue(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,u=[],c=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ce(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ce(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}w.a.extend(O.a);var le=g.a.Option,se=function(e){var t,r,i,u=e.targetLevel,s=e.actionType,f=e.buyLoading,p=e.handleSubmitBuy,_=e.subAccountInfo,E=e.organization,O=e.paySource,x=s===c.PAY_MODAL_ACTION.upgrade,A=s===c.PAY_MODAL_ACTION.trial,L=l.a.isExpired(E),N=window.appData.interest.usage.member_count,C=function(e,t){var r=window.appData.organization,n=c.PAYMENT_TYPE.pro,o=0;return e===c.PAY_MODAL_ACTION.buy&&(n=t||(r.payment_type===c.PAYMENT_TYPE.free?c.PAYMENT_TYPE.pro:r.payment_type),o=window.appData.interest.usage.member_count),e===c.PAY_MODAL_ACTION.upgrade&&(n=c.PAYMENT_TYPE.enterprise,o=r.max_member),e===c.PAY_MODAL_ACTION.renew&&(n=r.payment_type,o=r.max_member),e===c.PAY_MODAL_ACTION.trial&&(n=(l.a.isFree(r)?null:r.payment_type)||c.PAYMENT_TYPE.pro),{initOrgPayment:n,initMemberSize:o}}(s,u),I=C.initOrgPayment,M=C.initMemberSize,R=ue(Object(o.useState)(I),2),D=R[0],B=R[1],Y=ue(Object(o.useState)(T.PAYMENT_TYPE.normal),2),F=Y[0],U=Y[1],z=ue(Object(o.useState)(M),2),q=z[0],V=z[1],K=ue(Object(o.useState)(M),2),W=K[0],H=K[1],Q=ue(Object(o.useState)(!1),2),Z=Q[0],X=Q[1],J=ue(Object(o.useState)(1),2),re=J[0],ae=J[1],ce=(t=E.expired_at,r=w()(t).diff(Date.now(),"day")||1,i=t&&r>=0?t:w()().endOf("day"),w()(i).add(re,"year")),se=ue(Object(o.useState)(),2),fe=se[0],de=se[1],pe=ue(Object(o.useState)(),2),me=pe[0],ye=pe[1],he=ue(Object(o.useState)(),2),be=he[0],ve=he[1],ge=ue(Object(o.useState)(!1),2),_e=ge[0],we=ge[1],Ee=Object(o.useRef)(null),Oe=function(){_e?Z||p({memberSize:q,duration:re,promoCode:me,paymentType:F,packageType:D,orderType:L?c.PAY_MODAL_ACTION.buy:s}):n.a.info(__("需阅读并同意《语雀空间服务协议》后才能支付"))},xe=function(){var e=ie(oe().mark((function e(){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_e){e.next=3;break}return n.a.info(__("需阅读并同意《语雀空间服务协议》后才能试用")),e.abrupt("return");case 3:if(!Z){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,e.next=8,j.a.organizations.trial({id:E.id,trial_type:D},{ignoreGlobalMessage:!0});case 8:e.sent&&(window.location.search=""),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),n.a.error(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(){return e.apply(this,arguments)}}(),Ae=function(e){U(e)},ke=function(e){var t="",r=e.target.value;if(!r)return V("");if(/^[0-9]*$/g.test(r)){var n=Math.max(w()(E.expired_at).diff(Date.now(),"day"),1)<=T.MAX_ORG_ALLOW_DOWNGRADE_DAYS;r<N&&(t="购买人数应大于等于空间人数"),l.a.isEnterprise(E)&&!n&&r<E.max_member&&(t="旗舰版到期前 30 天可降级人数"),X(t||null),V(Math.min(r,c.MAX_MEMBER_LIMIT)),t||H(Math.min(r,c.MAX_MEMBER_LIMIT))}},Te=Object(o.useCallback)(k()(function(){var e=ie(oe().mark((function e(t){var r,o,a,i,u,c,l;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.actionType,o=t.orderPayment,a=t.orgPayment,i=t.duration,u=t.memberSize,c=t.validPromoCode,!(A||u<=0)){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,j.a.pay.amount({order_type:r,payment_type:o,package_type:a,duration:i,member_size:u,promo_code:c});case 6:l=e.sent,ve(l),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),n.a.warn(__("加载失败"));case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}(),500),[]);Object(o.useEffect)((function(){Te({actionType:s,orderPayment:F,orgPayment:D,duration:re,memberSize:W,validPromoCode:me})}),[D,F,W,re,me]),Object(o.useEffect)((function(){Te({actionType:s,orderPayment:F,orgPayment:D,duration:re,memberSize:W,validPromoCode:me})}),[]);var Se,Pe,je;return a.a.createElement("div",{className:d()(ee.pricingContainer,ee.payModal,ne(ne({},ee.pro,D===c.PAYMENT_TYPE.pro),ee.enterprise,D===c.PAYMENT_TYPE.enterprise)),"data-testid":"renew-package",ref:Ee},a.a.createElement("div",{className:ee.pricingLeft},(Se=D,Pe=T.ORG_AMOUNT_MAP[Se],je=l.a.PAYMENT_MAP[Se],a.a.createElement(a.a.Fragment,null,a.a.createElement("h2",{className:ee.payment},je,__("空间"),a.a.createElement(S.b,{name:null==Pe?void 0:Pe.icon,className:ee.icon,size:28})),a.a.createElement("div",{className:ee.paymentDesc},Pe.desc),a.a.createElement("a",{className:ee.paymentCaption,href:"https://www.yuque.com/about/price",target:"_blank"},__("查看完整权益介绍"),a.a.createElement(S.b,{name:"arrow-right",size:16,className:ee.icon})),a.a.createElement("ul",{className:ee.benefitList},Pe.introList.map((function(e,t){return a.a.createElement("li",{className:ee.benefitItem,key:null==e?void 0:e.title},a.a.createElement("div",{className:ee.iconWarpper},a.a.createElement(S.b,{className:ee.icon,name:null==e?void 0:e.icon,size:24})),a.a.createElement("h4",{className:ee.title},null==e?void 0:e.title),a.a.createElement("p",{className:ee.desc},null==e?void 0:e.desc))})))))),a.a.createElement("div",{className:ee.pricingRight},a.a.createElement($,{actionType:s,paymentType:D,onPaymentChange:function(e){return B(e)}}),a.a.createElement("div",{className:ee.row,style:{alignItems:"flex-start"}},x?a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:ee.left},a.a.createElement("div",null,__("空间人数"))),a.a.createElement("div",{className:ee.right},a.a.createElement("div",null,__("{memberSize} 人",{memberSize:E.max_member})))):A?a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:ee.left},a.a.createElement("div",null,__("试用人数")),a.a.createElement("p",{className:ee.tips},__("当前空间 {memberSize} 人",{memberSize:N}))),a.a.createElement("div",{className:ee.right},a.a.createElement("div",null,__("{memberSize} 人",{memberSize:l.a.isFree(E)?c.TRAIL_MAX_MEMBER:E.max_member})))):a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:ee.left},a.a.createElement("div",null,a.a.createElement("div",null,__("购买人数")),a.a.createElement("p",{className:ee.tips},__("当前空间席位 {memberSize} 人",{memberSize:E.maxMember})))),a.a.createElement("div",{className:ee.right},a.a.createElement("div",{className:ee.memberSizeInput},a.a.createElement(v.a,{value:q,onChange:ke,style:{width:100},suffix:__("人")}),Z&&a.a.createElement("div",{className:ee.errorMsg},Z))))),A&&a.a.createElement("div",{className:ee.row,style:{alignItems:"flex-start"}},a.a.createElement("div",{className:ee.left},__("试用期限")),a.a.createElement("div",{className:ee.right},__("可使用至 {date}",{date:w()().add(c.TRIAL_DAYS,"day").format("YYYY-MM-DD")}))),!A&&!x&&a.a.createElement("div",{className:ee.row},a.a.createElement("div",{className:ee.left},__("购买时长"),a.a.createElement("p",{className:ee.tips},__("可使用至")," ",ce.format("YYYY-MM-DD"))),a.a.createElement("div",{className:ee.right},a.a.createElement("div",{className:ee.inputNumber},a.a.createElement(g.a,{className:ee.select,defaultValue:1,value:re,onChange:function(e){return ae(e)},style:{width:100}},[1,2,3].map((function(e){return a.a.createElement(le,{value:e,key:e},e,__("年"))})))))),!A&&a.a.createElement("div",{className:ee.row},a.a.createElement("div",{className:ee.left},__("支付方式")),a.a.createElement("div",{className:ee.right},a.a.createElement(b.a,{className:d()(ee.channel,ne({},ee.active,F===T.PAYMENT_TYPE.normal)),onClick:function(){return Ae(T.PAYMENT_TYPE.normal)},icon:a.a.createElement(S.b,{name:"icon-zhi",size:16})},__("支付宝")),_?a.a.createElement(b.a,{className:d()(ee.channel,ee.settle,ne({},ee.active,F===T.PAYMENT_TYPE.settle)),onClick:function(){return Ae(T.PAYMENT_TYPE.settle)},icon:a.a.createElement(S.b,{name:"icon-bank",size:16})},__("银行转账")):a.a.createElement(h.a,{title:a.a.createElement(te,null),placement:"top"},a.a.createElement(b.a,{className:d()(ee.channel,ee.settle),icon:a.a.createElement(S.b,{name:"icon-bank",size:16}),disabled:!0},__("银行转账"))))),!A&&!x&&a.a.createElement("div",{className:ee.row},a.a.createElement("div",{className:ee.left},__("优惠码#upper")),a.a.createElement("div",{className:ee.right},a.a.createElement("div",{style:{width:172},className:ee.promoCode},a.a.createElement(P.a,{value:fe,orderType:s,packageType:D,promoUsage:"organization",onChange:function(e){return de(e)},onVerifySuccess:function(e){return ye(null==e?void 0:e.code)}})))),!A&&be&&a.a.createElement(G,{totalAmount:be.totalAmount,discountAmount:be.discountAmount,details:be.details}),a.a.createElement("div",{className:ee.footer},A?a.a.createElement(b.a,{"data-testid":"buy-button",type:"primary",onClick:xe,className:ee.payBtn},__("免费试用 15 天")):a.a.createElement(b.a,{"data-aspm-click":m.ORG_LIMIT_SPM.create_order,"data-aspm-param":"pay_source=".concat(O,"^org_id=").concat(null==E?void 0:E.id,"^org_payment_type=").concat(null==E?void 0:E.payment_type,"^"),"data-testid":"buy-button",type:"primary",loading:f,onClick:Oe,className:ee.payBtn},f?__("购买中"):__("确认购买")),a.a.createElement("p",{className:ee.termsContainer},a.a.createElement(y.a,{onChange:function(){return we(!_e)},checked:_e,"data-testid":"check-terms"},__("我已阅读并同意")),a.a.createElement("a",{target:"_blank",href:"/org-terms"},__("《语雀空间服务协议》"))))))};se.propTypes={actionType:u.a.number,buyLoading:u.a.bool,handleSubmitBuy:u.a.func,max_member:u.a.number,subAccountInfo:u.a.object,targetLevel:u.a.oneOf([c.PAYMENT_TYPE.pro,c.PAYMENT_TYPE.enterprise]),organization:u.a.object,paySource:u.a.string};var fe=Object(x.d)((function(e){return e}))(se),de={row:"BuyMember-module_row_9srYf",left:"BuyMember-module_left_kE3og",right:"BuyMember-module_right_Oni7O",payModal:"BuyMember-module_payModal_ID058",channel:"BuyMember-module_channel_oCioT",payBtn:"BuyMember-module_payBtn_2QBqR",promoCode:"BuyMember-module_promoCode_3q8my",tips:"BuyMember-module_tips_0MaeW",pricingContainer:"BuyMember-module_pricingContainer_oSImw",expiredDesc:"BuyMember-module_expiredDesc_kyKaA",active:"BuyMember-module_active_hyrgK"};function pe(e){return pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pe(e)}function me(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=pe(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=pe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==pe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ye(){ye=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof b?t:b,i=Object.create(a.prototype),u=new j(n||[]);return o(i,"_invoke",{value:k(e,r,u)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",p="suspendedYield",m="executing",y="completed",h={};function b(){}function v(){}function g(){}var _={};l(_,i,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(L([])));E&&E!==r&&n.call(E,i)&&(_=E);var O=g.prototype=b.prototype=Object.create(_);function x(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,u){var c=f(e[o],e,a);if("throw"!==c.type){var l=c.arg,s=l.value;return s&&"object"==pe(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,u)}),(function(e){r("throw",e,i,u)})):t.resolve(s).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,u)}))}u(c.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function k(t,r,n){var o=d;return function(a,i){if(o===m)throw Error("Generator is already running");if(o===y){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var u=n.delegate;if(u){var c=T(u,n);if(c){if(c===h)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var l=f(t,r,n);if("normal"===l.type){if(o=n.done?y:p,l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=y,n.method="throw",n.arg=l.arg)}}}function T(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,T(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function L(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(pe(t)+" is not iterable")}return v.prototype=g,o(O,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:v,configurable:!0}),v.displayName=l(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,l(e,c,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(A.prototype),l(A.prototype,u,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(O),l(O,c,"Generator"),l(O,i,(function(){return this})),l(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=L,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return u.type="throw",u.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],u=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:L(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}function he(e,t,r,n,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,o)}function be(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,u=[],c=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ve(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ve(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var ge=function(e){var t,r=e.buyLoading,i=e.handleSubmitBuy,u=e.subAccountInfo,s=e.organization,f=e.paySource,p=c.ORDER_TYPE.buyMember,g=be(Object(o.useState)(!1),2),_=g[0],E=g[1],O=be(Object(o.useState)(1),2),x=O[0],A=O[1],k=Object(o.useRef)(null),P=be(Object(o.useState)(T.PAYMENT_TYPE.normal),2),L=P[0],N=P[1],C=be(Object(o.useState)(),2),I=C[0],M=C[1],R=(null==s?void 0:s.max_member)+Number(x),D=function(){var e,t=(e=ye().mark((function e(){var t;return ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(x<=0)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,j.a.pay.amount({order_type:p,payment_type:L,package_type:s.payment_type,member_size:R});case 5:t=e.sent,M(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),n.a.warn(__("加载失败"));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){he(a,n,o,i,u,"next",e)}function u(e){he(a,n,o,i,u,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();return Object(o.useEffect)((function(){D()}),[x]),Object(o.useEffect)((function(){D()}),[]),a.a.createElement("div",{className:d()(de.pricingContainer,de.payModal),"data-testid":"buy-member-modal",ref:k},a.a.createElement("h2",null,__("人数扩容")),a.a.createElement("p",{className:de.expiredDesc},__("扩容后有效期至：{date}",{date:w()(null==s?void 0:s.expired_at).format("YYYY-MM-DD")})),a.a.createElement("div",{className:de.row},a.a.createElement("div",{className:de.left},__("当前版本")),a.a.createElement("div",{className:de.right},null===(t=l.a.PAYMENT_MAP)||void 0===t?void 0:t[null==s?void 0:s.payment_type])),a.a.createElement("div",{className:de.row},a.a.createElement("div",{className:de.left},a.a.createElement("div",null,a.a.createElement("div",null,__("增购人数")),a.a.createElement("p",{className:de.tips},__("已购空间席位 {memberSize} 人，购买后共 {newMemberSize} 人",{memberSize:s.maxMember,newMemberSize:R})))),a.a.createElement("div",{className:de.right},a.a.createElement("div",{className:de.memberSizeInput},a.a.createElement(v.a,{value:x,onChange:function(e){var t=e.target.value;if(!t)return A("");!/^[0-9]*$/g.test(t)||t<0||A(Math.min(t,c.MAX_MEMBER_LIMIT))},style:{width:100},suffix:__("人")})))),a.a.createElement("div",{className:de.row},a.a.createElement("div",{className:de.left},__("支付方式")),a.a.createElement("div",{className:de.right},a.a.createElement(b.a,{className:d()(de.channel,me({},de.active,L===T.PAYMENT_TYPE.normal)),onClick:function(){return N(T.PAYMENT_TYPE.normal)},icon:a.a.createElement(S.b,{name:"icon-zhi",size:16})},__("支付宝")),u?a.a.createElement(b.a,{className:d()(de.channel,me({},de.active,L===T.PAYMENT_TYPE.settle)),style:{marginLeft:"12px"},onClick:function(){return N(T.PAYMENT_TYPE.settle)},icon:a.a.createElement(S.b,{name:"icon-bank",size:16})},__("银行转账")):a.a.createElement(h.a,{title:a.a.createElement(te,null),placement:"top"},a.a.createElement(b.a,{className:de.channel,icon:a.a.createElement(S.b,{name:"icon-bank",size:16}),disabled:!0},__("银行转账"))))),I&&a.a.createElement(G,{totalAmount:I.totalAmount,discountAmount:I.discountAmount,details:I.details}),a.a.createElement("div",{className:de.footer},a.a.createElement(b.a,{"data-aspm-click":m.ORG_LIMIT_SPM.create_order,"data-aspm-param":"pay_source=".concat(f,"^org_id=").concat(null==s?void 0:s.id,"^org_payment_type=").concat(null==s?void 0:s.payment_type,"^"),"data-testid":"buy-button",type:"primary",loading:r,onClick:function(){_?x<=0||i({memberIntrement:x,paymentType:L,orderType:p}):n.a.info(__("需阅读并同意《语雀空间服务协议》后才能支付"))},className:de.payBtn},r?__("购买中"):__("确认升级")),a.a.createElement("p",{className:de.termsContainer},a.a.createElement(y.a,{onChange:function(){E(!_)},checked:_,"data-testid":"check-terms"},__("我已阅读并同意")),a.a.createElement("a",{target:"_blank",href:"/org-terms"},__("《语雀空间服务协议》")))))};ge.propTypes={buyLoading:u.a.bool,handleSubmitBuy:u.a.func,subAccountInfo:u.a.object,organization:u.a.object,paySource:u.a.string};var _e=Object(x.d)((function(e){return e}))(ge),we=(r(175),r(44)),Ee=r(1456),Oe=r.n(Ee),xe=r(1432),Ae="Pay-module_left_u3-Jq",ke="Pay-module_totalInfo_YM7Fb",Te="Pay-module_footer_MsuSK",Se="Pay-module_termsContainer_MMlAf",Pe="Pay-module_pricingContainer_hjkUd",je="Pay-module_desc_a1fXI",Le="Pay-module_dashline_y-S0k",Ne="Pay-module_inputNumber_Uaz26",Ce="Pay-module_priceTag_ot6Kz",Ie="Pay-module_hasDiscount_KLNoP",Me="Pay-module_discountPrice_HbCLz",Re="Pay-module_discountPriceValue_CUsg2",De="Pay-module_uploadPackages_VO59r",Be="Pay-module_uploadPackageCard_6UXsL",Ye="Pay-module_selectedUploadCard_yWd2Y",Fe="Pay-module_uploadSize_WpwBc",Ue="Pay-module_uploadPackagePrice_zQPrm",ze="Pay-module_promo_sD6ap";function Ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,u=[],c=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return qe(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?qe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Ve=function(e){var t=e.buyLoading,r=e.handleSubmitBuy,i=e.promoCode,u=e.setPromoCode,l=e.handlePaymentTypeChange,s=e.subAccountInfo,f=Ge(Object(o.useState)(!1),2),d=f[0],p=f[1],m=Ge(Object(o.useState)(!1),2),v=m[0],g=m[1],_=Ge(Object(o.useState)(T.ORG_UPLOAD_SIZE_MAP["100G"].value),2),w=_[0],E=_[1],O=Oe()({order_type:c.ORDER_TYPE.data,upload_size:w}),x=Object(xe.a)({totalAmount:O,setPromoCode:u}),A=x.totalAmountWithPromo,k=x.onVerifySuccess,j=x.handlePromoChange,L=window.appData.organization,N=void 0===L?{}:L;return a.a.createElement("div",{className:Pe,"data-testid":"buy-upload"},a.a.createElement("div",{className:je},__("流量购买后对{orgName}空间账户长期有效",{orgName:N.name})),a.a.createElement("h3",null,__("流量包")),a.a.createElement("div",{className:De},Object.keys(T.ORG_UPLOAD_SIZE_MAP).map((function(e){return a.a.createElement("div",{key:T.ORG_UPLOAD_SIZE_MAP[e].value,className:"".concat(Be," ").concat(w===T.ORG_UPLOAD_SIZE_MAP[e].value?Ye:""),onClick:function(){return E(T.ORG_UPLOAD_SIZE_MAP[e].value)}},a.a.createElement("div",{className:Fe},e),a.a.createElement("div",{className:Ue},T.ORG_UPLOAD_SIZE_MAP[e].price," ",__("元")))}))),a.a.createElement("h3",null,__("支付方式")),a.a.createElement(we.a.Group,{defaultValue:T.PAYMENT_TYPE.normal,onChange:function(e){return l(e.target.value)},style:{marginTop:8}},a.a.createElement(we.a.Button,{value:T.PAYMENT_TYPE.normal},__("支付宝")),s?a.a.createElement(we.a.Button,{value:T.PAYMENT_TYPE.settle},__("银行转账")):a.a.createElement(h.a,{title:a.a.createElement(te,null),placement:"top"},a.a.createElement(we.a.Button,{value:T.PAYMENT_TYPE.settle,disabled:!0},__("银行转账")))),a.a.createElement("div",{className:ze,style:{marginTop:24}},a.a.createElement("div",{className:Ae,onClick:function(){p(!d)}},a.a.createElement(S.b,{name:"promo",width:18})," ",__("优惠码")),d&&a.a.createElement("div",{style:{width:240},className:Ne},a.a.createElement(P.a,{value:i,promoUsage:"organization",onChange:j,onVerifySuccess:k}))),a.a.createElement("p",{className:Le}),a.a.createElement("h3",null,__("费用总计"),"："),a.a.createElement("div",{className:ke},a.a.createElement("span",{className:"".concat(Ce," ").concat(A?Ie:"")},O)," ",__("元"),A&&a.a.createElement("span",{className:Me},__("优惠价")," ",a.a.createElement("span",{className:Re},A||O)," ",__("元"))),a.a.createElement("div",{className:Te},a.a.createElement(b.a,{"data-testid":"buy-button",type:"primary",loading:t,onClick:function(){v?r({uploadSize:w,total_amount:O}):n.a.info(__("需阅读并同意《语雀空间服务协议》后才能支付"))}},t?__("购买中"):__("立即支付")),a.a.createElement("p",{className:Se},a.a.createElement(y.a,{onChange:function(){g(!v)},checked:v,"data-testid":"check-terms"},__("我已阅读并同意")),a.a.createElement("a",{target:"_blank",href:"/org-terms"},"《语雀空间服务协议》"))))};Ve.propTypes={buyLoading:u.a.bool,handleSubmitBuy:u.a.func,promoCode:u.a.string,setPromoCode:u.a.func,handlePaymentTypeChange:u.a.func,subAccountInfo:u.a.object};var Ke=Ve,We="Qrcode-module_qrcodeImageCon_yy+Gi",He="Qrcode-module_alipayIconInQrCode_5Ng19",Qe="Qrcode-module_qrcodeContainer_c79eX",Ze="Qrcode-module_qrcodeImage_UEIyZ",Xe="Qrcode-module_desc1_ArZR9",Je="Qrcode-module_desc2_E5sDl",$e="Qrcode-module_qrcodeTitleCon_-LJr2",et="Qrcode-module_qrcodeTitleDesc_OOQby",tt="Qrcode-module_qrcodeTitleValue_PBwE+",rt=function(e){var t=e.qrcodeUrl,r=e.totalAmount;return a.a.createElement("div",{className:Qe,"data-testid":"qrcode"},a.a.createElement("div",{className:$e},a.a.createElement("div",{className:et},__("扫一扫付款 (元)")),a.a.createElement("div",{className:tt},r)),a.a.createElement("div",{className:We},a.a.createElement("div",{className:He},a.a.createElement("img",{src:"https://gw.alipayobjects.com/mdn/prod_resou/afts/img/A*GE2FQLYZ4kAAAAAAAAAAAABjARQnAQ"})),a.a.createElement("img",{className:Ze,src:t})),a.a.createElement("div",{className:Xe},__("打开手机支付宝，扫一扫继续付款")),a.a.createElement("div",{className:Je},__("付款后可在线申请发票")))};rt.propTypes={qrcodeUrl:u.a.string,totalAmount:u.a.number};var nt=rt,ot="PayModal-module_noLineModal_r4djn",at="PayModal-module_payModal_1VmRL",it="PayModal-module_largeModal_reIw0";function ut(e){return ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ut(e)}function ct(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function lt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=ut(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ut(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ut(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var st,ft=function(e){var t=e.type,r=e.targetLevel,n=e.qrcodeUrl,i=e.visible,u=e.onCancel,l=e.buyLoading,f=e.memberSize,y=e.max_member,h=e.handleMemberChange,b=e.handleSubmitBuy,v=e.handleSelectPackage,g=e.duration,_=e.handleDurationChange,w=e.remaining,E=e.totalAmount,O=e.organizationInfo,x=void 0===O?{}:O,A=e.promoCode,k=e.setPromoCode,T=e.currentMember,S=e.subAccountInfo,P=e.paySource,j=null,L=[c.PAY_MODAL_ACTION.upgrade,c.PAY_MODAL_ACTION.renew,c.PAY_MODAL_ACTION.trial,c.PAY_MODAL_ACTION.buy].includes(t);switch(t){case"qrcode":j=a.a.createElement(nt,{qrcodeUrl:n,totalAmount:E});break;case c.PAY_MODAL_ACTION.buy:case c.PAY_MODAL_ACTION.upgrade:case c.PAY_MODAL_ACTION.renew:case c.PAY_MODAL_ACTION.trial:j=a.a.createElement(fe,{actionType:t,targetLevel:r,handleSelectPackage:v,remaining:w,max_member:y,memberSize:f,handleMemberChange:h,duration:g,handleDurationChange:_,buyLoading:l,handleSubmitBuy:b,organizationInfo:x,promoCode:A,setPromoCode:k,currentMember:T,subAccountInfo:S,paySource:P});break;case c.PAY_MODAL_ACTION.buyMember:j=a.a.createElement(_e,{max_member:y,memberSize:f,handleMemberChange:h,buyLoading:l,handleSubmitBuy:b,organizationInfo:x,promoCode:A,setPromoCode:k,currentMember:T,subAccountInfo:S,paySource:P});break;case c.PAY_MODAL_ACTION.data:j=a.a.createElement(Ke,{buyLoading:l,handleSubmitBuy:b,promoCode:A,setPromoCode:k,subAccountInfo:S})}var N=[c.PAY_MODAL_ACTION.renew,c.PAY_MODAL_ACTION.buyMember].includes(t)?"":ot,C=lt(lt(lt(lt(lt({},c.PAY_MODAL_ACTION.upgrade,860),c.PAY_MODAL_ACTION.renew,860),c.PAY_MODAL_ACTION.trial,860),c.PAY_MODAL_ACTION.buy,860),c.PAY_MODAL_ACTION.buyMember,420);return Object(o.useEffect)((function(){var e=[c.PAY_MODAL_ACTION.trial].includes(t);if(i&&e)Object(p.spmClick)(m.ORG_LIMIT_SPM.start_trial,{pay_source:P,org_id:x.id,org_payment_type:x.payment_type});else{var r=[c.PAY_MODAL_ACTION.buy,c.PAY_MODAL_ACTION.renew,c.PAY_MODAL_ACTION.upgrade,c.PAY_MODAL_ACTION.buyMember].includes(t);i&&r&&Object(p.spmClick)(m.ORG_LIMIT_SPM.start_pay,{pay_source:P,order_type:t,org_id:x.id,org_payment_type:x.payment_type,org_trial_status:x.trialStatus})}}),[]),a.a.createElement(s.a,{visible:i,maskClosable:!1,onCancel:u,footer:null,width:C[t]||560,centered:!0,className:d()(N,at,lt({},it,L))},a.a.createElement("div",{"data-testid":"pay-modal"},j))};ft.propTypes={type:u.a.oneOf(["qrcode"].concat((st=Object.values(c.PAY_MODAL_ACTION),function(e){if(Array.isArray(e))return ct(e)}(st)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(st)||function(e,t){if(e){if("string"==typeof e)return ct(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ct(e,t):void 0}}(st)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))),visible:u.a.bool,qrcodeUrl:u.a.string,onCancel:u.a.func,buyLoading:u.a.bool,memberSize:u.a.number,max_member:u.a.number,handleMemberChange:u.a.func,handleSubmitBuy:u.a.func,handleSelectPackage:u.a.func,duration:u.a.number,handleDurationChange:u.a.func,remaining:u.a.number,totalAmount:u.a.number,organizationInfo:u.a.object,promoCode:u.a.string,setPromoCode:u.a.func,handlePaymentTypeChange:u.a.func,currentMember:u.a.number,subAccountInfo:u.a.object,paySource:u.a.string};var dt=ft,pt="ProcessingModal-module_processContainer_dOZ9t",mt="ProcessingModal-module_processImg_Fl+7o",yt="ProcessingModal-module_processInfo_VPh0u",ht=function(e){var t=e.visible;return a.a.createElement(s.a,{title:null,visible:t,maskClosable:!1,closable:!1,footer:null,centered:!0,width:480},a.a.createElement("div",{className:pt,"data-testid":"processing-modal"},a.a.createElement("img",{className:mt,src:"https://gw.alipayobjects.com/mdn/prod_resou/afts/img/A*7q7fR4_EUQQAAAAAAAAAAABjARQnAQ"}),a.a.createElement("p",{className:yt},__("付费更新中，请稍后..."))))};ht.propTypes={visible:u.a.bool};var bt=ht,vt=r(382),gt=r(347),_t="PaidSuccessModal-module_successModalContainer_gb6Iw",wt="PaidSuccessModal-module_successModalInfoCon_aLoy0",Et="PaidSuccessModal-module_successModalButtonCon_BP8Ns",Ot="PaidSuccessModal-module_applyReceiptButton_BrptN",xt="PaidSuccessModal-module_checkUploadButton_n0Sct",At="PaidSuccessModal-module_successModalSubTitle_Hq8oy",kt="PaidSuccessModal-module_successModalItem_EBnTl",Tt="PaidSuccessModal-module_successModalBlank_3ENdm",St=function(e){var t,r=e.organizationInfo,n=void 0===r?{}:r,o=e.visible,i=e.onClose,u=e.onClickApplyReceipt,f=window.appData.me,d=n.name,p=n.expired_at,m=n.order_id,y=n.order_type,h=n.package_type,v=n.duration,g=n.upload_size,_=n.max_member,E=n.member_increment,O=n.amount,x=n.order_updated_at,A="",k="",T="",S=!1,P=!1,j=!1,L=!1,N="",C="";switch(y){case c.ORDER_TYPE.buy:A=__(__("恭喜你，语雀空间成功升级为{payment}",{payment:l.a.PAYMENT_MAP[h]})),k=__("套餐"),T=__("{payment}｜{max_member}人套餐",{payment:l.a.PAYMENT_MAP[h],max_member:_}),S=!0,P=!0,j=!1,N="//gw.alipayobjects.com/mdn/prod_resou/afts/img/A*Jr-6TomkfQ0AAAAAAAAAAAAAARQnAQ",C="//gw.alipayobjects.com/mdn/prod_resou/afts/img/A*v1AKQ5xxigYAAAAAAAAAAAAAARQnAQ";break;case c.ORDER_TYPE.renew:A=__("恭喜你，语雀空间{action}成功",{action:l.a.getPaymentAction(null===(t=window.appData.organization)||void 0===t?void 0:t.payment_type)}),k=__("套餐"),T=__("{payment}｜{max_member}人套餐",{payment:l.a.PAYMENT_MAP[h],max_member:_}),S=!0,P=!0,j=!1,N="//gw.alipayobjects.com/mdn/prod_resou/afts/img/A*Jr-6TomkfQ0AAAAAAAAAAAAAARQnAQ",C="//gw.alipayobjects.com/mdn/prod_resou/afts/img/A*v1AKQ5xxigYAAAAAAAAAAAAAARQnAQ";break;case c.ORDER_TYPE.upgrade:A=__("恭喜你，语雀空间升级成功"),k=__("套餐"),T=__("{payment}｜{max_member}人套餐",{payment:l.a.PAYMENT_MAP[h],max_member:_}),S=!0,P=!1,j=!1,N="//gw.alipayobjects.com/mdn/prod_resou/afts/img/A*Jr-6TomkfQ0AAAAAAAAAAAAAARQnAQ",C="//gw.alipayobjects.com/mdn/prod_resou/afts/img/A*v1AKQ5xxigYAAAAAAAAAAAAAARQnAQ";break;case c.ORDER_TYPE.buyMember:A=__("恭喜你，空间人数规模升级成功"),j=!1,L=!0,N="//gw.alipayobjects.com/mdn/prod_resou/afts/img/A*Jr-6TomkfQ0AAAAAAAAAAAAAARQnAQ",C="//gw.alipayobjects.com/mdn/prod_resou/afts/img/A*v1AKQ5xxigYAAAAAAAAAAAAAARQnAQ";break;case c.ORDER_TYPE.data:A=__("恭喜你，上传流量购买成功"),k=__("上传流量"),T="".concat(Object(gt.getSizeValue)(g).value).concat(Object(gt.getSizeValue)(g).unit),N="https://gw.alipayobjects.com/zos/basement_prod/39563d69-6bdd-4ee3-8844-0f549452d13f.svg"}return a.a.createElement(s.a,{className:"paid-success-modal",title:null,visible:o,maskClosable:!1,onCancel:i,footer:null,centered:!0,width:480},a.a.createElement("div",{className:_t,"data-testid":"paid-success-modal"},a.a.createElement(vt.a,{src:N,darkSrc:C}),a.a.createElement("div",{className:wt},a.a.createElement("h1",{style:{fontSize:"18px"}},A),a.a.createElement("p",{className:Tt}),a.a.createElement("p",{className:At},__("订单信息")),a.a.createElement("p",{className:kt},__("空间名称"),"：",d),a.a.createElement("p",{className:kt},__("订单号"),"：",m),k&&a.a.createElement("p",{className:kt},k,"：",T),P&&a.a.createElement("p",{className:kt},__("购买时长"),"：",v," ",__("年")),j&&a.a.createElement("p",{className:kt},__("人数规模"),"：",__("{max_member}人",{max_member:_})),L&&a.a.createElement("p",{className:kt},__("增购人数"),"：",__("{member_increment} 人",{member_increment:E})),a.a.createElement("p",{className:kt},__("付款金额"),"：",O," ",__("元")),a.a.createElement("p",{className:kt},__("付款人"),"：",f&&f.name),a.a.createElement("p",{className:kt},__("付款时间"),"：",w()(x).format("YYYY-MM-DD HH:mm:ss")),S&&a.a.createElement("p",{className:kt},__("到期时间"),"：",w()(p).format("YYYY-MM-DD HH:mm:ss")),a.a.createElement("div",{className:Et},a.a.createElement(b.a,{type:"primary",onClick:i,"data-testid":"close-button"},__("立即使用")),a.a.createElement(b.a,{className:Ot,onClick:function(){return u()}},__("申请开票")),y===c.ORDER_TYPE.data&&a.a.createElement(b.a,{className:xt,href:"/r/organizations/dashboard/cashier"},__("查看上传流量"))))))};St.propTypes={organizationInfo:u.a.object.isRequired,visible:u.a.bool,onClose:u.a.func,onClickApplyReceipt:u.a.func};var Pt=St,jt=(r(207),r(49)),Lt=r(712),Nt=r(711),Ct={contactTips:"ReceiptModal-module_contactTips_f0fAJ",receiptTypeTitle:"ReceiptModal-module_receiptTypeTitle_mZi8G",receiptTypeTitleText:"ReceiptModal-module_receiptTypeTitleText_QQBhY",receiptDesc:"ReceiptModal-module_receiptDesc_fY2bw"};function It(e){return It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},It(e)}function Mt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Rt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Mt(Object(r),!0).forEach((function(t){Dt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Dt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=It(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=It(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==It(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,u=[],c=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Yt(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Yt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Ft=jt.a.create()(Lt.a),Ut=jt.a.create()(Nt.a),zt=function(e){var t=e.visible,r=e.organizationInfo,i=e.handleApplyReceiptCancel,u=e.hasReceipt,c=e.setHasReceipt,l=(window.appData||{}).organization,f=void 0===l?{}:l,d=(window.appData.paymentInfo||{}).receipt,p=d&&void 0!==d.type?d.type:1,m=Bt(Object(o.useState)(p),2),y=m[0],h=m[1],b=Bt(Object(o.useState)(!0),2),v=b[0],g=b[1],_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";(0,e.form.validateFields)((function(e,o){if(!e){var a=T.RECEIPT_TYPES[t];j.a.organizationReceipts.create(Rt(Rt({},o),{},{type:a,order_id:r.order_id,organization_id:f.id})).then((function(e){n.a.success(__("已成功提交发票申请")),c(!0),i()}))}}))};return a.a.createElement(s.a,{className:"receipt-success-modal",title:a.a.createElement(a.a.Fragment,null,u?__("已提交申请"):__("申请发票"),a.a.createElement("p",{className:Ct.receiptDesc},__("发票将在申请后的 7 个工作日内开具，目前处于升级数电发票的过渡期，详情请查看"),a.a.createElement("a",{href:"https://www.yuque.com/yuque/qa/ul74ukuugy5wvuqd",target:"_blank"},__("关于开具数电发票的通知")))),visible:t,maskClosable:!1,closable:u,onCancel:i,footer:null,centered:!0,width:500},a.a.createElement("div",{className:Ct.receiptContainer,"data-testid":"receipt-modal"},u?a.a.createElement("p",{className:Ct.contactTips},__("如需帮助请联系"),"：support@yuque.com"):a.a.createElement("div",{className:Ct.receiptTypeTitle},a.a.createElement(we.a.Group,{disabled:u||!v,onChange:function(){h(0===y?1:0)},value:y},a.a.createElement(we.a,{value:1},__("专用发票")),a.a.createElement(we.a,{value:0},__("普通电子发票")))),0===y?a.a.createElement(Ft,{handleClickReceiptConfirm:_,handleApplyReceiptCancel:i,handleReceiptChange:g,data:d,isFinished:u,isOrganization:!0}):a.a.createElement(Ut,{handleClickReceiptConfirm:_,handleApplyReceiptCancel:i,handleReceiptChange:g,data:d,isFinished:u})))};zt.propTypes={visible:u.a.bool,organizationInfo:u.a.object,handleApplyReceiptCancel:u.a.func,hasReceipt:u.a.bool,setHasReceipt:u.a.func};var Gt=zt,qt=(r(177),r(58)),Vt=r(1428),Kt={wrapper:"SubAccountInfoModal-module_wrapper_P6mlj",infoField:"SubAccountInfoModal-module_infoField_IMZ6p",infoFieldTitle:"SubAccountInfoModal-module_infoFieldTitle_tgwmv",infoFieldPaymentAlert:"SubAccountInfoModal-module_infoFieldPaymentAlert_UOLk7",buttons:"SubAccountInfoModal-module_buttons_rfW-e",btn:"SubAccountInfoModal-module_btn_WuNy4",loading:"SubAccountInfoModal-module_loading_sNKQL",loadingIcon:"SubAccountInfoModal-module_loadingIcon_M7IJr",loadingCircle:"SubAccountInfoModal-module_loadingCircle_mPmQ5",loadingDesc:"SubAccountInfoModal-module_loadingDesc_QHGbP"};function Wt(e){return Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wt(e)}function Ht(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Qt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ht(Object(r),!0).forEach((function(t){Jt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ht(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Zt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,u=[],c=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Xt(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Xt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Jt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=Wt(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Wt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Wt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var $t=Jt(Jt(Jt(Jt(Jt(Jt({},c.ORDER_TYPE.buy,__("购买空间")),c.ORDER_TYPE.upgrade,__("升级空间")),c.ORDER_TYPE.renew,__("续费空间")),c.ORDER_TYPE.buyMember,__("购买空间人数")),c.ORDER_TYPE.data,__("购买空间流量")),c.ORDER_TYPE.downgrade,__("降级空间")),er=function(e){var t,r=(window.appData.paymentInfo||{}).order_type,n=function(e){var t=void 0!==e.orderTypeFromAppData,r=Zt(Object(o.useState)(!t),2),n=r[0],a=r[1],i=$t[e.orderTypeFromAppData]||"";return{state:Qt(Qt({},e),{},{showExistedTips:t,showMainField:n,orderTypeName:i}),setShowMainField:a}}(Qt(Qt({},e),{},{orderTypeFromAppData:r})),i=n.state,u=i.visible,c=i.subAccountInfo,l=i.closeSettleOrder,f=i.closeAccountInfoModal,d=i.showExistedTips,p=i.showMainField,m=i.orderTypeName,y=n.setShowMainField;return a.a.createElement(s.a,{title:__("购买空间套餐"),visible:u,maskClosable:!1,closable:!0,footer:null,centered:!0,width:550,onCancel:f},c&&c.order?a.a.createElement("div",{className:Kt.wrapper,"data-testid":"subaccount-modal"},d&&!p&&a.a.createElement("div",{className:Kt.tips},a.a.createElement("div",null,__("你有订单尚未完成，请先完成订单或取消订单")),a.a.createElement("div",{className:Kt.buttons},a.a.createElement(b.a,{type:"primary",onClick:function(){return y(!0)},className:Kt.btn},__("去查看")))),p&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:Kt.infoField},r&&a.a.createElement("p",null,a.a.createElement("span",{className:Kt.infoFieldTitle},__("订单类型")),m),a.a.createElement("p",null,a.a.createElement("span",{className:Kt.infoFieldTitle},__("转账金额")),c.order.amount," ",__("元")),a.a.createElement("p",null,a.a.createElement("span",{className:Kt.infoFieldTitle},__("收款公司")),c.local_account_name),a.a.createElement("p",null,a.a.createElement("span",{className:Kt.infoFieldTitle},__("收款账户")),c.account_no_4_credit_transfer),a.a.createElement("p",null,a.a.createElement("span",{className:Kt.infoFieldTitle},__("开户行")),c.local_bank_name_4_transfer)),a.a.createElement("div",{className:Kt.infoField},a.a.createElement("p",null,a.a.createElement("span",{className:Kt.infoFieldTitle},__("订单号")),c.order.order_id),a.a.createElement("div",null,__("请于 10 日内转账付款，银行转账有 1~3 个工作日延迟，收到转账后将以短信形式通知您开通情况。")),a.a.createElement("div",null,__("如有任何疑问，请发邮件到")," ",a.a.createElement("a",{href:"mailto:support@yuque.com"},"support@yuque.com")," ",__("，会有专人协助您解决。"))),a.a.createElement("div",{className:Kt.buttons},a.a.createElement(qt.a,{title:__("你确定取消订单吗？"),onConfirm:l,okText:__("取消订单"),cancelText:__("再想想")},a.a.createElement(b.a,{type:"danger",className:Kt.btn},__("取消订单")))))):(t=__("正在准备相关信息，可能需等待 1-5 分钟"),a.a.createElement("div",{className:Kt.loading},a.a.createElement(Vt.default,{className:Kt.loadingIcon}),t&&a.a.createElement("div",{className:Kt.loadingDesc},t))))};er.propTypes={visible:u.a.bool,subAccountInfo:u.a.object,closeSettleOrder:u.a.func,closeAccountInfoModal:u.a.func};var tr=er,rr=r(1230),nr=r.n(rr),or=r(1427),ar=r.n(or),ir=r(88),ur=r.n(ir);function cr(e){return cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cr(e)}function lr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function sr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lr(Object(r),!0).forEach((function(t){pr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function fr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,u=[],c=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return dr(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?dr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function pr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=cr(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=cr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==cr(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var mr,yr=!1,hr=function(e,t){if(e.max_member<t){var r=c.PRICE_STAGES.find((function(e){return e.member>t}));if(r)return r.member}return e.max_member},br=j.a.pay,vr=br.create,gr=br.buyMember,_r=br.buyUpload,wr=br.downgrade,Er=br.upgrade,Or=br.renew,xr=pr(pr(pr(pr(pr(pr({},c.ORDER_TYPE.buy,vr),c.ORDER_TYPE.upgrade,Er),c.ORDER_TYPE.renew,Or),c.ORDER_TYPE.buyMember,gr),c.ORDER_TYPE.data,_r),c.ORDER_TYPE.downgrade,wr),Ar=function(e){var t,r=e.organization,n=void 0===r?{}:r,a=e.visible,i=void 0!==a&&a,u=e.type,l=void 0===u?"buyModal":u,s=e.actionType,f=e.onClose,d=window.appData.paymentInfo||{},p=d.order_id,m=d.receipt,y=d.isSettleOrder,h=fr(Object(o.useState)(!1),2),b=h[0],v=h[1],g=fr(Object(o.useState)(!1),2),_=g[0],E=g[1],O=fr(Object(o.useState)(!1),2),x=O[0],A=O[1],k=fr(Object(o.useState)(!1),2),S=k[0],P=k[1],L=fr(Object(o.useState)(!1),2),N=L[0],C=L[1],I=fr(Object(o.useState)(null),2),M=I[0],R=I[1],D=fr(Object(o.useState)(!!m),2),B=D[0],Y=D[1],F=fr(Object(o.useState)(!1),2),U=F[0],z=F[1],G=fr(Object(o.useState)(sr(sr({},n),{},{order_id:p})),2),q=G[0],V=G[1],K=fr(Object(o.useState)(1===n.payment_type),2),W=K[0],H=K[1],Q=fr(Object(o.useState)(null),2),Z=Q[0],X=Q[1],J=fr(Object(o.useState)(null),2),$=J[0],ee=J[1],te=fr(Object(o.useState)(n.members_count||n.max_member),2),re=te[0],ne=te[1],oe=s===c.ORDER_TYPE.renew?hr(q,re):null===(t=c.PRICE_STAGES.find((function(e){return e.member>=n.max_member})))||void 0===t?void 0:t.member,ae=fr(Object(o.useState)(oe),2),ie=ae[0],ue=ae[1],ce=fr(Object(o.useState)(1),2),le=ce[0],se=ce[1],fe=fr(Object(o.useState)(0),2),de=fe[0],pe=fe[1],me=fr(Object(o.useState)(),2),ye=me[0],he=me[1],be=Object(o.useRef)(null),ve=function(){A(!1),P(!0)},ge=function(e){j.a.pay.query({order_id:e}).then((function(t){return t.isFinished?(v(!1),E(!1),A(!0),H(!0),void V(t)):(t.isPaid&&(v(!1),E(!0),H(!0)),t.isClosed?(v(!1),E(!1),void A(!1)):void((t.isPaid||t.needQuery)&&(be.current=setTimeout((function(){return ge(e)}),3e3))))}))},_e=function(e){j.a.pay.query({order_id:e}).then((function(t){return t.isFinished?(v(!1),E(!1),A(!0),H(!0),void V(t)):t.isClosed?(v(!1),E(!1),void A(!1)):(t.account_no&&(R(t),v(!1),C(!0)),void(t.needQuery&&(v(!1),C(!0),be.current=setTimeout((function(){return _e(e)}),3e3))))}))},we=function(){if(mr||y)return C(!0),void _e(mr||p);if(s===c.ORDER_TYPE.buyMember){var e=c.PRICE_STAGES.find((function(e){return e.member>n.max_member}));ue(e?e.member:c.MAX_MEMBER_LIMIT)}X(null),z(!1),v(!0)};Object(o.useEffect)((function(){if(i){switch(l){case"buyModal":we();break;case"receiptModal":ve()}j.a.organizations.membersCount({id:n.id}).then(ne),M||j.a.pay.getSettleAccount({order_id:mr||p}).then(R)}}),[i]),Object(o.useEffect)((function(){if(!yr&&(yr=!0,!W&&window.appData.paymentInfo&&!y)){var e=nr.a.parse(window.location.search).order_id,t=window.appData.paymentInfo,r=t.orderExpired,n=t.isFinished;if(p&&!n)return function(e){var t=window.location,r="".concat(t.protocol,"//").concat(t.host).concat(t.pathname,"?order_id=").concat(e);t.href=r}(p);r?window.location.href=window.location.pathname:e&&(E(!0),ge(e))}}),[b]),Object(o.useEffect)((function(){return function(){be.current&&(clearTimeout(be.current),be.current=null)}}),[]);var Ee=n.max_member;if(Object(o.useEffect)((function(){if(s===c.ORDER_TYPE.renew){var e=hr(q,re);ue(e)}}),[oe]),!window.appData.paymentInfo)return{};var Oe=function(e,t){f&&f(),e&&window.location.assign(t||window.location.origin+window.location.pathname)},xe=q.expired_at,Ae=w()(xe).diff(Date.now(),"day")||1;return{payModalVisible:b,processModalVisible:_,successModalVisible:x,receiptModalVisible:S,subAccountInfoModalVisible:N,subAccountInfo:M,startToApplyReceipt:ve,buyLoading:U,organizationInfo:q,payModalType:Z?"qrcode":s,qrcodeUrl:$,handleSubmitBuy:function(e){var t=e.orderType||c.ORDER_TYPE.buy;if(!U){z(!0);var r={member_increment:null==e?void 0:e.memberIntrement,member_size:null==e?void 0:e.memberSize,duration:null==e?void 0:e.duration,promo_code:null==e?void 0:e.promoCode,payment_type:null==e?void 0:e.paymentType,package_type:null==e?void 0:e.packageType};(null==e?void 0:e.paymentType)===T.PAYMENT_TYPE.settle?xr[t](r).then((function(e){z(!1);var t=e.order_id;pe(+e.amount),mr=t,_e(t)})).catch((function(){z(!1)})):xr[t](r).then((function(e){z(!1);var t=e.out_trade_no;X({orderId:t,url:e.qr_code}),ar.a.toDataURL(e.qr_code,(function(e,t){ee(t)})),pe(+e.totalAmount),ge(t)})).catch((function(){z(!1)}))}},handlePayModalCancel:function(){v(!1),Oe(!1)},handleApplyReceiptCancel:function(){P(!1),Oe(!0,"/r/organizations/dashboard/cashier/orders")},handleMemberChange:function(e){ue(e)},closePaidSuccessModal:function(){A(!1),Oe(!0)},memberSize:ie,hasReceipt:B,setHasReceipt:Y,duration:le,handleDurationChange:function(e){se(e)},remaining:Ae,totalAmount:de,promoCode:ye,setPromoCode:he,closeAccountInfoModal:function(){f&&f(),be.current&&(clearTimeout(be.current),be.current=null),C(!1)},closeSettleOrder:function(){var e=ur()(M,"order.order_id");e&&j.a.pay.close({order_id:e}).then((function(){window.location.reload()}))},currentMember:re,maxMember:Ee}},kr=function(e){var t=e.organization,r=e.visible,o=e.type,i=e.actionType,u=e.targetLevel,s=e.onClose,f=e.paySource,d=Ar({organization:t,visible:r,type:o,actionType:i,onClose:s}),p=d.payModalVisible,m=d.processModalVisible,y=d.successModalVisible,h=d.receiptModalVisible,b=d.subAccountInfoModalVisible,v=d.subAccountInfo,g=d.startToApplyReceipt,_=d.buyLoading,w=d.organizationInfo,E=void 0===w?{}:w,O=d.payModalType,x=d.qrcodeUrl,A=d.handleSubmitBuy,k=d.handlePayModalCancel,T=d.handleApplyReceiptCancel,S=d.handleMemberChange,P=d.closePaidSuccessModal,j=d.hasReceipt,L=d.setHasReceipt,N=d.duration,C=d.handleDurationChange,I=d.remaining,M=d.totalAmount,R=d.closeAccountInfoModal,D=d.closeSettleOrder,B=l.a.isPremium(t),Y=l.a.isFree(t);return i===c.PAY_MODAL_ACTION.buy&&B?(n.a.warning(__("已付费空间不允许重复购买")),null):i!==c.PAY_MODAL_ACTION.upgrade||B?i===c.PAY_MODAL_ACTION.renew&&Y?(n.a.warning(__("标准版空间无法续费，请直接购买")),null):a.a.createElement("div",{"data-testid":"org-pay-flow"},a.a.createElement(dt,{key:"pay-modal-".concat(p),visible:p,type:O,targetLevel:u,qrcodeUrl:x,onCancel:k,buyLoading:_,handleMemberChange:S,handleSubmitBuy:A,duration:N,handleDurationChange:C,remaining:I,organizationInfo:E,totalAmount:M,subAccountInfo:v,paySource:f}),a.a.createElement(bt,{key:"process-modal-".concat(m),visible:m}),a.a.createElement(Pt,{key:"success-modal-".concat(y),visible:y,organizationInfo:E,onClose:P,onClickApplyReceipt:g}),a.a.createElement(Gt,{key:"receipt-modal-".concat(h),visible:h,organizationInfo:E,handleApplyReceiptCancel:T,hasReceipt:j,setHasReceipt:L}),a.a.createElement(tr,{key:"subaccount-modal-".concat(b),visible:b,subAccountInfo:v,closeAccountInfoModal:R,closeSettleOrder:D})):(n.a.warning(__("非付费空间无法升级")),null)};kr.propTypes={organization:u.a.object.isRequired,type:u.a.oneOf(["buyModal","receiptModal"]),actionType:u.a.oneOf(Object.values(c.PAY_MODAL_ACTION)),visible:u.a.bool,onClose:u.a.func,targetLevel:u.a.oneOf([c.PAYMENT_TYPE.pro,c.PAYMENT_TYPE.enterprise]),paySource:u.a.string};t.a=kr},974:function(e,t,r){"use strict";var n=r(1439);r.d(t,"a",(function(){return n.a})),r.d(t,"b",(function(){return n.b})),r.d(t,"c",(function(){return n.c})),r.d(t,"d",(function(){return n.e})),r.d(t,"e",(function(){return n.f})),r.d(t,"f",(function(){return n.g})),r.d(t,"g",(function(){return n.h})),r.d(t,"h",(function(){return n.i})),r.d(t,"i",(function(){return n.j})),r.d(t,"j",(function(){return n.k})),r.d(t,"k",(function(){return n.l})),r.d(t,"l",(function(){return n.m})),r.d(t,"m",(function(){return n.n})),r.d(t,"n",(function(){return n.o}))},986:function(e,t,r){"use strict";r.d(t,"d",(function(){return n})),r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return i}));var n=function(e){return e.GROUP="Group",e.BOOK="Book",e.ASSISTANT="GroupAssistant",e}({}),o=function(e){return e.GroupAssistant="GroupAssistant",e.UserAssistant="UserAssistant",e.BookAssistant="BookAssistant",e.ReadAssistant="ReadAssistant",e.SheetAssistant="SheetAssistant",e.DataTableAssistant="DataTableAssistant",e.PaintAssistant="PaintAssistant",e.ReviewAssistant="ReviewAssistant",e.CodeFuseAssistant="CodeFuseAssistant",e.OutlineAssistant="OutlineAssistant",e.OpsGptAssistant="OpsGptAssistant",e.ThirdPartyAssistant="ThirdPartyAssistant",e.DocGenAssistant="DocGenAssistant",e.CorrectionAssistant="CorrectionAssistant",e.ArrangementAssistant="ArrangementAssistant",e}({}),a=Object.values(o),i={BUILTIN:"BUILTIN",REMOTE:"REMOTE"}}}]);